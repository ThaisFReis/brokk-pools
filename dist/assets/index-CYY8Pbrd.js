const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BRtt5sOf.js","assets/react-vendor-Bon8Abu2.js","assets/index-CexNA7ea.js"])))=>i.map(i=>d[i]);
var t=Object.defineProperty,e=(e,n,r)=>((e,n,r)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r)(e,"symbol"!=typeof n?n+"":n,r);import{r as n,a as r,g as i,c as o,b as s,R as a}from"./react-vendor-Bon8Abu2.js";!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver(t=>{for(const n of t)if("childList"===n.type)for(const t of n.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)}).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),"use-credentials"===t.crossOrigin?e.credentials="include":"anonymous"===t.crossOrigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();var c={exports:{}},l={},u=n,h=Symbol.for("react.element"),d=Symbol.for("react.fragment"),f=Object.prototype.hasOwnProperty,p=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m={key:!0,ref:!0,__self:!0,__source:!0};function g(t,e,n){var r,i={},o=null,s=null;for(r in void 0!==n&&(o=""+n),void 0!==e.key&&(o=""+e.key),void 0!==e.ref&&(s=e.ref),e)f.call(e,r)&&!m.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps)void 0===i[r]&&(i[r]=e[r]);return{$$typeof:h,type:t,key:o,ref:s,props:i,_owner:p.current}}l.Fragment=d,l.jsx=g,l.jsxs=g,c.exports=l;var y=c.exports,w={},b=r;w.createRoot=b.createRoot,w.hydrateRoot=b.hydrateRoot;
/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
var v="popstate";function x(t={}){return function(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a="POP",c=null,l=u();null==l&&(l=0,s.replaceState({...s.state,idx:l},""));function u(){return(s.state||{idx:null}).idx}function h(){a="POP";let t=u(),e=null==t?null:t-l;l=t,c&&c({action:a,location:m.location,delta:e})}function d(t,e){a="PUSH";let n=A(m.location,t,e);l=u()+1;let r=S(n,l),h=m.createHref(n);try{s.pushState(r,"",h)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;i.location.assign(h)}o&&c&&c({action:a,location:m.location,delta:1})}function f(t,e){a="REPLACE";let n=A(m.location,t,e);l=u();let r=S(n,l),i=m.createHref(n);s.replaceState(r,"",i),o&&c&&c({action:a,location:m.location,delta:0})}function p(t){return function(t,e=!1){let n="http://localhost";"undefined"!=typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href);E(n,"No window.location.(origin|href) available to create URL");let r="string"==typeof t?t:k(t);r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r);return new URL(r,n)}(t)}let m={get action(){return a},get location(){return t(i,s)},listen(t){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(v,h),c=t,()=>{i.removeEventListener(v,h),c=null}},createHref:t=>e(i,t),createURL:p,encodeLocation(t){let e=p(t);return{pathname:e.pathname,search:e.search,hash:e.hash}},push:d,replace:f,go:t=>s.go(t)};return m}(function(t,e){let{pathname:n,search:r,hash:i}=t.location;return A("",{pathname:n,search:r,hash:i},e.state&&e.state.usr||null,e.state&&e.state.key||"default")},function(t,e){return"string"==typeof e?e:k(e)},0,t)}function E(t,e){if(!1===t||null==t)throw new Error(e)}function M(t,e){if(!t)try{throw new Error(e)}catch(n){}}function S(t,e){return{usr:t.state,key:t.key,idx:e}}function A(t,e,n=null,r){return{pathname:"string"==typeof t?t:t.pathname,search:"",hash:"",..."string"==typeof e?I(e):e,state:n,key:e&&e.key||r||Math.random().toString(36).substring(2,10)}}function k({pathname:t="/",search:e="",hash:n=""}){return e&&"?"!==e&&(t+="?"===e.charAt(0)?e:"?"+e),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function I(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function N(t,e,n="/"){return function(t,e,n,r){let i="string"==typeof e?I(e):e,o=W(i.pathname||"/",n);if(null==o)return null;let s=L(t);!function(t){t.sort((t,e)=>t.score!==e.score?e.score-t.score:function(t,e){let n=t.length===e.length&&t.slice(0,-1).every((t,n)=>t===e[n]);return n?t[t.length-1]-e[e.length-1]:0}(t.routesMeta.map(t=>t.childrenIndex),e.routesMeta.map(t=>t.childrenIndex)))}(s);let a=null;for(let c=0;null==a&&c<s.length;++c){let t=F(o);a=U(s[c],t,r)}return a}(t,e,n,!1)}function L(t,e=[],n=[],r="",i=!1){let o=(t,o,s=i,a)=>{let c={relativePath:void 0===a?t.path||"":a,caseSensitive:!0===t.caseSensitive,childrenIndex:o,route:t};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(r)&&s)return;E(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length)}let l=$([r,c.relativePath]),u=n.concat(c);t.children&&t.children.length>0&&(E(!0!==t.index,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),L(t.children,e,u,l,s)),(null!=t.path||t.index)&&e.push({path:l,score:z(l,t.index),routesMeta:u})};return t.forEach((t,e)=>{if(""!==t.path&&t.path?.includes("?"))for(let n of B(t.path))o(t,e,!0,n);else o(t,e)}),e}function B(t){let e=t.split("/");if(0===e.length)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let s=B(r.join("/")),a=[];return a.push(...s.map(t=>""===t?o:[o,t].join("/"))),i&&a.push(...s),a.map(e=>t.startsWith("/")&&""===e?"/":e)}var j=/^:[\w-]+$/,C=3,_=2,T=1,R=10,O=-2,D=t=>"*"===t;function z(t,e){let n=t.split("/"),r=n.length;return n.some(D)&&(r+=O),e&&(r+=_),n.filter(t=>!D(t)).reduce((t,e)=>t+(j.test(e)?C:""===e?T:R),r)}function U(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let t=r[a],c=a===r.length-1,l="/"===o?e:e.slice(o.length)||"/",u=P({path:t.relativePath,caseSensitive:t.caseSensitive,end:c},l),h=t.route;if(!u&&c&&n&&!r[r.length-1].route.index&&(u=P({path:t.relativePath,caseSensitive:t.caseSensitive,end:!1},l)),!u)return null;Object.assign(i,u.params),s.push({params:i,pathname:$([o,u.pathname]),pathnameBase:V($([o,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(o=$([o,u.pathnameBase]))}return s}function P(t,e){"string"==typeof t&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=function(t,e=!1,n=!0){M("*"===t||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(t,e,n)=>(r.push({paramName:e,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");t.endsWith("*")?(r.push({paramName:"*"}),i+="*"===t||"/*"===t?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==t&&"/"!==t&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,e?void 0:"i");return[o,r]}(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((t,{paramName:e,isOptional:n},r)=>{if("*"===e){let t=a[r]||"";s=o.slice(0,o.length-t.length).replace(/(.)\/+$/,"$1")}const i=a[r];return t[e]=n&&!i?void 0:(i||"").replace(/%2F/g,"/"),t},{}),pathname:o,pathnameBase:s,pattern:t}}function F(t){try{return t.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(e){return M(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function W(t,e){if("/"===e)return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&"/"!==r?null:t.slice(n)||"/"}function q(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function K(t){let e=function(t){return t.filter((t,e)=>0===e||t.route.path&&t.route.path.length>0)}(t);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function H(t,e,n,r=!1){let i;"string"==typeof t?i=I(t):(i={...t},E(!i.pathname||!i.pathname.includes("?"),q("?","pathname","search",i)),E(!i.pathname||!i.pathname.includes("#"),q("#","pathname","hash",i)),E(!i.search||!i.search.includes("#"),q("#","search","hash",i)));let o,s=""===t||""===i.pathname,a=s?"/":i.pathname;if(null==a)o=n;else{let t=e.length-1;if(!r&&a.startsWith("..")){let e=a.split("/");for(;".."===e[0];)e.shift(),t-=1;i.pathname=e.join("/")}o=t>=0?e[t]:"/"}let c=function(t,e="/"){let{pathname:n,search:r="",hash:i=""}="string"==typeof t?I(t):t,o=n?n.startsWith("/")?n:function(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(t=>{".."===t?n.length>1&&n.pop():"."!==t&&n.push(t)}),n.length>1?n.join("/"):"/"}(n,e):e;return{pathname:o,search:Z(r),hash:Y(i)}}(i,o),l=a&&"/"!==a&&a.endsWith("/"),u=(s||"."===a)&&n.endsWith("/");return c.pathname.endsWith("/")||!l&&!u||(c.pathname+="/"),c}var $=t=>t.join("/").replace(/\/\/+/g,"/"),V=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Z=t=>t&&"?"!==t?t.startsWith("?")?t:"?"+t:"",Y=t=>t&&"#"!==t?t.startsWith("#")?t:"#"+t:"";var G=["POST","PUT","PATCH","DELETE"];new Set(G);var Q=["GET",...G];new Set(Q);var J=n.createContext(null);J.displayName="DataRouter";var X=n.createContext(null);X.displayName="DataRouterState",n.createContext(!1);var tt=n.createContext({isTransitioning:!1});tt.displayName="ViewTransition",n.createContext(new Map).displayName="Fetchers",n.createContext(null).displayName="Await";var et=n.createContext(null);et.displayName="Navigation";var nt=n.createContext(null);nt.displayName="Location";var rt=n.createContext({outlet:null,matches:[],isDataRoute:!1});rt.displayName="Route";var it=n.createContext(null);function ot(){return null!=n.useContext(nt)}function st(){return E(ot(),"useLocation() may be used only in the context of a <Router> component."),n.useContext(nt).location}it.displayName="RouteError";var at="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ct(t){n.useContext(et).static||n.useLayoutEffect(t)}function lt(){let{isDataRoute:t}=n.useContext(rt);return t?function(){let{router:t}=function(t){let e=n.useContext(J);return E(e,gt(t)),e}("useNavigate"),e=yt("useNavigate"),r=n.useRef(!1);return ct(()=>{r.current=!0}),n.useCallback(async(n,i={})=>{M(r.current,at),r.current&&("number"==typeof n?t.navigate(n):await t.navigate(n,{fromRouteId:e,...i}))},[t,e])}():function(){E(ot(),"useNavigate() may be used only in the context of a <Router> component.");let t=n.useContext(J),{basename:e,navigator:r}=n.useContext(et),{matches:i}=n.useContext(rt),{pathname:o}=st(),s=JSON.stringify(K(i)),a=n.useRef(!1);return ct(()=>{a.current=!0}),n.useCallback((n,i={})=>{if(M(a.current,at),!a.current)return;if("number"==typeof n)return void r.go(n);let c=H(n,JSON.parse(s),o,"path"===i.relative);null==t&&"/"!==e&&(c.pathname="/"===c.pathname?e:$([e,c.pathname])),(i.replace?r.replace:r.push)(c,i.state,i)},[e,r,s,o,t])}()}function ut(t,{relative:e}={}){let{matches:r}=n.useContext(rt),{pathname:i}=st(),o=JSON.stringify(K(r));return n.useMemo(()=>H(t,JSON.parse(o),i,"path"===e),[t,o,i,e])}function ht(t,e,r,i,o){E(ot(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=n.useContext(et),{matches:a}=n.useContext(rt),c=a[a.length-1],l=c?c.params:{},u=c?c.pathname:"/",h=c?c.pathnameBase:"/",d=c&&c.route;{let t=d&&d.path||"";bt(u,!d||t.endsWith("*")||t.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${t}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${t}"> to <Route path="${"/"===t?"*":`${t}/*`}">.`)}let f,p=st();if(e){let t="string"==typeof e?I(e):e;E("/"===h||t.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${t.pathname}" was given in the \`location\` prop.`),f=t}else f=p;let m=f.pathname||"/",g=m;if("/"!==h){let t=h.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(t.length).join("/")}let y=N(t,{pathname:g});M(d||null!=y,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),M(null==y||void 0!==y[y.length-1].route.element||void 0!==y[y.length-1].route.Component||void 0!==y[y.length-1].route.lazy,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=function(t,e=[],r=null,i=null){if(null==t){if(!r)return null;if(r.errors)t=r.matches;else{if(0!==e.length||r.initialized||!(r.matches.length>0))return null;t=r.matches}}let o=t,s=r?.errors;if(null!=s){let t=o.findIndex(t=>t.route.id&&void 0!==s?.[t.route.id]);E(t>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),o=o.slice(0,Math.min(o.length,t+1))}let a=!1,c=-1;if(r)for(let n=0;n<o.length;n++){let t=o[n];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(c=n),t.route.id){let{loaderData:e,errors:n}=r,i=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!n||void 0===n[t.route.id]);if(t.route.lazy||i){a=!0,o=c>=0?o.slice(0,c+1):[o[0]];break}}}return o.reduceRight((t,l,u)=>{let h,d=!1,f=null,p=null;r&&(h=s&&l.route.id?s[l.route.id]:void 0,f=l.route.errorElement||ft,a&&(c<0&&0===u?(bt("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,p=null):c===u&&(d=!0,p=l.route.hydrateFallbackElement||null)));let m=e.concat(o.slice(0,u+1)),g=()=>{let e;return e=h?f:d?p:l.route.Component?n.createElement(l.route.Component,null):l.route.element?l.route.element:t,n.createElement(mt,{match:l,routeContext:{outlet:t,matches:m,isDataRoute:null!=r},children:e})};return r&&(l.route.ErrorBoundary||l.route.errorElement||0===u)?n.createElement(pt,{location:r.location,revalidation:r.revalidation,component:f,error:h,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0},unstable_onError:i}):g()},null)}(y&&y.map(t=>Object.assign({},t,{params:Object.assign({},l,t.params),pathname:$([h,s.encodeLocation?s.encodeLocation(t.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:t.pathname]),pathnameBase:"/"===t.pathnameBase?h:$([h,s.encodeLocation?s.encodeLocation(t.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:t.pathnameBase])})),a,r,i,o);return e&&w?n.createElement(nt.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},w):w}function dt(){let t=function(){let t=n.useContext(it),e=function(t){let e=n.useContext(X);return E(e,gt(t)),e}("useRouteError"),r=yt("useRouteError");if(void 0!==t)return t;return e.errors?.[r]}(),e=function(t){return null!=t&&"number"==typeof t.status&&"string"==typeof t.statusText&&"boolean"==typeof t.internal&&"data"in t}(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},a=null;return a=n.createElement(n.Fragment,null,n.createElement("p",null,"ðŸ’¿ Hey developer ðŸ‘‹"),n.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",n.createElement("code",{style:s},"ErrorBoundary")," or"," ",n.createElement("code",{style:s},"errorElement")," prop on your route.")),n.createElement(n.Fragment,null,n.createElement("h2",null,"Unexpected Application Error!"),n.createElement("h3",{style:{fontStyle:"italic"}},e),r?n.createElement("pre",{style:o},r):null,a)}n.createContext(null);var ft=n.createElement(dt,null),pt=class extends n.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||"idle"!==e.revalidation&&"idle"===t.revalidation?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:void 0!==t.error?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError&&this.props.unstable_onError(t,e)}render(){return void 0!==this.state.error?n.createElement(rt.Provider,{value:this.props.routeContext},n.createElement(it.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function mt({routeContext:t,match:e,children:r}){let i=n.useContext(J);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),n.createElement(rt.Provider,{value:t},r)}function gt(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yt(t){let e=function(t){let e=n.useContext(rt);return E(e,gt(t)),e}(t),r=e.matches[e.matches.length-1];return E(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}var wt={};function bt(t,e,n){e||wt[t]||(wt[t]=!0,M(!1,n))}function vt(t){E(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function xt({basename:t="/",children:e=null,location:r,navigationType:i="POP",navigator:o,static:s=!1}){E(!ot(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),c=n.useMemo(()=>({basename:a,navigator:o,static:s,future:{}}),[a,o,s]);"string"==typeof r&&(r=I(r));let{pathname:l="/",search:u="",hash:h="",state:d=null,key:f="default"}=r,p=n.useMemo(()=>{let t=W(l,a);return null==t?null:{location:{pathname:t,search:u,hash:h,state:d,key:f},navigationType:i}},[a,l,u,h,d,f,i]);return M(null!=p,`<Router basename="${a}"> is not able to match the URL "${l}${u}${h}" because it does not start with the basename, so the <Router> won't render anything.`),null==p?null:n.createElement(et.Provider,{value:c},n.createElement(nt.Provider,{children:e,value:p}))}function Et({children:t,location:e}){return ht(Mt(t),e)}function Mt(t,e=[]){let r=[];return n.Children.forEach(t,(t,i)=>{if(!n.isValidElement(t))return;let o=[...e,i];if(t.type===n.Fragment)return void r.push.apply(r,Mt(t.props.children,o));E(t.type===vt,`[${"string"==typeof t.type?t.type:t.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),E(!t.props.index||!t.props.children,"An index route cannot have child routes.");let s={id:t.props.id||o.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,middleware:t.props.middleware,loader:t.props.loader,action:t.props.action,hydrateFallbackElement:t.props.hydrateFallbackElement,HydrateFallback:t.props.HydrateFallback,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:!0===t.props.hasErrorBoundary||null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(s.children=Mt(t.props.children,o)),r.push(s)}),r}n.memo(function({routes:t,future:e,state:n,unstable_onError:r}){return ht(t,void 0,n,r,e)});var St="get",At="application/x-www-form-urlencoded";function kt(t){return null!=t&&"string"==typeof t.tagName}var It=null;var Nt=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lt(t){return null==t||Nt.has(t)?t:(M(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${At}"`),null)}function Bt(t,e){let n,r,i,o,s;if(kt(a=t)&&"form"===a.tagName.toLowerCase()){let s=t.getAttribute("action");r=s?W(s,e):null,n=t.getAttribute("method")||St,i=Lt(t.getAttribute("enctype"))||At,o=new FormData(t)}else if(function(t){return kt(t)&&"button"===t.tagName.toLowerCase()}(t)||function(t){return kt(t)&&"input"===t.tagName.toLowerCase()}(t)&&("submit"===t.type||"image"===t.type)){let s=t.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=t.getAttribute("formaction")||s.getAttribute("action");if(r=a?W(a,e):null,n=t.getAttribute("formmethod")||s.getAttribute("method")||St,i=Lt(t.getAttribute("formenctype"))||Lt(s.getAttribute("enctype"))||At,o=new FormData(s,t),!function(){if(null===It)try{new FormData(document.createElement("form"),0),It=!1}catch(t){It=!0}return It}()){let{name:e,type:n,value:r}=t;if("image"===n){let t=e?`${e}.`:"";o.append(`${t}x`,"0"),o.append(`${t}y`,"0")}else e&&o.append(e,r)}}else{if(kt(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=St,r=null,i=At,s=t}var a;return o&&"text/plain"===i&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}function jt(t,e){if(!1===t||null==t)throw new Error(e)}function Ct(t){return null!=t&&(null==t.href?"preload"===t.rel&&"string"==typeof t.imageSrcSet&&"string"==typeof t.imageSizes:"string"==typeof t.rel&&"string"==typeof t.href)}async function _t(t,e,n){return function(t,e){let n=new Set;return new Set(e),t.reduce((t,e)=>{let r=JSON.stringify(function(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}(e));return n.has(r)||(n.add(r),t.push({key:r,link:e})),t},[])}((await Promise.all(t.map(async t=>{let r=e.routes[t.route.id];if(r){let t=await async function(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}(r,n);return t.links?t.links():[]}return[]}))).flat(1).filter(Ct).filter(t=>"stylesheet"===t.rel||"preload"===t.rel).map(t=>"stylesheet"===t.rel?{...t,rel:"prefetch",as:"style"}:{...t,rel:"prefetch"}))}function Tt(t,e,n,r,i,o){let s=(t,e)=>!n[e]||t.route.id!==n[e].route.id,a=(t,e)=>n[e].pathname!==t.pathname||n[e].route.path?.endsWith("*")&&n[e].params["*"]!==t.params["*"];return"assets"===o?e.filter((t,e)=>s(t,e)||a(t,e)):"data"===o?e.filter((e,o)=>{let c=r.routes[e.route.id];if(!c||!c.hasLoader)return!1;if(s(e,o)||a(e,o))return!0;if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:e.params,defaultShouldRevalidate:!0});if("boolean"==typeof r)return r}return!0}):[]}function Rt(t,e,{includeHydrateFallback:n}={}){return r=t.map(t=>{let r=e.routes[t.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1),[...new Set(r)];var r}function Ot(){let t=n.useContext(J);return jt(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Dt=n.createContext(void 0);function zt(){let t=n.useContext(Dt);return jt(t,"You must render this element inside a <HydratedRouter> element"),t}function Ut(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Pt({page:t,...e}){let{router:r}=Ot(),i=n.useMemo(()=>N(r.routes,t,r.basename),[r.routes,t,r.basename]);return i?n.createElement(Ft,{page:t,matches:i,...e}):null}function Ft({page:t,matches:e,...r}){let i=st(),{manifest:o,routeModules:s}=zt(),{basename:a}=Ot(),{loaderData:c,matches:l}=function(){let t=n.useContext(X);return jt(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}(),u=n.useMemo(()=>Tt(t,e,l,o,i,"data"),[t,e,l,o,i]),h=n.useMemo(()=>Tt(t,e,l,o,i,"assets"),[t,e,l,o,i]),d=n.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let n=new Set,r=!1;if(e.forEach(t=>{let e=o.routes[t.route.id];e&&e.hasLoader&&(!u.some(e=>e.route.id===t.route.id)&&t.route.id in c&&s[t.route.id]?.shouldRevalidate||e.hasClientLoader?r=!0:n.add(t.route.id))}),0===n.size)return[];let l=function(t,e,n){let r="string"==typeof t?new URL(t,"undefined"==typeof window?"server://singlefetch/":window.location.origin):t;return"/"===r.pathname?r.pathname=`_root.${n}`:e&&"/"===W(r.pathname,e)?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}(t,a,"data");return r&&n.size>0&&l.searchParams.set("_routes",e.filter(t=>n.has(t.route.id)).map(t=>t.route.id).join(",")),[l.pathname+l.search]},[a,c,i,o,u,e,t,s]),f=n.useMemo(()=>Rt(h,o),[h,o]),p=function(t){let{manifest:e,routeModules:r}=zt(),[i,o]=n.useState([]);return n.useEffect(()=>{let n=!1;return _t(t,e,r).then(t=>{n||o(t)}),()=>{n=!0}},[t,e,r]),i}(h);return n.createElement(n.Fragment,null,d.map(t=>n.createElement("link",{key:t,rel:"prefetch",as:"fetch",href:t,...r})),f.map(t=>n.createElement("link",{key:t,rel:"modulepreload",href:t,...r})),p.map(({key:t,link:e})=>n.createElement("link",{key:t,nonce:r.nonce,...e})))}function Wt(...t){return e=>{t.forEach(t=>{"function"==typeof t?t(e):null!=t&&(t.current=e)})}}Dt.displayName="FrameworkContext";var qt="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;try{qt&&(window.__reactRouterVersion="7.9.4")}catch(sy){}function Kt({basename:t,children:e,window:r}){let i=n.useRef();null==i.current&&(i.current=x({window:r,v5Compat:!0}));let o=i.current,[s,a]=n.useState({action:o.action,location:o.location}),c=n.useCallback(t=>{n.startTransition(()=>a(t))},[a]);return n.useLayoutEffect(()=>o.listen(c),[o,c]),n.createElement(xt,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:o})}var Ht=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$t=n.forwardRef(function({onClick:t,discover:e="render",prefetch:r="none",relative:i,reloadDocument:o,replace:s,state:a,target:c,to:l,preventScrollReset:u,viewTransition:h,...d},f){let p,{basename:m}=n.useContext(et),g="string"==typeof l&&Ht.test(l),y=!1;if("string"==typeof l&&g&&(p=l,qt))try{let t=new URL(window.location.href),e=l.startsWith("//")?new URL(t.protocol+l):new URL(l),n=W(e.pathname,m);e.origin===t.origin&&null!=n?l=n+e.search+e.hash:y=!0}catch(sy){M(!1,`<Link to="${l}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=function(t,{relative:e}={}){E(ot(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=n.useContext(et),{hash:o,pathname:s,search:a}=ut(t,{relative:e}),c=s;return"/"!==r&&(c="/"===s?r:$([r,s])),i.createHref({pathname:c,search:a,hash:o})}(l,{relative:i}),[b,v,x]=function(t,e){let r=n.useContext(Dt),[i,o]=n.useState(!1),[s,a]=n.useState(!1),{onFocus:c,onBlur:l,onMouseEnter:u,onMouseLeave:h,onTouchStart:d}=e,f=n.useRef(null);n.useEffect(()=>{if("render"===t&&a(!0),"viewport"===t){let t=new IntersectionObserver(t=>{t.forEach(t=>{a(t.isIntersecting)})},{threshold:.5});return f.current&&t.observe(f.current),()=>{t.disconnect()}}},[t]),n.useEffect(()=>{if(i){let t=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(t)}}},[i]);let p=()=>{o(!0)},m=()=>{o(!1),a(!1)};return r?"intent"!==t?[s,f,{}]:[s,f,{onFocus:Ut(c,p),onBlur:Ut(l,m),onMouseEnter:Ut(u,p),onMouseLeave:Ut(h,m),onTouchStart:Ut(d,p)}]:[!1,f,{}]}(r,d),S=function(t,{target:e,replace:r,state:i,preventScrollReset:o,relative:s,viewTransition:a}={}){let c=lt(),l=st(),u=ut(t,{relative:s});return n.useCallback(n=>{if(function(t,e){return!(0!==t.button||e&&"_self"!==e||function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t))}(n,e)){n.preventDefault();let e=void 0!==r?r:k(l)===k(u);c(t,{replace:e,state:i,preventScrollReset:o,relative:s,viewTransition:a})}},[l,c,u,r,i,e,t,o,s,a])}(l,{replace:s,state:a,target:c,preventScrollReset:u,relative:i,viewTransition:h});let A=n.createElement("a",{...d,...x,href:p||w,onClick:y||o?t:function(e){t&&t(e),e.defaultPrevented||S(e)},ref:Wt(f,v),target:c,"data-discover":g||"render"!==e?void 0:"true"});return b&&!g?n.createElement(n.Fragment,null,A,n.createElement(Pt,{page:w})):A});function Vt(t){let e=n.useContext(J);return E(e,function(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}(t)),e}$t.displayName="Link",n.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:r="",end:i=!1,style:o,to:s,viewTransition:a,children:c,...l},u){let h=ut(s,{relative:l.relative}),d=st(),f=n.useContext(X),{navigator:p,basename:m}=n.useContext(et),g=null!=f&&function(t,{relative:e}={}){let r=n.useContext(tt);E(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Vt("useViewTransitionState"),o=ut(t,{relative:e});if(!r.isTransitioning)return!1;let s=W(r.currentLocation.pathname,i)||r.currentLocation.pathname,a=W(r.nextLocation.pathname,i)||r.nextLocation.pathname;return null!=P(o.pathname,a)||null!=P(o.pathname,s)}(h)&&!0===a,y=p.encodeLocation?p.encodeLocation(h).pathname:h.pathname,w=d.pathname,b=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;e||(w=w.toLowerCase(),b=b?b.toLowerCase():null,y=y.toLowerCase()),b&&m&&(b=W(b,m)||b);const v="/"!==y&&y.endsWith("/")?y.length-1:y.length;let x,M=w===y||!i&&w.startsWith(y)&&"/"===w.charAt(v),S=null!=b&&(b===y||!i&&b.startsWith(y)&&"/"===b.charAt(y.length)),A={isActive:M,isPending:S,isTransitioning:g},k=M?t:void 0;x="function"==typeof r?r(A):[r,M?"active":null,S?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let I="function"==typeof o?o(A):o;return n.createElement($t,{...l,"aria-current":k,className:x,ref:u,style:I,to:s,viewTransition:a},"function"==typeof c?c(A):c)}).displayName="NavLink",n.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:i,replace:o,state:s,method:a=St,action:c,onSubmit:l,relative:u,preventScrollReset:h,viewTransition:d,...f},p)=>{let m=function(){let{router:t}=Vt("useSubmit"),{basename:e}=n.useContext(et),r=yt("useRouteId");return n.useCallback(async(n,i={})=>{let{action:o,method:s,encType:a,formData:c,body:l}=Bt(n,e);if(!1===i.navigate){let e=i.fetcherKey||Yt();await t.fetch(e,r,i.action||o,{preventScrollReset:i.preventScrollReset,formData:c,body:l,formMethod:i.method||s,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:c,body:l,formMethod:i.method||s,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,r])}(),g=function(t,{relative:e}={}){let{basename:r}=n.useContext(et),i=n.useContext(rt);E(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),s={...ut(t||".",{relative:e})},a=st();if(null==t){s.search=a.search;let t=new URLSearchParams(s.search),e=t.getAll("index");if(e.some(t=>""===t)){t.delete("index"),e.filter(t=>t).forEach(e=>t.append("index",e));let n=t.toString();s.search=n?`?${n}`:""}}t&&"."!==t||!o.route.index||(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(s.pathname="/"===s.pathname?r:$([r,s.pathname]));return k(s)}(c,{relative:u}),y="get"===a.toLowerCase()?"get":"post",w="string"==typeof c&&Ht.test(c);return n.createElement("form",{ref:p,method:y,action:g,onSubmit:i?l:t=>{if(l&&l(t),t.defaultPrevented)return;t.preventDefault();let n=t.nativeEvent.submitter,i=n?.getAttribute("formmethod")||a;m(n||t.currentTarget,{fetcherKey:e,method:i,navigate:r,replace:o,state:s,relative:u,preventScrollReset:h,viewTransition:d})},...f,"data-discover":w||"render"!==t?void 0:"true"})}).displayName="Form";var Zt=0,Yt=()=>`__${String(++Zt)}__`;for(var Gt={},Qt={byteLength:function(t){var e=re(t),n=e[0],r=e[1];return 3*(n+r)/4-r},toByteArray:function(t){var e,n,r=re(t),i=r[0],o=r[1],s=new te(function(t,e,n){return 3*(e+n)/4-n}(0,i,o)),a=0,c=o>0?i-4:i;for(n=0;n<c;n+=4)e=Xt[t.charCodeAt(n)]<<18|Xt[t.charCodeAt(n+1)]<<12|Xt[t.charCodeAt(n+2)]<<6|Xt[t.charCodeAt(n+3)],s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=255&e;2===o&&(e=Xt[t.charCodeAt(n)]<<2|Xt[t.charCodeAt(n+1)]>>4,s[a++]=255&e);1===o&&(e=Xt[t.charCodeAt(n)]<<10|Xt[t.charCodeAt(n+1)]<<4|Xt[t.charCodeAt(n+2)]>>2,s[a++]=e>>8&255,s[a++]=255&e);return s},fromByteArray:function(t){for(var e,n=t.length,r=n%3,i=[],o=16383,s=0,a=n-r;s<a;s+=o)i.push(oe(t,s,s+o>a?a:s+o));1===r?(e=t[n-1],i.push(Jt[e>>2]+Jt[e<<4&63]+"==")):2===r&&(e=(t[n-2]<<8)+t[n-1],i.push(Jt[e>>10]+Jt[e>>4&63]+Jt[e<<2&63]+"="));return i.join("")}},Jt=[],Xt=[],te="undefined"!=typeof Uint8Array?Uint8Array:Array,ee="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ne=0;ne<64;++ne)Jt[ne]=ee[ne],Xt[ee.charCodeAt(ne)]=ne;function re(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function ie(t){return Jt[t>>18&63]+Jt[t>>12&63]+Jt[t>>6&63]+Jt[63&t]}function oe(t,e,n){for(var r,i=[],o=e;o<n;o+=3)r=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),i.push(ie(r));return i.join("")}Xt["-".charCodeAt(0)]=62,Xt["_".charCodeAt(0)]=63;var se={
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
read:function(t,e,n,r,i){var o,s,a=8*i-r-1,c=(1<<a)-1,l=c>>1,u=-7,h=n?i-1:0,d=n?-1:1,f=t[e+h];for(h+=d,o=f&(1<<-u)-1,f>>=-u,u+=a;u>0;o=256*o+t[e+h],h+=d,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=r;u>0;s=256*s+t[e+h],h+=d,u-=8);if(0===o)o=1-l;else{if(o===c)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,r),o-=l}return(f?-1:1)*s*Math.pow(2,o-r)},write:function(t,e,n,r,i,o){var s,a,c,l=8*o-i-1,u=(1<<l)-1,h=u>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,p=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),(e+=s+h>=1?d/c:d*Math.pow(2,1-h))*c>=2&&(s++,c/=2),s+h>=u?(a=0,s=u):s+h>=1?(a=(e*c-1)*Math.pow(2,i),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[n+f]=255&a,f+=p,a/=256,i-=8);for(s=s<<i|a,l+=i;l>0;t[n+f]=255&s,f+=p,s/=256,l-=8);t[n+f-p]|=128*m}};
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
!function(t){const e=Qt,n=se,r="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=s,t.SlowBuffer=function(t){+t!=t&&(t=0);return s.alloc(+t)},t.INSPECT_MAX_BYTES=50;const i=2147483647;function o(t){if(t>i)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,s.prototype),e}function s(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return l(t)}return a(t,e,n)}function a(t,e,n){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!s.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const n=0|f(t,e);let r=o(n);const i=r.write(t,e);i!==n&&(r=r.slice(0,i));return r}(t,e);if(ArrayBuffer.isView(t))return function(t){if(V(t,Uint8Array)){const e=new Uint8Array(t);return h(e.buffer,e.byteOffset,e.byteLength)}return u(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(V(t,ArrayBuffer)||t&&V(t.buffer,ArrayBuffer))return h(t,e,n);if("undefined"!=typeof SharedArrayBuffer&&(V(t,SharedArrayBuffer)||t&&V(t.buffer,SharedArrayBuffer)))return h(t,e,n);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return s.from(r,e,n);const i=function(t){if(s.isBuffer(t)){const e=0|d(t.length),n=o(e);return 0===n.length||t.copy(n,0,0,e),n}if(void 0!==t.length)return"number"!=typeof t.length||Z(t.length)?o(0):u(t);if("Buffer"===t.type&&Array.isArray(t.data))return u(t.data)}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return s.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function l(t){return c(t),o(t<0?0:0|d(t))}function u(t){const e=t.length<0?0:0|d(t.length),n=o(e);for(let r=0;r<e;r+=1)n[r]=255&t[r];return n}function h(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),Object.setPrototypeOf(r,s.prototype),r}function d(t){if(t>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|t}function f(t,e){if(s.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||V(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const n=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return K(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return H(t).length;default:if(i)return r?-1:K(t).length;e=(""+e).toLowerCase(),i=!0}}function p(t,e,n){let r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return N(this,e,n);case"utf8":case"utf-8":return S(this,e,n);case"ascii":return k(this,e,n);case"latin1":case"binary":return I(this,e,n);case"base64":return M(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function m(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function g(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),Z(n=+n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=s.from(e,r)),s.isBuffer(e))return 0===e.length?-1:y(t,e,n,r,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):y(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(t,e,n,r,i){let o,s=1,a=t.length,c=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,c/=2,n/=2}function l(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){let r=-1;for(o=n;o<a;o++)if(l(t,o)===l(e,-1===r?0:o-r)){if(-1===r&&(r=o),o-r+1===c)return r*s}else-1!==r&&(o-=o-r),r=-1}else for(n+c>a&&(n=a-c),o=n;o>=0;o--){let n=!0;for(let r=0;r<c;r++)if(l(t,o+r)!==l(e,r)){n=!1;break}if(n)return o}return-1}function w(t,e,n,r){n=Number(n)||0;const i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;const o=e.length;let s;for(r>o/2&&(r=o/2),s=0;s<r;++s){const r=parseInt(e.substr(2*s,2),16);if(Z(r))return s;t[n+s]=r}return s}function b(t,e,n,r){return $(K(e,t.length-n),t,n,r)}function v(t,e,n,r){return $(function(t){const e=[];for(let n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function x(t,e,n,r){return $(H(e),t,n,r)}function E(t,e,n,r){return $(function(t,e){let n,r,i;const o=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function M(t,n,r){return 0===n&&r===t.length?e.fromByteArray(t):e.fromByteArray(t.slice(n,r))}function S(t,e,n){n=Math.min(t.length,n);const r=[];let i=e;for(;i<n;){const e=t[i];let o=null,s=e>239?4:e>223?3:e>191?2:1;if(i+s<=n){let n,r,a,c;switch(s){case 1:e<128&&(o=e);break;case 2:n=t[i+1],128==(192&n)&&(c=(31&e)<<6|63&n,c>127&&(o=c));break;case 3:n=t[i+1],r=t[i+2],128==(192&n)&&128==(192&r)&&(c=(15&e)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:n=t[i+1],r=t[i+2],a=t[i+3],128==(192&n)&&128==(192&r)&&128==(192&a)&&(c=(15&e)<<18|(63&n)<<12|(63&r)<<6|63&a,c>65535&&c<1114112&&(o=c))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=s}return function(t){const e=t.length;if(e<=A)return String.fromCharCode.apply(String,t);let n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=A));return n}(r)}t.kMaxLength=i,s.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(sy){return!1}}(),!s.TYPED_ARRAY_SUPPORT&&"undefined"!=typeof console&&console.error,Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),s.poolSize=8192,s.from=function(t,e,n){return a(t,e,n)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(t,e,n){return function(t,e,n){return c(t),t<=0?o(t):void 0!==e?"string"==typeof n?o(t).fill(e,n):o(t).fill(e):o(t)}(t,e,n)},s.allocUnsafe=function(t){return l(t)},s.allocUnsafeSlow=function(t){return l(t)},s.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==s.prototype},s.compare=function(t,e){if(V(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),V(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(t)||!s.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let n=t.length,r=e.length;for(let i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},s.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return s.alloc(0);let n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;const r=s.allocUnsafe(e);let i=0;for(n=0;n<t.length;++n){let e=t[n];if(V(e,Uint8Array))i+e.length>r.length?(s.isBuffer(e)||(e=s.from(e)),e.copy(r,i)):Uint8Array.prototype.set.call(r,e,i);else{if(!s.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(r,i)}i+=e.length}return r},s.byteLength=f,s.prototype._isBuffer=!0,s.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)m(this,e,e+1);return this},s.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},s.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},s.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?S(this,0,t):p.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(t){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===s.compare(this,t)},s.prototype.inspect=function(){let e="";const n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},r&&(s.prototype[r]=s.prototype.inspect),s.prototype.compare=function(t,e,n,r,i){if(V(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;let o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(e>>>=0);const c=Math.min(o,a),l=this.slice(r,i),u=t.slice(e,n);for(let s=0;s<c;++s)if(l[s]!==u[s]){o=l[s],a=u[s];break}return o<a?-1:a<o?1:0},s.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},s.prototype.indexOf=function(t,e,n){return g(this,t,e,n,!0)},s.prototype.lastIndexOf=function(t,e,n){return g(this,t,e,n,!1)},s.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let o=!1;for(;;)switch(r){case"hex":return w(this,t,e,n);case"utf8":case"utf-8":return b(this,t,e,n);case"ascii":case"latin1":case"binary":return v(this,t,e,n);case"base64":return x(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const A=4096;function k(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function I(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function N(t,e,n){const r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);let i="";for(let o=e;o<n;++o)i+=Y[t[o]];return i}function L(t,e,n){const r=t.slice(e,n);let i="";for(let o=0;o<r.length-1;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function B(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function j(t,e,n,r,i,o){if(!s.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function C(t,e,n,r,i){P(e,r,i,t,n,7);let o=Number(e&BigInt(4294967295));t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,n}function _(t,e,n,r,i){P(e,r,i,t,n,7);let o=Number(e&BigInt(4294967295));t[n+7]=o,o>>=8,t[n+6]=o,o>>=8,t[n+5]=o,o>>=8,t[n+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[n+3]=s,s>>=8,t[n+2]=s,s>>=8,t[n+1]=s,s>>=8,t[n]=s,n+8}function T(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function R(t,e,r,i,o){return e=+e,r>>>=0,o||T(t,0,r,4),n.write(t,e,r,i,23,4),r+4}function O(t,e,r,i,o){return e=+e,r>>>=0,o||T(t,0,r,8),n.write(t,e,r,i,52,8),r+8}s.prototype.slice=function(t,e){const n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);const r=this.subarray(t,e);return Object.setPrototypeOf(r,s.prototype),r},s.prototype.readUintLE=s.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||B(t,e,this.length);let r=this[t],i=1,o=0;for(;++o<e&&(i*=256);)r+=this[t+o]*i;return r},s.prototype.readUintBE=s.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||B(t,e,this.length);let r=this[t+--e],i=1;for(;e>0&&(i*=256);)r+=this[t+--e]*i;return r},s.prototype.readUint8=s.prototype.readUInt8=function(t,e){return t>>>=0,e||B(t,1,this.length),this[t]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(t,e){return t>>>=0,e||B(t,2,this.length),this[t]|this[t+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(t,e){return t>>>=0,e||B(t,2,this.length),this[t]<<8|this[t+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(t,e){return t>>>=0,e||B(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(t,e){return t>>>=0,e||B(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},s.prototype.readBigUInt64LE=G(function(t){F(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||W(t,this.length-8);const r=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,i=this[++t]+256*this[++t]+65536*this[++t]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))}),s.prototype.readBigUInt64BE=G(function(t){F(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||W(t,this.length-8);const r=e*2**24+65536*this[++t]+256*this[++t]+this[++t],i=this[++t]*2**24+65536*this[++t]+256*this[++t]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)}),s.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||B(t,e,this.length);let r=this[t],i=1,o=0;for(;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},s.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||B(t,e,this.length);let r=e,i=1,o=this[t+--r];for(;r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},s.prototype.readInt8=function(t,e){return t>>>=0,e||B(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},s.prototype.readInt16LE=function(t,e){t>>>=0,e||B(t,2,this.length);const n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(t,e){t>>>=0,e||B(t,2,this.length);const n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(t,e){return t>>>=0,e||B(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},s.prototype.readInt32BE=function(t,e){return t>>>=0,e||B(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},s.prototype.readBigInt64LE=G(function(t){F(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||W(t,this.length-8);const r=this[t+4]+256*this[t+5]+65536*this[t+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)}),s.prototype.readBigInt64BE=G(function(t){F(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||W(t,this.length-8);const r=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(r)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+n)}),s.prototype.readFloatLE=function(t,e){return t>>>=0,e||B(t,4,this.length),n.read(this,t,!0,23,4)},s.prototype.readFloatBE=function(t,e){return t>>>=0,e||B(t,4,this.length),n.read(this,t,!1,23,4)},s.prototype.readDoubleLE=function(t,e){return t>>>=0,e||B(t,8,this.length),n.read(this,t,!0,52,8)},s.prototype.readDoubleBE=function(t,e){return t>>>=0,e||B(t,8,this.length),n.read(this,t,!1,52,8)},s.prototype.writeUintLE=s.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e>>>=0,n>>>=0,!r){j(this,t,e,n,Math.pow(2,8*n)-1,0)}let i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e>>>=0,n>>>=0,!r){j(this,t,e,n,Math.pow(2,8*n)-1,0)}let i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},s.prototype.writeUint8=s.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||j(this,t,e,1,255,0),this[e]=255&t,e+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||j(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||j(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||j(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||j(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},s.prototype.writeBigUInt64LE=G(function(t,e=0){return C(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=G(function(t,e=0){return _(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);j(this,t,e,n,r-1,-r)}let i=0,o=1,s=0;for(this[e]=255&t;++i<n&&(o*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/o|0)-s&255;return e+n},s.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);j(this,t,e,n,r-1,-r)}let i=n-1,o=1,s=0;for(this[e+i]=255&t;--i>=0&&(o*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/o|0)-s&255;return e+n},s.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||j(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},s.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||j(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},s.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||j(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},s.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||j(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},s.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||j(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},s.prototype.writeBigInt64LE=G(function(t,e=0){return C(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=G(function(t,e=0){return _(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeFloatLE=function(t,e,n){return R(this,t,e,!0,n)},s.prototype.writeFloatBE=function(t,e,n){return R(this,t,e,!1,n)},s.prototype.writeDoubleLE=function(t,e,n){return O(this,t,e,!0,n)},s.prototype.writeDoubleBE=function(t,e,n){return O(this,t,e,!1,n)},s.prototype.copy=function(t,e,n,r){if(!s.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);const i=r-n;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,n,r):Uint8Array.prototype.set.call(t,this.subarray(n,r),e),i},s.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!s.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===t.length){const e=t.charCodeAt(0);("utf8"===r&&e<128||"latin1"===r)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;let i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{const o=s.isBuffer(t)?t:s.from(t,r),a=o.length;if(0===a)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<n-e;++i)this[i+e]=o[i%a]}return this};const D={};function z(t,e,n){D[t]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function U(t){let e="",n=t.length;const r="-"===t[0]?1:0;for(;n>=r+4;n-=3)e=`_${t.slice(n-3,n)}${e}`;return`${t.slice(0,n)}${e}`}function P(t,e,n,r,i,o){if(t>n||t<e){const n="bigint"==typeof e?"n":"";let r;throw r=0===e||e===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(o+1)}${n}`:`>= -(2${n} ** ${8*(o+1)-1}${n}) and < 2 ** ${8*(o+1)-1}${n}`,new D.ERR_OUT_OF_RANGE("value",r,t)}!function(t,e,n){F(e,"offset"),void 0!==t[e]&&void 0!==t[e+n]||W(e,t.length-(n+1))}(r,i,o)}function F(t,e){if("number"!=typeof t)throw new D.ERR_INVALID_ARG_TYPE(e,"number",t)}function W(t,e,n){if(Math.floor(t)!==t)throw F(t,n),new D.ERR_OUT_OF_RANGE("offset","an integer",t);if(e<0)throw new D.ERR_BUFFER_OUT_OF_BOUNDS;throw new D.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${e}`,t)}z("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),z("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError),z("ERR_OUT_OF_RANGE",function(t,e,n){let r=`The value of "${t}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=U(String(n)):"bigint"==typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=U(i)),i+="n"),r+=` It must be ${e}. Received ${i}`,r},RangeError);const q=/[^+/0-9A-Za-z-_]/g;function K(t,e){let n;e=e||1/0;const r=t.length;let i=null;const o=[];for(let s=0;s<r;++s){if(n=t.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function H(t){return e.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(q,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function $(t,e,n,r){let i;for(i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function V(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function Z(t){return t!=t}const Y=function(){const t="0123456789abcdef",e=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)e[r+i]=t[n]+t[i]}return e}();function G(t){return"undefined"==typeof BigInt?Q:t}function Q(){throw new Error("BigInt not supported")}}(Gt);const ae="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ce(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&"Uint8Array"===t.constructor.name}function le(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function ue(t,...e){if(!ce(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function he(t){if("function"!=typeof t||"function"!=typeof t.create)throw new Error("Hash should be wrapped by utils.createHasher");le(t.outputLen),le(t.blockLen)}function de(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function fe(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function pe(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function me(t,e){return t<<32-e|t>>>e}const ge=(()=>"function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex)(),ye=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function we(t){if(ue(t),ge)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=ye[t[n]];return e}const be=48,ve=57,xe=65,Ee=70,Me=97,Se=102;function Ae(t){return t>=be&&t<=ve?t-be:t>=xe&&t<=Ee?t-(xe-10):t>=Me&&t<=Se?t-(Me-10):void 0}function ke(t){if("string"!=typeof t)throw new Error("hex string expected, got "+typeof t);if(ge)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const e=Ae(t.charCodeAt(o)),n=Ae(t.charCodeAt(o+1));if(void 0===e||void 0===n){const e=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+e+'" at index '+o)}r[i]=16*e+n}return r}function Ie(t){return"string"==typeof t&&(t=function(t){if("string"!=typeof t)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(t))}(t)),ue(t),t}function Ne(...t){let e=0;for(let r=0;r<t.length;r++){const n=t[r];ue(n),e+=n.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const e=t[r];n.set(e,i),i+=e.length}return n}class Le{}function Be(t){const e=e=>t().update(Ie(e)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function je(t=32){if(ae&&"function"==typeof ae.getRandomValues)return ae.getRandomValues(new Uint8Array(t));if(ae&&"function"==typeof ae.randomBytes)return Uint8Array.from(ae.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}function Ce(t,e,n){return t&e^~t&n}function _e(t,e,n){return t&e^t&n^e&n}class Te extends Le{constructor(t,e,n,r){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=e,this.padOffset=n,this.isLE=r,this.buffer=new Uint8Array(t),this.view=pe(this.buffer)}update(t){de(this),ue(t=Ie(t));const{view:e,buffer:n,blockLen:r}=this,i=t.length;for(let o=0;o<i;){const s=Math.min(r-this.pos,i-o);if(s===r){const e=pe(t);for(;r<=i-o;o+=r)this.process(e,o);continue}n.set(t.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===r&&(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){de(this),function(t,e){ue(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}(t,this),this.finished=!0;const{buffer:e,view:n,blockLen:r,isLE:i}=this;let{pos:o}=this;e[o++]=128,fe(this.buffer.subarray(o)),this.padOffset>r-o&&(this.process(n,0),o=0);for(let u=o;u<r;u++)e[u]=0;!function(t,e,n,r){if("function"==typeof t.setBigUint64)return t.setBigUint64(e,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),c=r?4:0,l=r?0:4;t.setUint32(e+c,s,r),t.setUint32(e+l,a,r)}(n,r-8,BigInt(8*this.length),i),this.process(n,0);const s=pe(t),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,l=this.get();if(c>l.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<c;u++)s.setUint32(4*u,l[u],i)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const n=t.slice(0,e);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:n,length:r,finished:i,destroyed:o,pos:s}=this;return t.destroyed=o,t.finished=i,t.length=r,t.pos=s,r%e&&t.buffer.set(n),t}clone(){return this._cloneInto()}}const Re=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Oe=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),De=BigInt(2**32-1),ze=BigInt(32);function Ue(t,e=!1){return e?{h:Number(t&De),l:Number(t>>ze&De)}:{h:0|Number(t>>ze&De),l:0|Number(t&De)}}const Pe=(t,e,n)=>t>>>n,Fe=(t,e,n)=>t<<32-n|e>>>n,We=(t,e,n)=>t>>>n|e<<32-n,qe=(t,e,n)=>t<<32-n|e>>>n,Ke=(t,e,n)=>t<<64-n|e>>>n-32,He=(t,e,n)=>t>>>n-32|e<<64-n;function $e(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:0|i}}const Ve=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),Ze=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,Ye=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),Ge=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,Qe=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),Je=(t,e,n,r,i,o)=>e+n+r+i+o+(t/2**32|0)|0,Xe=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),tn=new Uint32Array(64);class en extends Te{constructor(t=32){super(64,t,8,!1),this.A=0|Re[0],this.B=0|Re[1],this.C=0|Re[2],this.D=0|Re[3],this.E=0|Re[4],this.F=0|Re[5],this.G=0|Re[6],this.H=0|Re[7]}get(){const{A:t,B:e,C:n,D:r,E:i,F:o,G:s,H:a}=this;return[t,e,n,r,i,o,s,a]}set(t,e,n,r,i,o,s,a){this.A=0|t,this.B=0|e,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(t,e){for(let u=0;u<16;u++,e+=4)tn[u]=t.getUint32(e,!1);for(let u=16;u<64;u++){const t=tn[u-15],e=tn[u-2],n=me(t,7)^me(t,18)^t>>>3,r=me(e,17)^me(e,19)^e>>>10;tn[u]=r+tn[u-7]+n+tn[u-16]|0}let{A:n,B:r,C:i,D:o,E:s,F:a,G:c,H:l}=this;for(let u=0;u<64;u++){const t=l+(me(s,6)^me(s,11)^me(s,25))+Ce(s,a,c)+Xe[u]+tn[u]|0,e=(me(n,2)^me(n,13)^me(n,22))+_e(n,r,i)|0;l=c,c=a,a=s,s=o+t|0,o=i,i=r,r=n,n=t+e|0}n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,o=o+this.D|0,s=s+this.E|0,a=a+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(n,r,i,o,s,a,c,l)}roundClean(){fe(tn)}destroy(){this.set(0,0,0,0,0,0,0,0),fe(this.buffer)}}const nn=(()=>function(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let o=0;o<n;o++){const{h:n,l:s}=Ue(t[o],e);[r[o],i[o]]=[n,s]}return[r,i]}(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))))(),rn=(()=>nn[0])(),on=(()=>nn[1])(),sn=new Uint32Array(80),an=new Uint32Array(80);class cn extends Te{constructor(t=64){super(128,t,16,!1),this.Ah=0|Oe[0],this.Al=0|Oe[1],this.Bh=0|Oe[2],this.Bl=0|Oe[3],this.Ch=0|Oe[4],this.Cl=0|Oe[5],this.Dh=0|Oe[6],this.Dl=0|Oe[7],this.Eh=0|Oe[8],this.El=0|Oe[9],this.Fh=0|Oe[10],this.Fl=0|Oe[11],this.Gh=0|Oe[12],this.Gl=0|Oe[13],this.Hh=0|Oe[14],this.Hl=0|Oe[15]}get(){const{Ah:t,Al:e,Bh:n,Bl:r,Ch:i,Cl:o,Dh:s,Dl:a,Eh:c,El:l,Fh:u,Fl:h,Gh:d,Gl:f,Hh:p,Hl:m}=this;return[t,e,n,r,i,o,s,a,c,l,u,h,d,f,p,m]}set(t,e,n,r,i,o,s,a,c,l,u,h,d,f,p,m){this.Ah=0|t,this.Al=0|e,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|o,this.Dh=0|s,this.Dl=0|a,this.Eh=0|c,this.El=0|l,this.Fh=0|u,this.Fl=0|h,this.Gh=0|d,this.Gl=0|f,this.Hh=0|p,this.Hl=0|m}process(t,e){for(let w=0;w<16;w++,e+=4)sn[w]=t.getUint32(e),an[w]=t.getUint32(e+=4);for(let w=16;w<80;w++){const t=0|sn[w-15],e=0|an[w-15],n=We(t,e,1)^We(t,e,8)^Pe(t,0,7),r=qe(t,e,1)^qe(t,e,8)^Fe(t,e,7),i=0|sn[w-2],o=0|an[w-2],s=We(i,o,19)^Ke(i,o,61)^Pe(i,0,6),a=qe(i,o,19)^He(i,o,61)^Fe(i,o,6),c=Ye(r,a,an[w-7],an[w-16]),l=Ge(c,n,s,sn[w-7],sn[w-16]);sn[w]=0|l,an[w]=0|c}let{Ah:n,Al:r,Bh:i,Bl:o,Ch:s,Cl:a,Dh:c,Dl:l,Eh:u,El:h,Fh:d,Fl:f,Gh:p,Gl:m,Hh:g,Hl:y}=this;for(let w=0;w<80;w++){const t=We(u,h,14)^We(u,h,18)^Ke(u,h,41),e=qe(u,h,14)^qe(u,h,18)^He(u,h,41),b=u&d^~u&p,v=Qe(y,e,h&f^~h&m,on[w],an[w]),x=Je(v,g,t,b,rn[w],sn[w]),E=0|v,M=We(n,r,28)^Ke(n,r,34)^Ke(n,r,39),S=qe(n,r,28)^He(n,r,34)^He(n,r,39),A=n&i^n&s^i&s,k=r&o^r&a^o&a;g=0|p,y=0|m,p=0|d,m=0|f,d=0|u,f=0|h,({h:u,l:h}=$e(0|c,0|l,0|x,0|E)),c=0|s,l=0|a,s=0|i,a=0|o,i=0|n,o=0|r;const I=Ve(E,S,k);n=Ze(I,x,M,A),r=0|I}({h:n,l:r}=$e(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:o}=$e(0|this.Bh,0|this.Bl,0|i,0|o)),({h:s,l:a}=$e(0|this.Ch,0|this.Cl,0|s,0|a)),({h:c,l:l}=$e(0|this.Dh,0|this.Dl,0|c,0|l)),({h:u,l:h}=$e(0|this.Eh,0|this.El,0|u,0|h)),({h:d,l:f}=$e(0|this.Fh,0|this.Fl,0|d,0|f)),({h:p,l:m}=$e(0|this.Gh,0|this.Gl,0|p,0|m)),({h:g,l:y}=$e(0|this.Hh,0|this.Hl,0|g,0|y)),this.set(n,r,i,o,s,a,c,l,u,h,d,f,p,m,g,y)}roundClean(){fe(sn,an)}destroy(){fe(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const ln=Be(()=>new en),un=Be(()=>new cn),hn=BigInt(0),dn=BigInt(1);function fn(t,e=""){if("boolean"!=typeof t){throw new Error((e&&`"${e}"`)+"expected boolean, got type="+typeof t)}return t}function pn(t,e,n=""){const r=ce(t),i=t?.length,o=void 0!==e;if(!r||o&&i!==e){throw new Error((n&&`"${n}" `)+"expected Uint8Array"+(o?` of length ${e}`:"")+", got "+(r?`length=${i}`:"type="+typeof t))}return t}function mn(t){const e=t.toString(16);return 1&e.length?"0"+e:e}function gn(t){if("string"!=typeof t)throw new Error("hex string expected, got "+typeof t);return""===t?hn:BigInt("0x"+t)}function yn(t){return gn(we(t))}function wn(t){return ue(t),gn(we(Uint8Array.from(t).reverse()))}function bn(t,e){return ke(t.toString(16).padStart(2*e,"0"))}function vn(t,e){return bn(t,e).reverse()}function xn(t,e,n){let r;if("string"==typeof e)try{r=ke(e)}catch(sy){throw new Error(t+" must be hex string or Uint8Array, cause: "+sy)}else{if(!ce(e))throw new Error(t+" must be hex string or Uint8Array");r=Uint8Array.from(e)}const i=r.length;if("number"==typeof n&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function En(t){return Uint8Array.from(t)}const Mn=t=>"bigint"==typeof t&&hn<=t;function Sn(t,e,n,r){if(!function(t,e,n){return Mn(t)&&Mn(e)&&Mn(n)&&e<=t&&t<n}(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function An(t){let e;for(e=0;t>hn;t>>=dn,e+=1);return e}const kn=t=>(dn<<BigInt(t))-dn;function In(t,e,n={}){if(!t||"object"!=typeof t)throw new Error("expected valid options object");function r(e,n,r){const i=t[e];if(r&&void 0===i)return;const o=typeof i;if(o!==n||null===i)throw new Error(`param "${e}" is invalid: expected ${n}, got ${o}`)}Object.entries(e).forEach(([t,e])=>r(t,e,!1)),Object.entries(n).forEach(([t,e])=>r(t,e,!0))}function Nn(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(void 0!==i)return i;const o=t(n,...r);return e.set(n,o),o}}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ln=BigInt(0),Bn=BigInt(1),jn=BigInt(2),Cn=BigInt(3),_n=BigInt(4),Tn=BigInt(5),Rn=BigInt(7),On=BigInt(8),Dn=BigInt(9),zn=BigInt(16);function Un(t,e){const n=t%e;return n>=Ln?n:e+n}function Pn(t,e,n){let r=t;for(;e-- >Ln;)r*=r,r%=n;return r}function Fn(t,e){if(t===Ln)throw new Error("invert: expected non-zero number");if(e<=Ln)throw new Error("invert: expected positive modulus, got "+e);let n=Un(t,e),r=e,i=Ln,o=Bn;for(;n!==Ln;){const t=r%n,e=i-o*(r/n);r=n,n=t,i=o,o=e}if(r!==Bn)throw new Error("invert: does not exist");return Un(i,e)}function Wn(t,e,n){if(!t.eql(t.sqr(e),n))throw new Error("Cannot find square root")}function qn(t,e){const n=(t.ORDER+Bn)/_n,r=t.pow(e,n);return Wn(t,r,e),r}function Kn(t,e){const n=(t.ORDER-Tn)/On,r=t.mul(e,jn),i=t.pow(r,n),o=t.mul(e,i),s=t.mul(t.mul(o,jn),i),a=t.mul(o,t.sub(s,t.ONE));return Wn(t,a,e),a}function Hn(t){if(t<Cn)throw new Error("sqrt is not defined for small field");let e=t-Bn,n=0;for(;e%jn===Ln;)e/=jn,n++;let r=jn;const i=Qn(t);for(;1===Yn(i,r);)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(1===n)return qn;let o=i.pow(r,e);const s=(e+Bn)/jn;return function(t,r){if(t.is0(r))return r;if(1!==Yn(t,r))throw new Error("Cannot find square root");let i=n,a=t.mul(t.ONE,o),c=t.pow(r,e),l=t.pow(r,s);for(;!t.eql(c,t.ONE);){if(t.is0(c))return t.ZERO;let e=1,n=t.sqr(c);for(;!t.eql(n,t.ONE);)if(e++,n=t.sqr(n),e===i)throw new Error("Cannot find square root");const r=Bn<<BigInt(i-e-1),o=t.pow(a,r);i=e,a=t.sqr(o),c=t.mul(c,a),l=t.mul(l,o)}return l}}function $n(t){return t%_n===Cn?qn:t%On===Tn?Kn:t%zn===Dn?function(t){const e=Qn(t),n=Hn(t),r=n(e,e.neg(e.ONE)),i=n(e,r),o=n(e,e.neg(r)),s=(t+Rn)/zn;return(t,e)=>{let n=t.pow(e,s),a=t.mul(n,r);const c=t.mul(n,i),l=t.mul(n,o),u=t.eql(t.sqr(a),e),h=t.eql(t.sqr(c),e);n=t.cmov(n,a,u),a=t.cmov(l,c,h);const d=t.eql(t.sqr(a),e),f=t.cmov(n,a,d);return Wn(t,f,e),f}}(t):Hn(t)}const Vn=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Zn(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((e,n,i)=>t.is0(n)?e:(r[i]=e,t.mul(e,n)),t.ONE),o=t.inv(i);return e.reduceRight((e,n,i)=>t.is0(n)?e:(r[i]=t.mul(e,r[i]),t.mul(e,n)),o),r}function Yn(t,e){const n=(t.ORDER-Bn)/jn,r=t.pow(e,n),i=t.eql(r,t.ONE),o=t.eql(r,t.ZERO),s=t.eql(r,t.neg(t.ONE));if(!i&&!o&&!s)throw new Error("invalid Legendre symbol result");return i?1:o?0:-1}function Gn(t,e){void 0!==e&&le(e);const n=void 0!==e?e:t.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function Qn(t,e,n=!1,r={}){if(t<=Ln)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,o,s,a=!1;if("object"==typeof e&&null!=e){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const t=e;t.BITS&&(i=t.BITS),t.sqrt&&(o=t.sqrt),"boolean"==typeof t.isLE&&(n=t.isLE),"boolean"==typeof t.modFromBytes&&(a=t.modFromBytes),s=t.allowedLengths}else"number"==typeof e&&(i=e),r.sqrt&&(o=r.sqrt);const{nBitLength:c,nByteLength:l}=Gn(t,i);if(l>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let u;const h=Object.freeze({ORDER:t,isLE:n,BITS:c,BYTES:l,MASK:kn(c),ZERO:Ln,ONE:Bn,allowedLengths:s,create:e=>Un(e,t),isValid:e=>{if("bigint"!=typeof e)throw new Error("invalid field element: expected bigint, got "+typeof e);return Ln<=e&&e<t},is0:t=>t===Ln,isValidNot0:t=>!h.is0(t)&&h.isValid(t),isOdd:t=>(t&Bn)===Bn,neg:e=>Un(-e,t),eql:(t,e)=>t===e,sqr:e=>Un(e*e,t),add:(e,n)=>Un(e+n,t),sub:(e,n)=>Un(e-n,t),mul:(e,n)=>Un(e*n,t),pow:(t,e)=>function(t,e,n){if(n<Ln)throw new Error("invalid exponent, negatives unsupported");if(n===Ln)return t.ONE;if(n===Bn)return e;let r=t.ONE,i=e;for(;n>Ln;)n&Bn&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Bn;return r}(h,t,e),div:(e,n)=>Un(e*Fn(n,t),t),sqrN:t=>t*t,addN:(t,e)=>t+e,subN:(t,e)=>t-e,mulN:(t,e)=>t*e,inv:e=>Fn(e,t),sqrt:o||(e=>(u||(u=$n(t)),u(h,e))),toBytes:t=>n?vn(t,l):bn(t,l),fromBytes:(e,r=!0)=>{if(s){if(!s.includes(e.length)||e.length>l)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+e.length);const t=new Uint8Array(l);t.set(e,n?0:t.length-e.length),e=t}if(e.length!==l)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+e.length);let i=n?wn(e):yn(e);if(a&&(i=Un(i,t)),!r&&!h.isValid(i))throw new Error("invalid field element: outside of range 0..ORDER");return i},invertBatch:t=>Zn(h,t),cmov:(t,e,n)=>n?e:t});return Object.freeze(h)}function Jn(t){if("bigint"!=typeof t)throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Xn(t){const e=Jn(t);return e+Math.ceil(e/2)}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const tr=BigInt(0),er=BigInt(1);function nr(t,e){const n=e.negate();return t?n:e}function rr(t,e){const n=Zn(t.Fp,e.map(t=>t.Z));return e.map((e,r)=>t.fromAffine(e.toAffine(n[r])))}function ir(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function or(t,e){ir(t,e);const n=2**t;return{windows:Math.ceil(e/t)+1,windowSize:2**(t-1),mask:kn(t),maxNumber:n,shiftBy:BigInt(t)}}function sr(t,e,n){const{windowSize:r,mask:i,maxNumber:o,shiftBy:s}=n;let a=Number(t&i),c=t>>s;a>r&&(a-=o,c+=er);const l=e*r;return{nextN:c,offset:l+Math.abs(a)-1,isZero:0===a,isNeg:a<0,isNegF:e%2!=0,offsetF:l}}const ar=new WeakMap,cr=new WeakMap;function lr(t){return cr.get(t)||1}function ur(t){if(t!==tr)throw new Error("invalid wNAF")}class hr{constructor(t,e){this.BASE=t.BASE,this.ZERO=t.ZERO,this.Fn=t.Fn,this.bits=e}_unsafeLadder(t,e,n=this.ZERO){let r=t;for(;e>tr;)e&er&&(n=n.add(r)),r=r.double(),e>>=er;return n}precomputeWindow(t,e){const{windows:n,windowSize:r}=or(e,this.bits),i=[];let o=t,s=o;for(let a=0;a<n;a++){s=o,i.push(s);for(let t=1;t<r;t++)s=s.add(o),i.push(s);o=s.double()}return i}wNAF(t,e,n){if(!this.Fn.isValid(n))throw new Error("invalid scalar");let r=this.ZERO,i=this.BASE;const o=or(t,this.bits);for(let s=0;s<o.windows;s++){const{nextN:t,offset:a,isZero:c,isNeg:l,isNegF:u,offsetF:h}=sr(n,s,o);n=t,c?i=i.add(nr(u,e[h])):r=r.add(nr(l,e[a]))}return ur(n),{p:r,f:i}}wNAFUnsafe(t,e,n,r=this.ZERO){const i=or(t,this.bits);for(let o=0;o<i.windows&&n!==tr;o++){const{nextN:t,offset:s,isZero:a,isNeg:c}=sr(n,o,i);if(n=t,!a){const t=e[s];r=r.add(c?t.negate():t)}}return ur(n),r}getPrecomputes(t,e,n){let r=ar.get(e);return r||(r=this.precomputeWindow(e,t),1!==t&&("function"==typeof n&&(r=n(r)),ar.set(e,r))),r}cached(t,e,n){const r=lr(t);return this.wNAF(r,this.getPrecomputes(r,t,n),e)}unsafe(t,e,n,r){const i=lr(t);return 1===i?this._unsafeLadder(t,e,r):this.wNAFUnsafe(i,this.getPrecomputes(i,t,n),e,r)}createCache(t,e){ir(e,this.bits),cr.set(t,e),ar.delete(t)}hasCache(t){return 1!==lr(t)}}function dr(t,e,n,r){!function(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((t,n)=>{if(!(t instanceof e))throw new Error("invalid point at index "+n)})}(n,t),function(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((t,n)=>{if(!e.isValid(t))throw new Error("invalid scalar at index "+n)})}(r,e);const i=n.length,o=r.length;if(i!==o)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,a=An(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=kn(c),u=new Array(Number(l)+1).fill(s);let h=s;for(let d=Math.floor((e.BITS-1)/c)*c;d>=0;d-=c){u.fill(s);for(let e=0;e<o;e++){const t=r[e],i=Number(t>>BigInt(d)&l);u[i]=u[i].add(n[e])}let t=s;for(let e=u.length-1,n=s;e>0;e--)n=n.add(u[e]),t=t.add(n);if(h=h.add(t),0!==d)for(let e=0;e<c;e++)h=h.double()}return h}function fr(t,e,n){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return function(t){In(t,Vn.reduce((t,e)=>(t[e]="function",t),{ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"}))}(e),e}return Qn(t,{isLE:n})}function pr(t,e,n={},r){if(void 0===r&&(r="edwards"===t),!e||"object"!=typeof e)throw new Error(`expected valid ${t} CURVE object`);for(const a of["p","n","h"]){const t=e[a];if(!("bigint"==typeof t&&t>tr))throw new Error(`CURVE.${a} must be positive bigint`)}const i=fr(e.p,n.Fp,r),o=fr(e.n,n.Fn,r),s=["Gx","Gy","a","weierstrass"===t?"b":"d"];for(const a of s)if(!i.isValid(e[a]))throw new Error(`CURVE.${a} must be valid field element of CURVE.Fp`);return{CURVE:e=Object.freeze(Object.assign({},e)),Fp:i,Fn:o}}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const mr=BigInt(0),gr=BigInt(1),yr=BigInt(2),wr=BigInt(8);function br(t,e,n={}){if("function"!=typeof e)throw new Error('"hash" function param is required');In(n,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:r}=n,{BASE:i,Fp:o,Fn:s}=t,a=n.randomBytes||je,c=n.adjustScalarBytes||(t=>t),l=n.domain||((t,e,n)=>{if(fn(n,"phflag"),e.length||n)throw new Error("Contexts/pre-hash are not supported");return t});function u(t){return s.create(wn(t))}function h(t){const{head:n,prefix:r,scalar:o}=function(t){const n=g.secretKey;t=xn("private key",t,n);const r=xn("hashed private key",e(t),2*n),i=c(r.slice(0,n));return{head:i,prefix:r.slice(n,2*n),scalar:u(i)}}(t),s=i.multiply(o),a=s.toBytes();return{head:n,prefix:r,scalar:o,point:s,pointBytes:a}}function d(t){return h(t).pointBytes}function f(t=Uint8Array.of(),...n){const i=Ne(...n);return u(e(l(i,xn("context",t),!!r)))}const p={zip215:!0};const m=o.BYTES,g={secretKey:m,publicKey:m,signature:2*m,seed:m};function y(t=a(g.seed)){return pn(t,g.seed,"seed")}const w={getExtendedPublicKey:h,randomSecretKey:y,isValidSecretKey:function(t){return ce(t)&&t.length===s.BYTES},isValidPublicKey:function(e,n){try{return!!t.fromBytes(e,n)}catch(r){return!1}},toMontgomery(e){const{y:n}=t.fromBytes(e),r=g.publicKey,i=32===r;if(!i&&57!==r)throw new Error("only defined for 25519 and 448");const s=i?o.div(gr+n,gr-n):o.div(n-gr,n+gr);return o.toBytes(s)},toMontgomerySecret(t){const n=g.secretKey;pn(t,n);const r=e(t.subarray(0,n));return c(r).subarray(0,n)},randomPrivateKey:y,precompute:(e=8,n=t.BASE)=>n.precompute(e,!1)};return Object.freeze({keygen:function(t){const e=w.randomSecretKey(t);return{secretKey:e,publicKey:d(e)}},getPublicKey:d,sign:function(t,e,n={}){t=xn("message",t),r&&(t=r(t));const{prefix:o,scalar:a,pointBytes:c}=h(e),l=f(n.context,o,t),u=i.multiply(l).toBytes(),d=f(n.context,u,c,t),p=s.create(l+d*a);if(!s.isValid(p))throw new Error("sign failed: invalid s");return pn(Ne(u,s.toBytes(p)),g.signature,"result")},verify:function(e,n,o,s=p){const{context:a,zip215:c}=s,l=g.signature;e=xn("signature",e,l),n=xn("message",n),o=xn("publicKey",o,g.publicKey),void 0!==c&&fn(c,"zip215"),r&&(n=r(n));const u=l/2,h=e.subarray(0,u),d=wn(e.subarray(u,l));let m,y,w;try{m=t.fromBytes(o,c),y=t.fromBytes(h,c),w=i.multiplyUnsafe(d)}catch(v){return!1}if(!c&&m.isSmallOrder())return!1;const b=f(a,y.toBytes(),m.toBytes(),n);return y.add(m.multiplyUnsafe(b)).subtract(w).clearCofactor().is0()},utils:w,Point:t,lengths:g})}function vr(t){const{CURVE:e,curveOpts:n,hash:r,eddsaOpts:i}=function(t){const e={a:t.a,d:t.d,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n={Fp:t.Fp,Fn:Qn(e.n,t.nBitLength,!0),uvRatio:t.uvRatio},r={randomBytes:t.randomBytes,adjustScalarBytes:t.adjustScalarBytes,domain:t.domain,prehash:t.prehash,mapToCurve:t.mapToCurve};return{CURVE:e,curveOpts:n,hash:t.hash,eddsaOpts:r}}(t),o=function(t,e={}){const n=pr("edwards",t,e,e.FpFnLE),{Fp:r,Fn:i}=n;let o=n.CURVE;const{h:s}=o;In(e,{},{uvRatio:"function"});const a=yr<<BigInt(8*i.BYTES)-gr,c=t=>r.create(t),l=e.uvRatio||((t,e)=>{try{return{isValid:!0,value:r.sqrt(r.div(t,e))}}catch(sy){return{isValid:!1,value:mr}}});if(!function(t,e,n,r){const i=t.sqr(n),o=t.sqr(r),s=t.add(t.mul(e.a,i),o),a=t.add(t.ONE,t.mul(e.d,t.mul(i,o)));return t.eql(s,a)}(r,o,o.Gx,o.Gy))throw new Error("bad curve params: generator point");function u(t,e,n=!1){return Sn("coordinate "+t,e,n?gr:mr,a),e}function h(t){if(!(t instanceof p))throw new Error("ExtendedPoint expected")}const d=Nn((t,e)=>{const{X:n,Y:i,Z:o}=t,s=t.is0();null==e&&(e=s?wr:r.inv(o));const a=c(n*e),l=c(i*e),u=r.mul(o,e);if(s)return{x:mr,y:gr};if(u!==gr)throw new Error("invZ was invalid");return{x:a,y:l}}),f=Nn(t=>{const{a:e,d:n}=o;if(t.is0())throw new Error("bad point: ZERO");const{X:r,Y:i,Z:s,T:a}=t,l=c(r*r),u=c(i*i),h=c(s*s),d=c(h*h),f=c(l*e);if(c(h*c(f+u))!==c(d+c(n*c(l*u))))throw new Error("bad point: equation left != right (1)");if(c(r*i)!==c(s*a))throw new Error("bad point: equation left != right (2)");return!0});class p{constructor(t,e,n,r){this.X=u("x",t),this.Y=u("y",e),this.Z=u("z",n,!0),this.T=u("t",r),Object.freeze(this)}static CURVE(){return o}static fromAffine(t){if(t instanceof p)throw new Error("extended point not allowed");const{x:e,y:n}=t||{};return u("x",e),u("y",n),new p(e,n,gr,c(e*n))}static fromBytes(t,e=!1){const n=r.BYTES,{a:i,d:s}=o;t=En(pn(t,n,"point")),fn(e,"zip215");const u=En(t),h=t[n-1];u[n-1]=-129&h;const d=wn(u),f=e?a:r.ORDER;Sn("point.y",d,mr,f);const m=c(d*d),g=c(m-gr),y=c(s*m-i);let{isValid:w,value:b}=l(g,y);if(!w)throw new Error("bad point: invalid y coordinate");const v=(b&gr)===gr,x=!!(128&h);if(!e&&b===mr&&x)throw new Error("bad point: x=0 and x_0=1");return x!==v&&(b=c(-b)),p.fromAffine({x:b,y:d})}static fromHex(t,e=!1){return p.fromBytes(xn("point",t),e)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(t=8,e=!0){return m.createCache(this,t),e||this.multiply(yr),this}assertValidity(){f(this)}equals(t){h(t);const{X:e,Y:n,Z:r}=this,{X:i,Y:o,Z:s}=t,a=c(e*s),l=c(i*r),u=c(n*s),d=c(o*r);return a===l&&u===d}is0(){return this.equals(p.ZERO)}negate(){return new p(c(-this.X),this.Y,this.Z,c(-this.T))}double(){const{a:t}=o,{X:e,Y:n,Z:r}=this,i=c(e*e),s=c(n*n),a=c(yr*c(r*r)),l=c(t*i),u=e+n,h=c(c(u*u)-i-s),d=l+s,f=d-a,m=l-s,g=c(h*f),y=c(d*m),w=c(h*m),b=c(f*d);return new p(g,y,b,w)}add(t){h(t);const{a:e,d:n}=o,{X:r,Y:i,Z:s,T:a}=this,{X:l,Y:u,Z:d,T:f}=t,m=c(r*l),g=c(i*u),y=c(a*n*f),w=c(s*d),b=c((r+i)*(l+u)-m-g),v=w-y,x=w+y,E=c(g-e*m),M=c(b*v),S=c(x*E),A=c(b*E),k=c(v*x);return new p(M,S,k,A)}subtract(t){return this.add(t.negate())}multiply(t){if(!i.isValidNot0(t))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:e,f:n}=m.cached(this,t,t=>rr(p,t));return rr(p,[e,n])[0]}multiplyUnsafe(t,e=p.ZERO){if(!i.isValid(t))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return t===mr?p.ZERO:this.is0()||t===gr?this:m.unsafe(this,t,t=>rr(p,t),e)}isSmallOrder(){return this.multiplyUnsafe(s).is0()}isTorsionFree(){return m.unsafe(this,o.n).is0()}toAffine(t){return d(this,t)}clearCofactor(){return s===gr?this:this.multiplyUnsafe(s)}toBytes(){const{x:t,y:e}=this.toAffine(),n=r.toBytes(e);return n[n.length-1]|=t&gr?128:0,n}toHex(){return we(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(t){return rr(p,t)}static msm(t,e){return dr(p,i,t,e)}_setWindowSize(t){this.precompute(t)}toRawBytes(){return this.toBytes()}}p.BASE=new p(o.Gx,o.Gy,gr,c(o.Gx*o.Gy)),p.ZERO=new p(mr,gr,gr,mr),p.Fp=r,p.Fn=i;const m=new hr(p,i.BITS);return p.BASE.precompute(8),p}(e,n);return function(t,e){const n=e.Point;return Object.assign({},e,{ExtendedPoint:n,CURVE:t,nBitLength:n.Fn.BITS,nByteLength:n.Fn.BYTES})}(t,br(o,r,i))}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const xr=BigInt(1),Er=BigInt(2);BigInt(3);const Mr=BigInt(5),Sr=BigInt(8),Ar=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),kr=(()=>({p:Ar,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:Sr,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")}))();function Ir(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const Nr=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function Lr(t,e){const n=Ar,r=Un(e*e*e,n),i=function(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),o=Ar,s=t*t%o*t%o,a=Pn(s,Er,o)*s%o,c=Pn(a,xr,o)*t%o,l=Pn(c,Mr,o)*c%o,u=Pn(l,e,o)*l%o,h=Pn(u,n,o)*u%o,d=Pn(h,r,o)*h%o,f=Pn(d,i,o)*d%o,p=Pn(f,i,o)*d%o,m=Pn(p,e,o)*l%o;return{pow_p_5_8:Pn(m,Er,o)*t%o,b2:s}}(t*Un(r*r*e,n)).pow_p_5_8;let o=Un(t*r*i,n);const s=Un(e*o*o,n),a=o,c=Un(o*Nr,n),l=s===t,u=s===Un(-t,n),h=s===Un(-t*Nr,n);return l&&(o=a),(u||h)&&(o=c),(Un(o,n)&Bn)===Bn&&(o=Un(-o,n)),{isValid:l||u,value:o}}const Br=(()=>Qn(kr.p,{isLE:!0}))(),jr=(()=>({...kr,Fp:Br,hash:un,adjustScalarBytes:Ir,uvRatio:Lr}))(),Cr=(()=>vr(jr))();var _r={exports:{}};const Tr=i(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));!function(t,e){function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function r(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function i(t,e,n){if(i.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var o;"object"==typeof t?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:Tr.Buffer}catch(sy){}function s(t,e){var r=t.charCodeAt(e);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+t)}function a(t,e,n){var r=s(t,n);return n-1>=e&&(r|=s(t,n-1)<<4),r}function c(t,e,r,i){for(var o=0,s=0,a=Math.min(t.length,r),c=e;c<a;c++){var l=t.charCodeAt(c)-48;o*=i,s=l>=49?l-49+10:l>=17?l-17+10:l,n(l>=0&&s<i,"Invalid character"),o+=s}return o}function l(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(i.isBN=function(t){return t instanceof i||null!==t&&"object"==typeof t&&t.constructor.wordSize===i.wordSize&&Array.isArray(t.words)},i.max=function(t,e){return t.cmp(e)>0?t:e},i.min=function(t,e){return t.cmp(e)<0?t:e},i.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},i.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},i.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this._strip()},i.prototype._parseHex=function(t,e,n){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,o=0,s=0;if("be"===n)for(r=t.length-1;r>=e;r-=2)i=a(t,e,r)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(r=(t.length-e)%2==0?e+1:e;r<t.length;r+=2)i=a(t,e,r)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this._strip()},i.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=e)r++;r--,i=i/e|0;for(var o=t.length-n,s=o%r,a=Math.min(o,o-s)+n,l=0,u=n;u<a;u+=r)l=c(t,u,u+r,e),this.imuln(i),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(0!==s){var h=1;for(l=c(t,u,t.length,e),u=0;u<s;u++)h*=e;this.imuln(h),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this._strip()},i.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},i.prototype._move=function(t){l(t,this)},i.prototype.clone=function(){var t=new i(null);return this.copy(t),t},i.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=u}catch(sy){i.prototype.inspect=u}else i.prototype.inspect=u;function u(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function p(t,e,n){n.negative=e.negative^t.negative;var r=t.length+e.length|0;n.length=r,r=r-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,c=s/67108864|0;n.words[0]=a;for(var l=1;l<r;l++){for(var u=c>>>26,h=67108863&c,d=Math.min(l,e.length-1),f=Math.max(0,l-t.length+1);f<=d;f++){var p=l-f|0;u+=(s=(i=0|t.words[p])*(o=0|e.words[f])+h)/67108864|0,h=67108863&s}n.words[l]=0|h,c=0|u}return 0!==c?n.words[l]=0|c:n.length--,n._strip()}i.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],c=(16777215&(a<<i|o)).toString(16);o=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,s--),r=0!==o||s!==this.length-1?h[6-c.length]+c+r:c+r}for(0!==o&&(r=o.toString(16)+r);r.length%e!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var l=d[t],u=f[t];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modrn(u).toString(t);r=(p=p.idivn(u)).isZero()?m+r:h[l-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},i.prototype.toJSON=function(){return this.toString(16,2)},o&&(i.prototype.toBuffer=function(t,e){return this.toArrayLike(o,t,e)}),i.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},i.prototype.toArrayLike=function(t,e,r){this._strip();var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var s=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,o);return this["_toArrayLike"+("le"===e?"LE":"BE")](s,i),s},i.prototype._toArrayLikeLE=function(t,e){for(var n=0,r=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|r;t[n++]=255&s,n<t.length&&(t[n++]=s>>8&255),n<t.length&&(t[n++]=s>>16&255),6===o?(n<t.length&&(t[n++]=s>>24&255),r=0,o=0):(r=s>>>24,o+=2)}if(n<t.length)for(t[n++]=r;n<t.length;)t[n++]=0},i.prototype._toArrayLikeBE=function(t,e){for(var n=t.length-1,r=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|r;t[n--]=255&s,n>=0&&(t[n--]=s>>8&255),n>=0&&(t[n--]=s>>16&255),6===o?(n>=0&&(t[n--]=s>>24&255),r=0,o=0):(r=s>>>24,o+=2)}if(n>=0)for(t[n--]=r;n>=0;)t[n--]=0},Math.clz32?i.prototype._countBits=function(t){return 32-Math.clz32(t)}:i.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},i.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 8191&e||(n+=13,e>>>=13),127&e||(n+=7,e>>>=7),15&e||(n+=4,e>>>=4),3&e||(n+=2,e>>>=2),1&e||n++,n},i.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},i.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},i.prototype.ior=function(t){return n(0===(this.negative|t.negative)),this.iuor(t)},i.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},i.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},i.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this._strip()},i.prototype.iand=function(t){return n(0===(this.negative|t.negative)),this.iuand(t)},i.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},i.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},i.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var r=0;r<n.length;r++)this.words[r]=e.words[r]^n.words[r];if(this!==e)for(;r<e.length;r++)this.words[r]=e.words[r];return this.length=e.length,this._strip()},i.prototype.ixor=function(t){return n(0===(this.negative|t.negative)),this.iuxor(t)},i.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},i.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},i.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},i.prototype.notn=function(t){return this.clone().inotn(t)},i.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},i.prototype.iadd=function(t){var e,n,r;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(n=this,r=t):(n=t,r=this);for(var i=0,o=0;o<r.length;o++)e=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<n.length;o++)e=(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},i.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},i.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,r,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=t):(n=t,r=this);for(var o=0,s=0;s<r.length;s++)o=(e=(0|n.words[s])-(0|r.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<n.length;s++)o=(e=(0|n.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<n.length&&n!==this)for(;s<n.length;s++)this.words[s]=n.words[s];return this.length=Math.max(this.length,s),n!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(t){return this.clone().isub(t)};var m=function(t,e,n){var r,i,o,s=t.words,a=e.words,c=n.words,l=0,u=0|s[0],h=8191&u,d=u>>>13,f=0|s[1],p=8191&f,m=f>>>13,g=0|s[2],y=8191&g,w=g>>>13,b=0|s[3],v=8191&b,x=b>>>13,E=0|s[4],M=8191&E,S=E>>>13,A=0|s[5],k=8191&A,I=A>>>13,N=0|s[6],L=8191&N,B=N>>>13,j=0|s[7],C=8191&j,_=j>>>13,T=0|s[8],R=8191&T,O=T>>>13,D=0|s[9],z=8191&D,U=D>>>13,P=0|a[0],F=8191&P,W=P>>>13,q=0|a[1],K=8191&q,H=q>>>13,$=0|a[2],V=8191&$,Z=$>>>13,Y=0|a[3],G=8191&Y,Q=Y>>>13,J=0|a[4],X=8191&J,tt=J>>>13,et=0|a[5],nt=8191&et,rt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ct=8191&at,lt=at>>>13,ut=0|a[8],ht=8191&ut,dt=ut>>>13,ft=0|a[9],pt=8191&ft,mt=ft>>>13;n.negative=t.negative^e.negative,n.length=19;var gt=(l+(r=Math.imul(h,F))|0)+((8191&(i=(i=Math.imul(h,W))+Math.imul(d,F)|0))<<13)|0;l=((o=Math.imul(d,W))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,r=Math.imul(p,F),i=(i=Math.imul(p,W))+Math.imul(m,F)|0,o=Math.imul(m,W);var yt=(l+(r=r+Math.imul(h,K)|0)|0)+((8191&(i=(i=i+Math.imul(h,H)|0)+Math.imul(d,K)|0))<<13)|0;l=((o=o+Math.imul(d,H)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,r=Math.imul(y,F),i=(i=Math.imul(y,W))+Math.imul(w,F)|0,o=Math.imul(w,W),r=r+Math.imul(p,K)|0,i=(i=i+Math.imul(p,H)|0)+Math.imul(m,K)|0,o=o+Math.imul(m,H)|0;var wt=(l+(r=r+Math.imul(h,V)|0)|0)+((8191&(i=(i=i+Math.imul(h,Z)|0)+Math.imul(d,V)|0))<<13)|0;l=((o=o+Math.imul(d,Z)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,r=Math.imul(v,F),i=(i=Math.imul(v,W))+Math.imul(x,F)|0,o=Math.imul(x,W),r=r+Math.imul(y,K)|0,i=(i=i+Math.imul(y,H)|0)+Math.imul(w,K)|0,o=o+Math.imul(w,H)|0,r=r+Math.imul(p,V)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(m,V)|0,o=o+Math.imul(m,Z)|0;var bt=(l+(r=r+Math.imul(h,G)|0)|0)+((8191&(i=(i=i+Math.imul(h,Q)|0)+Math.imul(d,G)|0))<<13)|0;l=((o=o+Math.imul(d,Q)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,r=Math.imul(M,F),i=(i=Math.imul(M,W))+Math.imul(S,F)|0,o=Math.imul(S,W),r=r+Math.imul(v,K)|0,i=(i=i+Math.imul(v,H)|0)+Math.imul(x,K)|0,o=o+Math.imul(x,H)|0,r=r+Math.imul(y,V)|0,i=(i=i+Math.imul(y,Z)|0)+Math.imul(w,V)|0,o=o+Math.imul(w,Z)|0,r=r+Math.imul(p,G)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(m,G)|0,o=o+Math.imul(m,Q)|0;var vt=(l+(r=r+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(d,X)|0))<<13)|0;l=((o=o+Math.imul(d,tt)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,r=Math.imul(k,F),i=(i=Math.imul(k,W))+Math.imul(I,F)|0,o=Math.imul(I,W),r=r+Math.imul(M,K)|0,i=(i=i+Math.imul(M,H)|0)+Math.imul(S,K)|0,o=o+Math.imul(S,H)|0,r=r+Math.imul(v,V)|0,i=(i=i+Math.imul(v,Z)|0)+Math.imul(x,V)|0,o=o+Math.imul(x,Z)|0,r=r+Math.imul(y,G)|0,i=(i=i+Math.imul(y,Q)|0)+Math.imul(w,G)|0,o=o+Math.imul(w,Q)|0,r=r+Math.imul(p,X)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,X)|0,o=o+Math.imul(m,tt)|0;var xt=(l+(r=r+Math.imul(h,nt)|0)|0)+((8191&(i=(i=i+Math.imul(h,rt)|0)+Math.imul(d,nt)|0))<<13)|0;l=((o=o+Math.imul(d,rt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,r=Math.imul(L,F),i=(i=Math.imul(L,W))+Math.imul(B,F)|0,o=Math.imul(B,W),r=r+Math.imul(k,K)|0,i=(i=i+Math.imul(k,H)|0)+Math.imul(I,K)|0,o=o+Math.imul(I,H)|0,r=r+Math.imul(M,V)|0,i=(i=i+Math.imul(M,Z)|0)+Math.imul(S,V)|0,o=o+Math.imul(S,Z)|0,r=r+Math.imul(v,G)|0,i=(i=i+Math.imul(v,Q)|0)+Math.imul(x,G)|0,o=o+Math.imul(x,Q)|0,r=r+Math.imul(y,X)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(w,X)|0,o=o+Math.imul(w,tt)|0,r=r+Math.imul(p,nt)|0,i=(i=i+Math.imul(p,rt)|0)+Math.imul(m,nt)|0,o=o+Math.imul(m,rt)|0;var Et=(l+(r=r+Math.imul(h,ot)|0)|0)+((8191&(i=(i=i+Math.imul(h,st)|0)+Math.imul(d,ot)|0))<<13)|0;l=((o=o+Math.imul(d,st)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,r=Math.imul(C,F),i=(i=Math.imul(C,W))+Math.imul(_,F)|0,o=Math.imul(_,W),r=r+Math.imul(L,K)|0,i=(i=i+Math.imul(L,H)|0)+Math.imul(B,K)|0,o=o+Math.imul(B,H)|0,r=r+Math.imul(k,V)|0,i=(i=i+Math.imul(k,Z)|0)+Math.imul(I,V)|0,o=o+Math.imul(I,Z)|0,r=r+Math.imul(M,G)|0,i=(i=i+Math.imul(M,Q)|0)+Math.imul(S,G)|0,o=o+Math.imul(S,Q)|0,r=r+Math.imul(v,X)|0,i=(i=i+Math.imul(v,tt)|0)+Math.imul(x,X)|0,o=o+Math.imul(x,tt)|0,r=r+Math.imul(y,nt)|0,i=(i=i+Math.imul(y,rt)|0)+Math.imul(w,nt)|0,o=o+Math.imul(w,rt)|0,r=r+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,st)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,st)|0;var Mt=(l+(r=r+Math.imul(h,ct)|0)|0)+((8191&(i=(i=i+Math.imul(h,lt)|0)+Math.imul(d,ct)|0))<<13)|0;l=((o=o+Math.imul(d,lt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,r=Math.imul(R,F),i=(i=Math.imul(R,W))+Math.imul(O,F)|0,o=Math.imul(O,W),r=r+Math.imul(C,K)|0,i=(i=i+Math.imul(C,H)|0)+Math.imul(_,K)|0,o=o+Math.imul(_,H)|0,r=r+Math.imul(L,V)|0,i=(i=i+Math.imul(L,Z)|0)+Math.imul(B,V)|0,o=o+Math.imul(B,Z)|0,r=r+Math.imul(k,G)|0,i=(i=i+Math.imul(k,Q)|0)+Math.imul(I,G)|0,o=o+Math.imul(I,Q)|0,r=r+Math.imul(M,X)|0,i=(i=i+Math.imul(M,tt)|0)+Math.imul(S,X)|0,o=o+Math.imul(S,tt)|0,r=r+Math.imul(v,nt)|0,i=(i=i+Math.imul(v,rt)|0)+Math.imul(x,nt)|0,o=o+Math.imul(x,rt)|0,r=r+Math.imul(y,ot)|0,i=(i=i+Math.imul(y,st)|0)+Math.imul(w,ot)|0,o=o+Math.imul(w,st)|0,r=r+Math.imul(p,ct)|0,i=(i=i+Math.imul(p,lt)|0)+Math.imul(m,ct)|0,o=o+Math.imul(m,lt)|0;var St=(l+(r=r+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,dt)|0)+Math.imul(d,ht)|0))<<13)|0;l=((o=o+Math.imul(d,dt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,r=Math.imul(z,F),i=(i=Math.imul(z,W))+Math.imul(U,F)|0,o=Math.imul(U,W),r=r+Math.imul(R,K)|0,i=(i=i+Math.imul(R,H)|0)+Math.imul(O,K)|0,o=o+Math.imul(O,H)|0,r=r+Math.imul(C,V)|0,i=(i=i+Math.imul(C,Z)|0)+Math.imul(_,V)|0,o=o+Math.imul(_,Z)|0,r=r+Math.imul(L,G)|0,i=(i=i+Math.imul(L,Q)|0)+Math.imul(B,G)|0,o=o+Math.imul(B,Q)|0,r=r+Math.imul(k,X)|0,i=(i=i+Math.imul(k,tt)|0)+Math.imul(I,X)|0,o=o+Math.imul(I,tt)|0,r=r+Math.imul(M,nt)|0,i=(i=i+Math.imul(M,rt)|0)+Math.imul(S,nt)|0,o=o+Math.imul(S,rt)|0,r=r+Math.imul(v,ot)|0,i=(i=i+Math.imul(v,st)|0)+Math.imul(x,ot)|0,o=o+Math.imul(x,st)|0,r=r+Math.imul(y,ct)|0,i=(i=i+Math.imul(y,lt)|0)+Math.imul(w,ct)|0,o=o+Math.imul(w,lt)|0,r=r+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,dt)|0)+Math.imul(m,ht)|0,o=o+Math.imul(m,dt)|0;var At=(l+(r=r+Math.imul(h,pt)|0)|0)+((8191&(i=(i=i+Math.imul(h,mt)|0)+Math.imul(d,pt)|0))<<13)|0;l=((o=o+Math.imul(d,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,r=Math.imul(z,K),i=(i=Math.imul(z,H))+Math.imul(U,K)|0,o=Math.imul(U,H),r=r+Math.imul(R,V)|0,i=(i=i+Math.imul(R,Z)|0)+Math.imul(O,V)|0,o=o+Math.imul(O,Z)|0,r=r+Math.imul(C,G)|0,i=(i=i+Math.imul(C,Q)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,Q)|0,r=r+Math.imul(L,X)|0,i=(i=i+Math.imul(L,tt)|0)+Math.imul(B,X)|0,o=o+Math.imul(B,tt)|0,r=r+Math.imul(k,nt)|0,i=(i=i+Math.imul(k,rt)|0)+Math.imul(I,nt)|0,o=o+Math.imul(I,rt)|0,r=r+Math.imul(M,ot)|0,i=(i=i+Math.imul(M,st)|0)+Math.imul(S,ot)|0,o=o+Math.imul(S,st)|0,r=r+Math.imul(v,ct)|0,i=(i=i+Math.imul(v,lt)|0)+Math.imul(x,ct)|0,o=o+Math.imul(x,lt)|0,r=r+Math.imul(y,ht)|0,i=(i=i+Math.imul(y,dt)|0)+Math.imul(w,ht)|0,o=o+Math.imul(w,dt)|0;var kt=(l+(r=r+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;l=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,r=Math.imul(z,V),i=(i=Math.imul(z,Z))+Math.imul(U,V)|0,o=Math.imul(U,Z),r=r+Math.imul(R,G)|0,i=(i=i+Math.imul(R,Q)|0)+Math.imul(O,G)|0,o=o+Math.imul(O,Q)|0,r=r+Math.imul(C,X)|0,i=(i=i+Math.imul(C,tt)|0)+Math.imul(_,X)|0,o=o+Math.imul(_,tt)|0,r=r+Math.imul(L,nt)|0,i=(i=i+Math.imul(L,rt)|0)+Math.imul(B,nt)|0,o=o+Math.imul(B,rt)|0,r=r+Math.imul(k,ot)|0,i=(i=i+Math.imul(k,st)|0)+Math.imul(I,ot)|0,o=o+Math.imul(I,st)|0,r=r+Math.imul(M,ct)|0,i=(i=i+Math.imul(M,lt)|0)+Math.imul(S,ct)|0,o=o+Math.imul(S,lt)|0,r=r+Math.imul(v,ht)|0,i=(i=i+Math.imul(v,dt)|0)+Math.imul(x,ht)|0,o=o+Math.imul(x,dt)|0;var It=(l+(r=r+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,mt)|0)+Math.imul(w,pt)|0))<<13)|0;l=((o=o+Math.imul(w,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,r=Math.imul(z,G),i=(i=Math.imul(z,Q))+Math.imul(U,G)|0,o=Math.imul(U,Q),r=r+Math.imul(R,X)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(O,X)|0,o=o+Math.imul(O,tt)|0,r=r+Math.imul(C,nt)|0,i=(i=i+Math.imul(C,rt)|0)+Math.imul(_,nt)|0,o=o+Math.imul(_,rt)|0,r=r+Math.imul(L,ot)|0,i=(i=i+Math.imul(L,st)|0)+Math.imul(B,ot)|0,o=o+Math.imul(B,st)|0,r=r+Math.imul(k,ct)|0,i=(i=i+Math.imul(k,lt)|0)+Math.imul(I,ct)|0,o=o+Math.imul(I,lt)|0,r=r+Math.imul(M,ht)|0,i=(i=i+Math.imul(M,dt)|0)+Math.imul(S,ht)|0,o=o+Math.imul(S,dt)|0;var Nt=(l+(r=r+Math.imul(v,pt)|0)|0)+((8191&(i=(i=i+Math.imul(v,mt)|0)+Math.imul(x,pt)|0))<<13)|0;l=((o=o+Math.imul(x,mt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,r=Math.imul(z,X),i=(i=Math.imul(z,tt))+Math.imul(U,X)|0,o=Math.imul(U,tt),r=r+Math.imul(R,nt)|0,i=(i=i+Math.imul(R,rt)|0)+Math.imul(O,nt)|0,o=o+Math.imul(O,rt)|0,r=r+Math.imul(C,ot)|0,i=(i=i+Math.imul(C,st)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,st)|0,r=r+Math.imul(L,ct)|0,i=(i=i+Math.imul(L,lt)|0)+Math.imul(B,ct)|0,o=o+Math.imul(B,lt)|0,r=r+Math.imul(k,ht)|0,i=(i=i+Math.imul(k,dt)|0)+Math.imul(I,ht)|0,o=o+Math.imul(I,dt)|0;var Lt=(l+(r=r+Math.imul(M,pt)|0)|0)+((8191&(i=(i=i+Math.imul(M,mt)|0)+Math.imul(S,pt)|0))<<13)|0;l=((o=o+Math.imul(S,mt)|0)+(i>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,r=Math.imul(z,nt),i=(i=Math.imul(z,rt))+Math.imul(U,nt)|0,o=Math.imul(U,rt),r=r+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,st)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,st)|0,r=r+Math.imul(C,ct)|0,i=(i=i+Math.imul(C,lt)|0)+Math.imul(_,ct)|0,o=o+Math.imul(_,lt)|0,r=r+Math.imul(L,ht)|0,i=(i=i+Math.imul(L,dt)|0)+Math.imul(B,ht)|0,o=o+Math.imul(B,dt)|0;var Bt=(l+(r=r+Math.imul(k,pt)|0)|0)+((8191&(i=(i=i+Math.imul(k,mt)|0)+Math.imul(I,pt)|0))<<13)|0;l=((o=o+Math.imul(I,mt)|0)+(i>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,r=Math.imul(z,ot),i=(i=Math.imul(z,st))+Math.imul(U,ot)|0,o=Math.imul(U,st),r=r+Math.imul(R,ct)|0,i=(i=i+Math.imul(R,lt)|0)+Math.imul(O,ct)|0,o=o+Math.imul(O,lt)|0,r=r+Math.imul(C,ht)|0,i=(i=i+Math.imul(C,dt)|0)+Math.imul(_,ht)|0,o=o+Math.imul(_,dt)|0;var jt=(l+(r=r+Math.imul(L,pt)|0)|0)+((8191&(i=(i=i+Math.imul(L,mt)|0)+Math.imul(B,pt)|0))<<13)|0;l=((o=o+Math.imul(B,mt)|0)+(i>>>13)|0)+(jt>>>26)|0,jt&=67108863,r=Math.imul(z,ct),i=(i=Math.imul(z,lt))+Math.imul(U,ct)|0,o=Math.imul(U,lt),r=r+Math.imul(R,ht)|0,i=(i=i+Math.imul(R,dt)|0)+Math.imul(O,ht)|0,o=o+Math.imul(O,dt)|0;var Ct=(l+(r=r+Math.imul(C,pt)|0)|0)+((8191&(i=(i=i+Math.imul(C,mt)|0)+Math.imul(_,pt)|0))<<13)|0;l=((o=o+Math.imul(_,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,r=Math.imul(z,ht),i=(i=Math.imul(z,dt))+Math.imul(U,ht)|0,o=Math.imul(U,dt);var _t=(l+(r=r+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,mt)|0)+Math.imul(O,pt)|0))<<13)|0;l=((o=o+Math.imul(O,mt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863;var Tt=(l+(r=Math.imul(z,pt))|0)+((8191&(i=(i=Math.imul(z,mt))+Math.imul(U,pt)|0))<<13)|0;return l=((o=Math.imul(U,mt))+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,c[0]=gt,c[1]=yt,c[2]=wt,c[3]=bt,c[4]=vt,c[5]=xt,c[6]=Et,c[7]=Mt,c[8]=St,c[9]=At,c[10]=kt,c[11]=It,c[12]=Nt,c[13]=Lt,c[14]=Bt,c[15]=jt,c[16]=Ct,c[17]=_t,c[18]=Tt,0!==l&&(c[19]=l,n.length++),n};function g(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var s=i;i=0;for(var a=67108863&r,c=Math.min(o,e.length-1),l=Math.max(0,o-t.length+1);l<=c;l++){var u=o-l,h=(0|t.words[u])*(0|e.words[l]),d=67108863&h;a=67108863&(d=d+a|0),i+=(s=(s=s+(h/67108864|0)|0)+(d>>>26)|0)>>>26,s&=67108863}n.words[o]=a,r=s,s=i}return 0!==r?n.words[o]=r:n.length--,n._strip()}function y(t,e,n){return g(t,e,n)}Math.imul||(m=p),i.prototype.mulTo=function(t,e){var n=this.length+t.length;return 10===this.length&&10===t.length?m(this,t,e):n<63?p(this,t,e):n<1024?g(this,t,e):y(this,t,e)},i.prototype.mul=function(t){var e=new i(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},i.prototype.mulf=function(t){var e=new i(null);return e.words=new Array(this.length+t.length),y(this,t,e)},i.prototype.imul=function(t){return this.clone().mulTo(t,this)},i.prototype.imuln=function(t){var e=t<0;e&&(t=-t),n("number"==typeof t),n(t<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*t,s=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=s>>>26,this.words[i]=67108863&s}return 0!==r&&(this.words[i]=r,this.length++),this.length=0===t?1:this.length,e?this.ineg():this},i.prototype.muln=function(t){return this.clone().imuln(t)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var r=n/26|0,i=n%26;e[n]=t.words[r]>>>i&1}return e}(t);if(0===e.length)return new i(1);for(var n=this,r=0;r<e.length&&0===e[r];r++,n=n.sqr());if(++r<e.length)for(var o=n.sqr();r<e.length;r++,o=o.sqr())0!==e[r]&&(n=n.mul(o));return n},i.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,c=(0|this.words[e])-a<<r;this.words[e]=c|s,s=a>>>26-r}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},i.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},i.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,c=r;if(i-=s,i=Math.max(0,i),c){for(var l=0;l<s;l++)c.words[l]=this.words[l];c.length=s}if(0===s);else if(this.length>s)for(this.length-=s,l=0;l<this.length;l++)this.words[l]=this.words[l+s];else this.words[0]=0,this.length=1;var u=0;for(l=this.length-1;l>=0&&(0!==u||l>=i);l--){var h=0|this.words[l];this.words[l]=u<<26-o|h>>>o,u=h&a}return c&&0!==u&&(c.words[c.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},i.prototype.shln=function(t){return this.clone().ishln(t)},i.prototype.ushln=function(t){return this.clone().iushln(t)},i.prototype.shrn=function(t){return this.clone().ishrn(t)},i.prototype.ushrn=function(t){return this.clone().iushrn(t)},i.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r||!(this.words[r]&i))},i.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},i.prototype.maskn=function(t){return this.clone().imaskn(t)},i.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},i.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},i.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},i.prototype.addn=function(t){return this.clone().iaddn(t)},i.prototype.subn=function(t){return this.clone().isubn(t)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(t,e,r){var i,o,s=t.length+r;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+a;var c=(0|t.words[i])*e;a=((o-=67108863&c)>>26)-(c/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this._strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},i.prototype._wordDiv=function(t,e){var n=(this.length,t.length),r=this.clone(),o=t,s=0|o.words[o.length-1];0!=(n=26-this._countBits(s))&&(o=o.ushln(n),r.iushln(n),s=0|o.words[o.length-1]);var a,c=r.length-o.length;if("mod"!==e){(a=new i(null)).length=c+1,a.words=new Array(a.length);for(var l=0;l<a.length;l++)a.words[l]=0}var u=r.clone()._ishlnsubmul(o,1,c);0===u.negative&&(r=u,a&&(a.words[c]=1));for(var h=c-1;h>=0;h--){var d=67108864*(0|r.words[o.length+h])+(0|r.words[o.length+h-1]);for(d=Math.min(d/s|0,67108863),r._ishlnsubmul(o,d,h);0!==r.negative;)d--,r.negative=0,r._ishlnsubmul(o,1,h),r.isZero()||(r.negative^=1);a&&(a.words[h]=d)}return a&&a._strip(),r._strip(),"div"!==e&&0!==n&&r.iushrn(n),{div:a||null,mod:r}},i.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(o=a.div.neg()),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(t)),{div:o,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(o=a.div.neg()),{div:o,mod:a.mod}):0!==(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new i(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new i(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new i(this.modrn(t.words[0]))}:this._wordDiv(t,e);var o,s,a},i.prototype.div=function(t){return this.divmod(t,"div",!1).div},i.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},i.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},i.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,r=t.ushrn(1),i=t.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},i.prototype.modrn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=(1<<26)%t,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%t;return e?-i:i},i.prototype.modn=function(t){return this.modrn(t)},i.prototype.idivn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/t|0,r=o%t}return this._strip(),e?this.ineg():this},i.prototype.divn=function(t){return this.clone().idivn(t)},i.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o=new i(1),s=new i(0),a=new i(0),c=new i(1),l=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++l;for(var u=r.clone(),h=e.clone();!e.isZero();){for(var d=0,f=1;0===(e.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(o.isOdd()||s.isOdd())&&(o.iadd(u),s.isub(h)),o.iushrn(1),s.iushrn(1);for(var p=0,m=1;0===(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(u),c.isub(h)),a.iushrn(1),c.iushrn(1);e.cmp(r)>=0?(e.isub(r),o.isub(a),s.isub(c)):(r.isub(e),a.isub(o),c.isub(s))}return{a:a,b:c,gcd:r.iushln(l)}},i.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o,s=new i(1),a=new i(0),c=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var l=0,u=1;0===(e.words[0]&u)&&l<26;++l,u<<=1);if(l>0)for(e.iushrn(l);l-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var h=0,d=1;0===(r.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(r.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),s.isub(a)):(r.isub(e),a.isub(s))}return(o=0===e.cmpn(1)?s:a).cmpn(0)<0&&o.iadd(t),o},i.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var r=0;e.isEven()&&n.isEven();r++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=e.cmp(n);if(i<0){var o=e;e=n,n=o}else if(0===i||0===n.cmpn(1))break;e.isub(n)}return n.iushln(r)},i.prototype.invm=function(t){return this.egcd(t).a.umod(t)},i.prototype.isEven=function(){return!(1&this.words[0])},i.prototype.isOdd=function(){return!(1&~this.words[0])},i.prototype.andln=function(t){return this.words[0]&t},i.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},i.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},i.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|t.words[n];if(r!==i){r<i?e=-1:r>i&&(e=1);break}}return e},i.prototype.gtn=function(t){return 1===this.cmpn(t)},i.prototype.gt=function(t){return 1===this.cmp(t)},i.prototype.gten=function(t){return this.cmpn(t)>=0},i.prototype.gte=function(t){return this.cmp(t)>=0},i.prototype.ltn=function(t){return-1===this.cmpn(t)},i.prototype.lt=function(t){return-1===this.cmp(t)},i.prototype.lten=function(t){return this.cmpn(t)<=0},i.prototype.lte=function(t){return this.cmp(t)<=0},i.prototype.eqn=function(t){return 0===this.cmpn(t)},i.prototype.eq=function(t){return 0===this.cmp(t)},i.red=function(t){return new S(t)},i.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(t){return this.red=t,this},i.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},i.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},i.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},i.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},i.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},i.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},i.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},i.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var w={k256:null,p224:null,p192:null,p25519:null};function b(t,e){this.name=t,this.p=new i(e,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function x(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function E(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(t){if("string"==typeof t){var e=i._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function A(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var t=new i(null);return t.words=new Array(Math.ceil(this.n/13)),t},b.prototype.ireduce=function(t){var e,n=t;do{this.split(n,this.tmp),e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(e>this.n);var r=e<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},b.prototype.split=function(t,e){t.iushrn(this.n,0,e)},b.prototype.imulK=function(t){return t.imul(this.k)},r(v,b),v.prototype.split=function(t,e){for(var n=4194303,r=Math.min(t.length,9),i=0;i<r;i++)e.words[i]=t.words[i];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&n,i=10;i<t.length;i++){var s=0|t.words[i];t.words[i-10]=(s&n)<<4|o>>>22,o=s}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},v.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var r=0|t.words[n];e+=977*r,t.words[n]=67108863&e,e=64*r+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},r(x,b),r(E,b),r(M,b),M.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var r=19*(0|t.words[n])+e,i=67108863&r;r>>>=26,t.words[n]=i,e=r}return 0!==e&&(t.words[t.length++]=e),t},i._prime=function(t){if(w[t])return w[t];var e;if("k256"===t)e=new v;else if("p224"===t)e=new x;else if("p192"===t)e=new E;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new M}return w[t]=e,e},S.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},S.prototype._verify2=function(t,e){n(0===(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(l(t,t.umod(this.m)._forceRed(this)),t)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},S.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new i(1)).iushrn(2);return this.pow(t,r)}for(var o=this.m.subn(1),s=0;!o.isZero()&&0===o.andln(1);)s++,o.iushrn(1);n(!o.isZero());var a=new i(1).toRed(this),c=a.redNeg(),l=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new i(2*u*u).toRed(this);0!==this.pow(u,l).cmp(c);)u.redIAdd(c);for(var h=this.pow(u,o),d=this.pow(t,o.addn(1).iushrn(1)),f=this.pow(t,o),p=s;0!==f.cmp(a);){for(var m=f,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var y=this.pow(h,new i(1).iushln(p-g-1));d=d.redMul(y),h=y.redSqr(),f=f.redMul(h),p=g}return d},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new i(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new i(1).toRed(this),n[1]=t;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],t);var o=n[0],s=0,a=0,c=e.bitLength()%26;for(0===c&&(c=26),r=e.length-1;r>=0;r--){for(var l=e.words[r],u=c-1;u>=0;u--){var h=l>>u&1;o!==n[0]&&(o=this.sqr(o)),0!==h||0!==s?(s<<=1,s|=h,(4===++a||0===r&&0===u)&&(o=this.mul(o,n[s]),a=0,s=0)):a=0}c=26}return o},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},i.mont=function(t){return new A(t)},r(A,S),A.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},A.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},A.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},A.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new i(0)._forceRed(this);var n=t.mul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=n.isub(r).iushrn(this.shift),s=o;return o.cmp(this.m)>=0?s=o.isub(this.m):o.cmpn(0)<0&&(s=o.iadd(this.m)),s._forceRed(this)},A.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(_r,o);var Rr=_r.exports;const Or=s(Rr);var Dr={exports:{}};
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */!function(t,e){var n=Gt,r=n.Buffer;function i(t,e){for(var n in t)e[n]=t[n]}function o(t,e,n){return r(t,e,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=o),o.prototype=Object.create(r.prototype),i(r,o),o.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return r(t,e,n)},o.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var i=r(t);return void 0!==e?"string"==typeof n?i.fill(e,n):i.fill(e):i.fill(0),i},o.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r(t)},o.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}}(Dr,Dr.exports);var zr=Dr.exports,Ur=zr.Buffer;var Pr=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),o=i.charCodeAt(0);if(255!==e[o])throw new TypeError(i+" is ambiguous");e[o]=r}var s=t.length,a=t.charAt(0),c=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function u(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return Ur.alloc(0);for(var n=0,r=0,i=0;t[n]===a;)r++,n++;for(var o=(t.length-n)*c+1>>>0,l=new Uint8Array(o);n<t.length;){var u=t.charCodeAt(n);if(u>255)return;var h=e[u];if(255===h)return;for(var d=0,f=o-1;(0!==h||d<i)&&-1!==f;f--,d++)h+=s*l[f]>>>0,l[f]=h%256>>>0,h=h/256>>>0;if(0!==h)throw new Error("Non-zero carry");i=d,n++}for(var p=o-i;p!==o&&0===l[p];)p++;var m=Ur.allocUnsafe(r+(o-p));m.fill(0,0,r);for(var g=r;p!==o;)m[g++]=l[p++];return m}return{encode:function(e){if((Array.isArray(e)||e instanceof Uint8Array)&&(e=Ur.from(e)),!Ur.isBuffer(e))throw new TypeError("Expected Buffer");if(0===e.length)return"";for(var n=0,r=0,i=0,o=e.length;i!==o&&0===e[i];)i++,n++;for(var c=(o-i)*l+1>>>0,u=new Uint8Array(c);i!==o;){for(var h=e[i],d=0,f=c-1;(0!==h||d<r)&&-1!==f;f--,d++)h+=256*u[f]>>>0,u[f]=h%s>>>0,h=h/s>>>0;if(0!==h)throw new Error("Non-zero carry");r=d,i++}for(var p=c-r;p!==c&&0===u[p];)p++;for(var m=a.repeat(n);p<c;++p)m+=t.charAt(u[p]);return m},decodeUnsafe:u,decode:function(t){var e=u(t);if(e)return e;throw new Error("Non-base"+s+" character")}}};const Fr=s(Pr("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")),Wr=ln;var qr={},Kr=zr.Buffer;var Hr=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),o=i.charCodeAt(0);if(255!==e[o])throw new TypeError(i+" is ambiguous");e[o]=r}var s=t.length,a=t.charAt(0),c=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function u(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return Kr.alloc(0);for(var n=0,r=0,i=0;t[n]===a;)r++,n++;for(var o=(t.length-n)*c+1>>>0,l=new Uint8Array(o);n<t.length;){var u=t.charCodeAt(n);if(u>255)return;var h=e[u];if(255===h)return;for(var d=0,f=o-1;(0!==h||d<i)&&-1!==f;f--,d++)h+=s*l[f]>>>0,l[f]=h%256>>>0,h=h/256>>>0;if(0!==h)throw new Error("Non-zero carry");i=d,n++}for(var p=o-i;p!==o&&0===l[p];)p++;var m=Kr.allocUnsafe(r+(o-p));m.fill(0,0,r);for(var g=r;p!==o;)m[g++]=l[p++];return m}return{encode:function(e){if((Array.isArray(e)||e instanceof Uint8Array)&&(e=Kr.from(e)),!Kr.isBuffer(e))throw new TypeError("Expected Buffer");if(0===e.length)return"";for(var n=0,r=0,i=0,o=e.length;i!==o&&0===e[i];)i++,n++;for(var c=(o-i)*l+1>>>0,u=new Uint8Array(c);i!==o;){for(var h=e[i],d=0,f=c-1;(0!==h||d<r)&&-1!==f;f--,d++)h+=256*u[f]>>>0,u[f]=h%s>>>0,h=h/s>>>0;if(0!==h)throw new Error("Non-zero carry");r=d,i++}for(var p=c-r;p!==c&&0===u[p];)p++;for(var m=a.repeat(n);p<c;++p)m+=t.charAt(u[p]);return m},decodeUnsafe:u,decode:function(t){var e=u(t);if(e)return e;throw new Error("Non-base"+s+" character")}}},$r=Hr("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");function Vr(t,e,n){return e<=t&&t<=n}function Zr(t){if(void 0===t)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function Yr(t){this.tokens=[].slice.call(t)}Yr.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var Gr=-1;function Qr(t,e){if(t)throw TypeError("Decoder error");return e||65533}var Jr="utf-8";function Xr(t,e){if(!(this instanceof Xr))return new Xr(t,e);if((t=void 0!==t?String(t).toLowerCase():Jr)!==Jr)throw new Error("Encoding not supported. Only utf-8 is supported");e=Zr(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(e.fatal),this._ignoreBOM=Boolean(e.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function ti(t,e){if(!(this instanceof ti))return new ti(t,e);if((t=void 0!==t?String(t).toLowerCase():Jr)!==Jr)throw new Error("Encoding not supported. Only utf-8 is supported");e=Zr(e),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(e.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}function ei(t){var e=t.fatal,n=0,r=0,i=0,o=128,s=191;this.handler=function(t,a){if(-1===a&&0!==i)return i=0,Qr(e);if(-1===a)return Gr;if(0===i){if(Vr(a,0,127))return a;if(Vr(a,194,223))i=1,n=a-192;else if(Vr(a,224,239))224===a&&(o=160),237===a&&(s=159),i=2,n=a-224;else{if(!Vr(a,240,244))return Qr(e);240===a&&(o=144),244===a&&(s=143),i=3,n=a-240}return n<<=6*i,null}if(!Vr(a,o,s))return n=i=r=0,o=128,s=191,t.prepend(a),Qr(e);if(o=128,s=191,n+=a-128<<6*(i-(r+=1)),r!==i)return null;var c=n;return n=i=r=0,c}}function ni(t){t.fatal,this.handler=function(t,e){if(-1===e)return Gr;if(Vr(e,0,127))return e;var n,r;Vr(e,128,2047)?(n=1,r=192):Vr(e,2048,65535)?(n=2,r=224):Vr(e,65536,1114111)&&(n=3,r=240);for(var i=[(e>>6*n)+r];n>0;){var o=e>>6*(n-1);i.push(128|63&o),n-=1}return i}}Xr.prototype={decode:function(t,e){var n;n="object"==typeof t&&t instanceof ArrayBuffer?new Uint8Array(t):"object"==typeof t&&"buffer"in t&&t.buffer instanceof ArrayBuffer?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(0),e=Zr(e),this._streaming||(this._decoder=new ei({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(e.stream);for(var r,i=new Yr(n),o=[];!i.endOfStream()&&(r=this._decoder.handler(i,i.read()))!==Gr;)null!==r&&(Array.isArray(r)?o.push.apply(o,r):o.push(r));if(!this._streaming){do{if((r=this._decoder.handler(i,i.read()))===Gr)break;null!==r&&(Array.isArray(r)?o.push.apply(o,r):o.push(r))}while(!i.endOfStream());this._decoder=null}return o.length&&(-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===o[0]?(this._BOMseen=!0,o.shift()):this._BOMseen=!0)),function(t){for(var e="",n=0;n<t.length;++n){var r=t[n];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode(55296+(r>>10),56320+(1023&r)))}return e}(o)}},ti.prototype={encode:function(t,e){t=t?String(t):"",e=Zr(e),this._streaming||(this._encoder=new ni(this._options)),this._streaming=Boolean(e.stream);for(var n,r=[],i=new Yr(function(t){for(var e=String(t),n=e.length,r=0,i=[];r<n;){var o=e.charCodeAt(r);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(r===n-1)i.push(65533);else{var s=t.charCodeAt(r+1);if(56320<=s&&s<=57343){var a=1023&o,c=1023&s;i.push(65536+(a<<10)+c),r+=1}else i.push(65533)}r+=1}return i}(t));!i.endOfStream()&&(n=this._encoder.handler(i,i.read()))!==Gr;)Array.isArray(n)?r.push.apply(r,n):r.push(n);if(!this._streaming){for(;(n=this._encoder.handler(i,i.read()))!==Gr;)Array.isArray(n)?r.push.apply(r,n):r.push(n);this._encoder=null}return new Uint8Array(r)}};const ri=i(Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:Xr,TextEncoder:ti},Symbol.toStringTag,{value:"Module"})));var ii=o&&o.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),oi=o&&o.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),si=o&&o.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},ai=o&&o.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&ii(e,t,n);return oi(e,t),e},ci=o&&o.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(qr,"__esModule",{value:!0});var li=qr.deserializeUnchecked=Ai=qr.deserialize=Ei=qr.serialize=qr.BinaryReader=qr.BinaryWriter=qr.BorshError=qr.baseDecode=qr.baseEncode=void 0;const ui=ci(Rr),hi=ci($r),di=ai(ri),fi=new("function"!=typeof TextDecoder?di.TextDecoder:TextDecoder)("utf-8",{fatal:!0});qr.baseEncode=function(t){return"string"==typeof t&&(t=Buffer.from(t,"utf8")),hi.default.encode(Buffer.from(t))},qr.baseDecode=function(t){return Buffer.from(hi.default.decode(t))};const pi=1024;class mi extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}qr.BorshError=mi;class gi{constructor(){this.buf=Buffer.alloc(pi),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(pi)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(Buffer.from(new ui.default(t).toArray("le",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(Buffer.from(new ui.default(t).toArray("le",16)))}writeU256(t){this.maybeResize(),this.writeBuffer(Buffer.from(new ui.default(t).toArray("le",32)))}writeU512(t){this.maybeResize(),this.writeBuffer(Buffer.from(new ui.default(t).toArray("le",64)))}writeBuffer(t){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),t,Buffer.alloc(pi)]),this.length+=t.length}writeString(t){this.maybeResize();const e=Buffer.from(t,"utf8");this.writeU32(e.length),this.writeBuffer(e)}writeFixedArray(t){this.writeBuffer(Buffer.from(t))}writeArray(t,e){this.maybeResize(),this.writeU32(t.length);for(const n of t)this.maybeResize(),e(n)}toArray(){return this.buf.subarray(0,this.length)}}function yi(t,e,n){const r=n.value;n.value=function(...t){try{return r.apply(this,t)}catch(sy){if(sy instanceof RangeError){const e=sy.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(e)>=0)throw new mi("Reached the end of buffer when deserializing")}throw sy}}}qr.BinaryWriter=gi;class wi{constructor(t){this.buf=t,this.offset=0}readU8(){const t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){const t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){const t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){const t=this.readBuffer(8);return new ui.default(t,"le")}readU128(){const t=this.readBuffer(16);return new ui.default(t,"le")}readU256(){const t=this.readBuffer(32);return new ui.default(t,"le")}readU512(){const t=this.readBuffer(64);return new ui.default(t,"le")}readBuffer(t){if(this.offset+t>this.buf.length)throw new mi(`Expected buffer length ${t} isn't within bounds`);const e=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,e}readString(){const t=this.readU32(),e=this.readBuffer(t);try{return fi.decode(e)}catch(sy){throw new mi(`Error decoding UTF-8 string: ${sy}`)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){const e=this.readU32(),n=Array();for(let r=0;r<e;++r)n.push(t());return n}}function bi(t){return t.charAt(0).toUpperCase()+t.slice(1)}function vi(t,e,n,r,i){try{if("string"==typeof r)i[`write${bi(r)}`](n);else if(r instanceof Array)if("number"==typeof r[0]){if(n.length!==r[0])throw new mi(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);i.writeFixedArray(n)}else if(2===r.length&&"number"==typeof r[1]){if(n.length!==r[1])throw new mi(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let e=0;e<r[1];e++)vi(t,null,n[e],r[0],i)}else i.writeArray(n,n=>{vi(t,e,n,r[0],i)});else if(void 0!==r.kind)switch(r.kind){case"option":null==n?i.writeU8(0):(i.writeU8(1),vi(t,e,n,r.type,i));break;case"map":i.writeU32(n.size),n.forEach((n,o)=>{vi(t,e,o,r.key,i),vi(t,e,n,r.value,i)});break;default:throw new mi(`FieldType ${r} unrecognized`)}else xi(t,n,i)}catch(o){throw o instanceof mi&&o.addToFieldPath(e),o}}function xi(t,e,n){if("function"==typeof e.borshSerialize)return void e.borshSerialize(n);const r=t.get(e.constructor);if(!r)throw new mi(`Class ${e.constructor.name} is missing in schema`);if("struct"===r.kind)r.fields.map(([r,i])=>{vi(t,r,e[r],i,n)});else{if("enum"!==r.kind)throw new mi(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`);{const i=e[r.field];for(let o=0;o<r.values.length;++o){const[s,a]=r.values[o];if(s===i){n.writeU8(o),vi(t,s,e[s],a,n);break}}}}}si([yi],wi.prototype,"readU8",null),si([yi],wi.prototype,"readU16",null),si([yi],wi.prototype,"readU32",null),si([yi],wi.prototype,"readU64",null),si([yi],wi.prototype,"readU128",null),si([yi],wi.prototype,"readU256",null),si([yi],wi.prototype,"readU512",null),si([yi],wi.prototype,"readString",null),si([yi],wi.prototype,"readFixedArray",null),si([yi],wi.prototype,"readArray",null),qr.BinaryReader=wi;var Ei=qr.serialize=function(t,e,n=gi){const r=new n;return xi(t,e,r),r.toArray()};function Mi(t,e,n,r){try{if("string"==typeof n)return r[`read${bi(n)}`]();if(n instanceof Array){if("number"==typeof n[0])return r.readFixedArray(n[0]);if("number"==typeof n[1]){const e=[];for(let i=0;i<n[1];i++)e.push(Mi(t,null,n[0],r));return e}return r.readArray(()=>Mi(t,e,n[0],r))}if("option"===n.kind){return r.readU8()?Mi(t,e,n.type,r):void 0}if("map"===n.kind){let i=new Map;const o=r.readU32();for(let s=0;s<o;s++){const o=Mi(t,e,n.key,r),s=Mi(t,e,n.value,r);i.set(o,s)}return i}return Si(t,n,r)}catch(i){throw i instanceof mi&&i.addToFieldPath(e),i}}function Si(t,e,n){if("function"==typeof e.borshDeserialize)return e.borshDeserialize(n);const r=t.get(e);if(!r)throw new mi(`Class ${e.name} is missing in schema`);if("struct"===r.kind){const r={};for(const[i,o]of t.get(e).fields)r[i]=Mi(t,i,o,n);return new e(r)}if("enum"===r.kind){const i=n.readU8();if(i>=r.values.length)throw new mi(`Enum index: ${i} is out of range`);const[o,s]=r.values[i],a=Mi(t,o,s,n);return new e({[o]:a})}throw new mi(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}var Ai=qr.deserialize=function(t,e,n,r=wi){const i=new r(n),o=Si(t,e,i);if(i.offset<n.length)throw new mi(`Unexpected ${n.length-i.offset} bytes after deserialized data`);return o};li=qr.deserializeUnchecked=function(t,e,n,r=wi){return Si(t,e,new r(n))};var ki={};Object.defineProperty(ki,"__esModule",{value:!0}),ki.s16=ki.s8=ki.nu64be=ki.u48be=ki.u40be=ki.u32be=ki.u24be=ki.u16be=mo=ki.nu64=ki.u48=ki.u40=po=ki.u32=ki.u24=fo=ki.u16=ho=ki.u8=uo=ki.offset=ki.greedy=ki.Constant=ki.UTF8=ki.CString=ki.Blob=ki.Boolean=ki.BitField=ki.BitStructure=ki.VariantLayout=ki.Union=ki.UnionLayoutDiscriminator=ki.UnionDiscriminator=ki.Structure=ki.Sequence=ki.DoubleBE=ki.Double=ki.FloatBE=ki.Float=ki.NearInt64BE=ki.NearInt64=ki.NearUInt64BE=ki.NearUInt64=ki.IntBE=ki.Int=ki.UIntBE=ki.UInt=ki.OffsetLayout=ki.GreedyCount=ki.ExternalLayout=ki.bindConstructorLayout=ki.nameWithProperty=ki.Layout=ki.uint8ArrayToBuffer=ki.checkUint8Array=void 0,ki.constant=ki.utf8=ki.cstr=bo=ki.blob=ki.unionLayoutDiscriminator=ki.union=wo=ki.seq=ki.bits=yo=ki.struct=ki.f64be=ki.f64=ki.f32be=ki.f32=ki.ns64be=ki.s48be=ki.s40be=ki.s32be=ki.s24be=ki.s16be=go=ki.ns64=ki.s48=ki.s40=ki.s32=ki.s24=void 0;const Ii=Gt;function Ni(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}function Li(t){return Ni(t),Ii.Buffer.from(t.buffer,t.byteOffset,t.length)}ki.checkUint8Array=Ni,ki.uint8ArrayToBuffer=Li;class Bi{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}function ji(t,e){return e.property?t+"["+e.property+"]":t}ki.Layout=Bi,ki.nameWithProperty=ji,ki.bindConstructorLayout=function(t,e){if("function"!=typeof t)throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Bi))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(t,n){return e.encode(this,t,n)},writable:!0}),Object.defineProperty(t,"decode",{value:(t,n)=>e.decode(t,n),writable:!0})};class Ci extends Bi{isCount(){throw new Error("ExternalLayout is abstract")}}ki.ExternalLayout=Ci;class _i extends Ci{constructor(t=1,e){if(!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");super(-1,e),this.elementSpan=t}isCount(){return!0}decode(t,e=0){Ni(t);const n=t.length-e;return Math.floor(n/this.elementSpan)}encode(t,e,n){return 0}}ki.GreedyCount=_i;class Ti extends Ci{constructor(t,e=0,n){if(!(t instanceof Bi))throw new TypeError("layout must be a Layout");if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof Ri||this.layout instanceof Oi}decode(t,e=0){return this.layout.decode(t,e+this.offset)}encode(t,e,n=0){return this.layout.encode(t,e,n+this.offset)}}ki.OffsetLayout=Ti;class Ri extends Bi{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return Li(t).readUIntLE(e,this.span)}encode(t,e,n=0){return Li(e).writeUIntLE(t,n,this.span),this.span}}ki.UInt=Ri;class Oi extends Bi{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return Li(t).readUIntBE(e,this.span)}encode(t,e,n=0){return Li(e).writeUIntBE(t,n,this.span),this.span}}ki.UIntBE=Oi;class Di extends Bi{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return Li(t).readIntLE(e,this.span)}encode(t,e,n=0){return Li(e).writeIntLE(t,n,this.span),this.span}}ki.Int=Di;class zi extends Bi{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return Li(t).readIntBE(e,this.span)}encode(t,e,n=0){return Li(e).writeIntBE(t,n,this.span),this.span}}ki.IntBE=zi;const Ui=Math.pow(2,32);function Pi(t){const e=Math.floor(t/Ui);return{hi32:e,lo32:t-e*Ui}}function Fi(t,e){return t*Ui+e}class Wi extends Bi{constructor(t){super(8,t)}decode(t,e=0){const n=Li(t),r=n.readUInt32LE(e);return Fi(n.readUInt32LE(e+4),r)}encode(t,e,n=0){const r=Pi(t),i=Li(e);return i.writeUInt32LE(r.lo32,n),i.writeUInt32LE(r.hi32,n+4),8}}ki.NearUInt64=Wi;class qi extends Bi{constructor(t){super(8,t)}decode(t,e=0){const n=Li(t);return Fi(n.readUInt32BE(e),n.readUInt32BE(e+4))}encode(t,e,n=0){const r=Pi(t),i=Li(e);return i.writeUInt32BE(r.hi32,n),i.writeUInt32BE(r.lo32,n+4),8}}ki.NearUInt64BE=qi;class Ki extends Bi{constructor(t){super(8,t)}decode(t,e=0){const n=Li(t),r=n.readUInt32LE(e);return Fi(n.readInt32LE(e+4),r)}encode(t,e,n=0){const r=Pi(t),i=Li(e);return i.writeUInt32LE(r.lo32,n),i.writeInt32LE(r.hi32,n+4),8}}ki.NearInt64=Ki;class Hi extends Bi{constructor(t){super(8,t)}decode(t,e=0){const n=Li(t);return Fi(n.readInt32BE(e),n.readUInt32BE(e+4))}encode(t,e,n=0){const r=Pi(t),i=Li(e);return i.writeInt32BE(r.hi32,n),i.writeUInt32BE(r.lo32,n+4),8}}ki.NearInt64BE=Hi;class $i extends Bi{constructor(t){super(4,t)}decode(t,e=0){return Li(t).readFloatLE(e)}encode(t,e,n=0){return Li(e).writeFloatLE(t,n),4}}ki.Float=$i;class Vi extends Bi{constructor(t){super(4,t)}decode(t,e=0){return Li(t).readFloatBE(e)}encode(t,e,n=0){return Li(e).writeFloatBE(t,n),4}}ki.FloatBE=Vi;class Zi extends Bi{constructor(t){super(8,t)}decode(t,e=0){return Li(t).readDoubleLE(e)}encode(t,e,n=0){return Li(e).writeDoubleLE(t,n),8}}ki.Double=Zi;class Yi extends Bi{constructor(t){super(8,t)}decode(t,e=0){return Li(t).readDoubleBE(e)}encode(t,e,n=0){return Li(e).writeDoubleBE(t,n),8}}ki.DoubleBE=Yi;class Gi extends Bi{constructor(t,e,n){if(!(t instanceof Bi))throw new TypeError("elementLayout must be a Layout");if(!(e instanceof Ci&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let r=-1;!(e instanceof Ci)&&0<t.span&&(r=e*t.span),super(r,n),this.elementLayout=t,this.count=e}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0,r=this.count;if(r instanceof Ci&&(r=r.decode(t,e)),0<this.elementLayout.span)n=r*this.elementLayout.span;else{let i=0;for(;i<r;)n+=this.elementLayout.getSpan(t,e+n),++i}return n}decode(t,e=0){const n=[];let r=0,i=this.count;for(i instanceof Ci&&(i=i.decode(t,e));r<i;)n.push(this.elementLayout.decode(t,e)),e+=this.elementLayout.getSpan(t,e),r+=1;return n}encode(t,e,n=0){const r=this.elementLayout,i=t.reduce((t,i)=>t+r.encode(i,e,n+t),0);return this.count instanceof Ci&&this.count.encode(t.length,e,n),i}}ki.Sequence=Gi;class Qi extends Bi{constructor(t,e,n){if(!Array.isArray(t)||!t.reduce((t,e)=>t&&e instanceof Bi,!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof e&&void 0===n&&(n=e,e=void 0);for(const i of t)if(0>i.span&&void 0===i.property)throw new Error("fields cannot contain unnamed variable-length layout");let r=-1;try{r=t.reduce((t,e)=>t+e.getSpan(),0)}catch(sy){}super(r,e),this.fields=t,this.decodePrefixes=!!n}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((n,r)=>{const i=r.getSpan(t,e);return e+=i,n+i},0)}catch(sy){throw new RangeError("indeterminate span")}return n}decode(t,e=0){Ni(t);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(t,e)),e+=r.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return n}encode(t,e,n=0){const r=n;let i=0,o=0;for(const s of this.fields){let r=s.span;if(o=0<r?r:0,void 0!==s.property){const i=t[s.property];void 0!==i&&(o=s.encode(i,e,n),0>r&&(r=s.getSpan(e,n)))}i=n,n+=r}return i+o-r}fromArray(t){const e=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<t.length&&(e[n.property]=t.shift());return e}layoutFor(t){if("string"!=typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if("string"!=typeof t)throw new TypeError("property must be string");let e=0;for(const n of this.fields){if(n.property===t)return e;0>n.span?e=-1:0<=e&&(e+=n.span)}}}ki.Structure=Qi;class Ji{constructor(t){this.property=t}decode(t,e){throw new Error("UnionDiscriminator is abstract")}encode(t,e,n){throw new Error("UnionDiscriminator is abstract")}}ki.UnionDiscriminator=Ji;class Xi extends Ji{constructor(t,e){if(!(t instanceof Ci&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,n){return this.layout.encode(t,e,n)}}ki.UnionLayoutDiscriminator=Xi;class to extends Bi{constructor(t,e,n){let r;if(t instanceof Ri||t instanceof Oi)r=new Xi(new Ti(t));else if(t instanceof Ci&&t.isCount())r=new Xi(t);else{if(!(t instanceof Ji))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");r=t}if(void 0===e&&(e=null),!(null===e||e instanceof Bi))throw new TypeError("defaultLayout must be null or a Layout");if(null!==e){if(0>e.span)throw new Error("defaultLayout must have constant span");void 0===e.property&&(e=e.replicate("content"))}let i=-1;e&&(i=e.span,0<=i&&(t instanceof Ri||t instanceof Oi)&&(i+=r.layout.span)),super(i,n),this.discriminator=r,this.usesPrefixDiscriminator=t instanceof Ri||t instanceof Oi,this.defaultLayout=e,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(t){return o(t)},this.configGetSourceVariant=function(t){o=t.bind(this)}}getSpan(t,e=0){if(0<=this.span)return this.span;const n=this.getVariant(t,e);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(t,e)}defaultGetSourceVariant(t){if(Object.prototype.hasOwnProperty.call(t,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(t,this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||e.property&&Object.prototype.hasOwnProperty.call(t,e.property)))return e}else for(const e in this.registry){const n=this.registry[e];if(n.property&&Object.prototype.hasOwnProperty.call(t,n.property))return n}throw new Error("unable to infer src variant")}decode(t,e=0){let n;const r=this.discriminator,i=r.decode(t,e),o=this.registry[i];if(void 0===o){const o=this.defaultLayout;let s=0;this.usesPrefixDiscriminator&&(s=r.layout.span),n=this.makeDestinationObject(),n[r.property]=i,n[o.property]=o.decode(t,e+s)}else n=o.decode(t,e);return n}encode(t,e,n=0){const r=this.getSourceVariant(t);if(void 0===r){const r=this.discriminator,i=this.defaultLayout;let o=0;return this.usesPrefixDiscriminator&&(o=r.layout.span),r.encode(t[r.property],e,n),o+i.encode(t[i.property],e,n+o)}return r.encode(t,e,n)}addVariant(t,e,n){const r=new eo(this,t,e,n);return this.registry[t]=r,r}getVariant(t,e=0){let n;return n=t instanceof Uint8Array?this.discriminator.decode(t,e):t,this.registry[n]}}ki.Union=to;class eo extends Bi{constructor(t,e,n,r){if(!(t instanceof to))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof n&&void 0===r&&(r=n,n=null),n){if(!(n instanceof Bi))throw new TypeError("layout must be a Layout");if(null!==t.defaultLayout&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof r)throw new TypeError("variant must have a String property")}let i=t.span;0>t.span&&(i=n?n.span:0,0<=i&&t.usesPrefixDiscriminator&&(i+=t.discriminator.layout.span)),super(i,r),this.union=t,this.variant=e,this.layout=n||null}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let r=0;return this.layout&&(r=this.layout.getSpan(t,e+n)),n+r}decode(t,e=0){const n=this.makeDestinationObject();if(this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(t,e+r):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(t,e,n=0){let r=0;if(this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(t,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,n);let i=r;if(this.layout&&(this.layout.encode(t[this.property],e,n+r),i+=this.layout.getSpan(e,n+r),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}function no(t){return 0>t&&(t+=4294967296),t}ki.VariantLayout=eo;class ro extends Bi{constructor(t,e,n){if(!(t instanceof Ri||t instanceof Oi))throw new TypeError("word must be a UInt or UIntBE layout");if("string"==typeof e&&void 0===n&&(n=e,e=!1),4<t.span)throw new RangeError("word cannot exceed 32 bits");super(t.span,n),this.word=t,this.msb=!!e,this.fields=[];let r=0;this._packedSetValue=function(t){return r=no(t),this},this._packedGetValue=function(){return r}}decode(t,e=0){const n=this.makeDestinationObject(),r=this.word.decode(t,e);this._packedSetValue(r);for(const i of this.fields)void 0!==i.property&&(n[i.property]=i.decode(t));return n}encode(t,e,n=0){const r=this.word.decode(e,n);this._packedSetValue(r);for(const i of this.fields)if(void 0!==i.property){const e=t[i.property];void 0!==e&&i.encode(e)}return this.word.encode(this._packedGetValue(),e,n)}addField(t,e){const n=new io(this,t,e);return this.fields.push(n),n}addBoolean(t){const e=new oo(this,t);return this.fields.push(e),e}fieldFor(t){if("string"!=typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}}ki.BitStructure=ro;class io{constructor(t,e,n){if(!(t instanceof ro))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(e)||0>=e)throw new TypeError("bits must be positive integer");const r=8*t.span,i=t.fields.reduce((t,e)=>t+e.bits,0);if(e+i>r)throw new Error("bits too long for span remainder ("+(r-i)+" of "+r+" remain)");this.container=t,this.bits=e,this.valueMask=(1<<e)-1,32===e&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=r-i-e),this.wordMask=no(this.valueMask<<this.start),this.property=n}decode(t,e){return no(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(t){if("number"!=typeof t||!Number.isInteger(t)||t!==no(t&this.valueMask))throw new TypeError(ji("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const e=this.container._packedGetValue(),n=no(t<<this.start);this.container._packedSetValue(no(e&~this.wordMask)|n)}}ki.BitField=io;let oo=class extends io{constructor(t,e){super(t,1,e)}decode(t,e){return!!super.decode(t,e)}encode(t){"boolean"==typeof t&&(t=+t),super.encode(t)}};ki.Boolean=oo;class so extends Bi{constructor(t,e){if(!(t instanceof Ci&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;t instanceof Ci||(n=t),super(n,e),this.length=t}getSpan(t,e){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),n}decode(t,e=0){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),Li(t).slice(e,e+n)}encode(t,e,n){let r=this.length;if(this.length instanceof Ci&&(r=t.length),!(t instanceof Uint8Array&&r===t.length))throw new TypeError(ji("Blob.encode",this)+" requires (length "+r+") Uint8Array as src");if(n+r>e.length)throw new RangeError("encoding overruns Uint8Array");const i=Li(t);return Li(e).write(i.toString("hex"),n,r,"hex"),this.length instanceof Ci&&this.length.encode(r,e,n),r}}ki.Blob=so;class ao extends Bi{constructor(t){super(-1,t)}getSpan(t,e=0){Ni(t);let n=e;for(;n<t.length&&0!==t[n];)n+=1;return 1+n-e}decode(t,e=0){const n=this.getSpan(t,e);return Li(t).slice(e,e+n-1).toString("utf-8")}encode(t,e,n=0){"string"!=typeof t&&(t=String(t));const r=Ii.Buffer.from(t,"utf8"),i=r.length;if(n+i>e.length)throw new RangeError("encoding overruns Buffer");const o=Li(e);return r.copy(o,n),o[n+i]=0,i+1}}ki.CString=ao;class co extends Bi{constructor(t,e){if("string"==typeof t&&void 0===e&&(e=t,t=void 0),void 0===t)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");super(-1,e),this.maxSpan=t}getSpan(t,e=0){return Ni(t),t.length-e}decode(t,e=0){const n=this.getSpan(t,e);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return Li(t).slice(e,e+n).toString("utf-8")}encode(t,e,n=0){"string"!=typeof t&&(t=String(t));const r=Ii.Buffer.from(t,"utf8"),i=r.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(n+i>e.length)throw new RangeError("encoding overruns Buffer");return r.copy(Li(e),n),i}}ki.UTF8=co;class lo extends Bi{constructor(t,e){super(0,e),this.value=t}decode(t,e){return this.value}encode(t,e,n){return 0}}ki.Constant=lo,ki.greedy=(t,e)=>new _i(t,e);var uo=ki.offset=(t,e,n)=>new Ti(t,e,n),ho=ki.u8=t=>new Ri(1,t),fo=ki.u16=t=>new Ri(2,t);ki.u24=t=>new Ri(3,t);var po=ki.u32=t=>new Ri(4,t);ki.u40=t=>new Ri(5,t),ki.u48=t=>new Ri(6,t);var mo=ki.nu64=t=>new Wi(t);ki.u16be=t=>new Oi(2,t),ki.u24be=t=>new Oi(3,t),ki.u32be=t=>new Oi(4,t),ki.u40be=t=>new Oi(5,t),ki.u48be=t=>new Oi(6,t),ki.nu64be=t=>new qi(t),ki.s8=t=>new Di(1,t),ki.s16=t=>new Di(2,t),ki.s24=t=>new Di(3,t),ki.s32=t=>new Di(4,t),ki.s40=t=>new Di(5,t),ki.s48=t=>new Di(6,t);var go=ki.ns64=t=>new Ki(t);ki.s16be=t=>new zi(2,t),ki.s24be=t=>new zi(3,t),ki.s32be=t=>new zi(4,t),ki.s40be=t=>new zi(5,t),ki.s48be=t=>new zi(6,t),ki.ns64be=t=>new Hi(t),ki.f32=t=>new $i(t),ki.f32be=t=>new Vi(t),ki.f64=t=>new Zi(t),ki.f64be=t=>new Yi(t);var yo=ki.struct=(t,e,n)=>new Qi(t,e,n);ki.bits=(t,e,n)=>new ro(t,e,n);var wo=ki.seq=(t,e,n)=>new Gi(t,e,n);ki.union=(t,e,n)=>new to(t,e,n),ki.unionLayoutDiscriminator=(t,e)=>new Xi(t,e);var bo=ki.blob=(t,e)=>new so(t,e);ki.cstr=t=>new ao(t),ki.utf8=(t,e)=>new co(t,e),ki.constant=(t,e)=>new lo(t,e);function vo(t){if(Array.isArray(t)){return"%5B"+t.map(vo).join("%2C%20")+"%5D"}return"bigint"==typeof t?`${t}n`:encodeURIComponent(String(null!=t&&null===Object.getPrototypeOf(t)?{...t}:t))}function xo([t,e]){return`${t}=${vo(e)}`}function Eo(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${function(t){const e=Object.entries(t).map(xo).join("&");return btoa(e)}(e)}'`),`${n}\``}}var Mo=class extends Error{constructor(...[t,n]){let r,i;if(n){const{cause:t,...e}=n;t&&(i={cause:t}),Object.keys(e).length>0&&(r=e)}super(Eo(t,r),i),e(this,"cause",this.cause),e(this,"context"),this.context={__code:t,...r},this.name="SolanaError"}};function So(t){return"fixedSize"in t&&"number"==typeof t.fixedSize}function Ao(t){return 1!==t?.endian}function ko(t){return e={fixedSize:t.size,write(e,n,r){t.range&&function(t,e,n,r){if(r<e||r>n)throw new Mo(8078011,{codecDescription:t,max:n,min:e,value:r})}(t.name,t.range[0],t.range[1],e);const i=new ArrayBuffer(t.size);return t.set(new DataView(i),e,Ao(t.config)),n.set(new Uint8Array(i),r),r+t.size}},Object.freeze({...e,encode:t=>{const n=new Uint8Array(function(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}(t,e));return e.write(t,n,0),n}});var e}function Io(t){return e={fixedSize:t.size,read(e,n=0){!function(t,e,n=0){if(e.length-n<=0)throw new Mo(8078e3,{codecDescription:t})}(t.name,e,n),function(t,e,n,r=0){const i=n.length-r;if(i<e)throw new Mo(8078001,{bytesLength:i,codecDescription:t,expected:e})}(t.name,t.size,e,n);const r=new DataView(function(t,e,n){const r=t.byteOffset+(e??0),i=n??t.byteLength;return t.buffer.slice(r,r+i)}(e,n,t.size));return[t.get(r,Ao(t.config)),n+t.size]}},Object.freeze({...e,decode:(t,n=0)=>e.read(t,n)[0]});var e}var No=(t={})=>function(t,e){if(So(t)!==So(e))throw new Mo(8078004);if(So(t)&&So(e)&&t.fixedSize!==e.fixedSize)throw new Mo(8078005,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!So(t)&&!So(e)&&t.maxSize!==e.maxSize)throw new Mo(8078006,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}(((t={})=>ko({config:t,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(t,e,n)=>t.setBigUint64(0,BigInt(e),n),size:8}))(t),((t={})=>Io({config:t,get:(t,e)=>t.getBigUint64(0,e),name:"u64",size:8}))(t));class Lo extends TypeError{constructor(t,e){let n;const{message:r,explanation:i,...o}=t,{path:s}=t,a=0===s.length?r:`At path: ${s.join(".")} -- ${r}`;super(i??a),null!=i&&(this.cause=a),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[t,...e()])}}function Bo(t){return"object"==typeof t&&null!=t}function jo(t){return Bo(t)&&!Array.isArray(t)}function Co(t){return"symbol"==typeof t?t.toString():"string"==typeof t?JSON.stringify(t):`${t}`}function _o(t,e,n,r){if(!0===t)return;!1===t?t={}:"string"==typeof t&&(t={message:t});const{path:i,branch:o}=e,{type:s}=n,{refinement:a,message:c=`Expected a value of type \`${s}\`${a?` with refinement \`${a}\``:""}, but received: \`${Co(r)}\``}=t;return{value:r,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...t,message:c}}function*To(t,e,n,r){var i;Bo(i=t)&&"function"==typeof i[Symbol.iterator]||(t=[t]);for(const o of t){const t=_o(o,e,n,r);t&&(yield t)}}function*Ro(t,e,n={}){const{path:r=[],branch:i=[t],coerce:o=!1,mask:s=!1}=n,a={path:r,branch:i,mask:s};o&&(t=e.coercer(t,a));let c="valid";for(const l of e.validator(t,a))l.explanation=n.message,c="not_valid",yield[l,void 0];for(let[l,u,h]of e.entries(t,a)){const e=Ro(u,h,{path:void 0===l?r:[...r,l],branch:void 0===l?i:[...i,u],coerce:o,mask:s,message:n.message});for(const n of e)n[0]?(c=null!=n[0].refinement?"not_refined":"not_valid",yield[n[0],void 0]):o&&(u=n[1],void 0===l?t=u:t instanceof Map?t.set(l,u):t instanceof Set?t.add(u):Bo(t)&&(void 0!==u||l in t)&&(t[l]=u))}if("not_valid"!==c)for(const l of e.refiner(t,a))l.explanation=n.message,c="not_refined",yield[l,void 0];"valid"===c&&(yield[void 0,t])}let Oo=class{constructor(t){const{type:e,schema:n,validator:r,refiner:i,coercer:o=t=>t,entries:s=function*(){}}=t;this.type=e,this.schema=n,this.entries=s,this.coercer=o,this.validator=r?(t,e)=>To(r(t,e),e,this,t):()=>[],this.refiner=i?(t,e)=>To(i(t,e),e,this,t):()=>[]}assert(t,e){return function(t,e,n){const r=Uo(t,e,{message:n});if(r[0])throw r[0]}(t,this,e)}create(t,e){return Do(t,this,e)}is(t){return zo(t,this)}mask(t,e){return function(t,e,n){const r=Uo(t,e,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}(t,this,e)}validate(t,e={}){return Uo(t,this,e)}};function Do(t,e,n){const r=Uo(t,e,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function zo(t,e){return!Uo(t,e)[0]}function Uo(t,e,n={}){const r=Ro(t,e,n),i=function(t){const{done:e,value:n}=t.next();return e?void 0:n}(r);if(i[0]){return[new Lo(i[0],function*(){for(const t of r)t[0]&&(yield t[0])}),void 0]}return[void 0,i[1]]}function Po(t,e){return new Oo({type:t,schema:null,validator:e})}function Fo(t){return new Oo({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer:t=>Array.isArray(t)?t.slice():t,validator:t=>Array.isArray(t)||`Expected an array value, but received: ${Co(t)}`})}function Wo(){return Po("boolean",t=>"boolean"==typeof t)}function qo(t){return Po("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${Co(e)}`)}function Ko(t){const e=Co(t),n=typeof t;return new Oo({type:"literal",schema:"string"===n||"number"===n||"boolean"===n?t:null,validator:n=>n===t||`Expected the literal \`${e}\`, but received: ${Co(n)}`})}function Ho(t){return new Oo({...t,validator:(e,n)=>null===e||t.validator(e,n),refiner:(e,n)=>null===e||t.refiner(e,n)})}function $o(){return Po("number",t=>"number"==typeof t&&!isNaN(t)||`Expected a number, but received: ${Co(t)}`)}function Vo(t){return new Oo({...t,validator:(e,n)=>void 0===e||t.validator(e,n),refiner:(e,n)=>void 0===e||t.refiner(e,n)})}function Zo(t,e){return new Oo({type:"record",schema:null,*entries(n){if(Bo(n))for(const r in n){const i=n[r];yield[r,r,t],yield[r,i,e]}},validator:t=>jo(t)||`Expected an object, but received: ${Co(t)}`,coercer:t=>jo(t)?{...t}:t})}function Yo(){return Po("string",t=>"string"==typeof t||`Expected a string, but received: ${Co(t)}`)}function Go(t){const e=Po("never",()=>!1);return new Oo({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(t.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],t[i]||e]}},validator:t=>Array.isArray(t)||`Expected an array, but received: ${Co(t)}`,coercer:t=>Array.isArray(t)?t.slice():t})}function Qo(t){const e=Object.keys(t);return new Oo({type:"type",schema:t,*entries(n){if(Bo(n))for(const r of e)yield[r,n[r],t[r]]},validator:t=>jo(t)||`Expected an object, but received: ${Co(t)}`,coercer:t=>jo(t)?{...t}:t})}function Jo(t){const e=t.map(t=>t.type).join(" | ");return new Oo({type:"union",schema:null,coercer(e,n){for(const r of t){const[t,i]=r.validate(e,{coerce:!0,mask:n.mask});if(!t)return i}return e},validator(n,r){const i=[];for(const e of t){const[...t]=Ro(n,e,r),[o]=t;if(!o[0])return[];for(const[e]of t)e&&i.push(e)}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${Co(n)}`,...i]}})}function Xo(){return Po("unknown",()=>!0)}function ts(t,e,n){return new Oo({...t,coercer:(r,i)=>zo(r,e)?t.coercer(n(r,i),i):t.coercer(r,i)})}var es,ns=new Uint8Array(16);function rs(){if(!es&&!(es="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return es(ns)}const is=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function os(t){return"string"==typeof t&&is.test(t)}for(var ss,as,cs=[],ls=0;ls<256;++ls)cs.push((ls+256).toString(16).substr(1));function us(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(cs[t[e+0]]+cs[t[e+1]]+cs[t[e+2]]+cs[t[e+3]]+"-"+cs[t[e+4]]+cs[t[e+5]]+"-"+cs[t[e+6]]+cs[t[e+7]]+"-"+cs[t[e+8]]+cs[t[e+9]]+"-"+cs[t[e+10]]+cs[t[e+11]]+cs[t[e+12]]+cs[t[e+13]]+cs[t[e+14]]+cs[t[e+15]]).toLowerCase();if(!os(n))throw TypeError("Stringified UUID is invalid");return n}var hs=0,ds=0;function fs(t){if(!os(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=255&e,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=255&e,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=255&e,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=255&e,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=255&e,n}function ps(t,e,n){function r(t,r,i,o){if("string"==typeof t&&(t=function(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}(t)),"string"==typeof r&&(r=fs(r)),16!==r.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var s=new Uint8Array(16+t.length);if(s.set(r),s.set(t,r.length),(s=n(s))[6]=15&s[6]|e,s[8]=63&s[8]|128,i){o=o||0;for(var a=0;a<16;++a)i[o+a]=s[a];return i}return us(s)}try{r.name=t}catch(i){}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r}function ms(t){return 14+(t+64>>>9<<4)+1}function gs(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function ys(t,e,n,r,i,o){return gs((s=gs(gs(e,t),gs(r,o)))<<(a=i)|s>>>32-a,n);var s,a}function ws(t,e,n,r,i,o,s){return ys(e&n|~e&r,t,e,i,o,s)}function bs(t,e,n,r,i,o,s){return ys(e&r|n&~r,t,e,i,o,s)}function vs(t,e,n,r,i,o,s){return ys(e^n^r,t,e,i,o,s)}function xs(t,e,n,r,i,o,s){return ys(n^(e|~r),t,e,i,o,s)}var Es=ps("v3",48,function(t){if("string"==typeof t){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return function(t){for(var e=[],n=32*t.length,r="0123456789abcdef",i=0;i<n;i+=8){var o=t[i>>5]>>>i%32&255,s=parseInt(r.charAt(o>>>4&15)+r.charAt(15&o),16);e.push(s)}return e}(function(t,e){t[e>>5]|=128<<e%32,t[ms(e)-1]=e;for(var n=1732584193,r=-271733879,i=-1732584194,o=271733878,s=0;s<t.length;s+=16){var a=n,c=r,l=i,u=o;n=ws(n,r,i,o,t[s],7,-680876936),o=ws(o,n,r,i,t[s+1],12,-389564586),i=ws(i,o,n,r,t[s+2],17,606105819),r=ws(r,i,o,n,t[s+3],22,-1044525330),n=ws(n,r,i,o,t[s+4],7,-176418897),o=ws(o,n,r,i,t[s+5],12,1200080426),i=ws(i,o,n,r,t[s+6],17,-1473231341),r=ws(r,i,o,n,t[s+7],22,-45705983),n=ws(n,r,i,o,t[s+8],7,1770035416),o=ws(o,n,r,i,t[s+9],12,-1958414417),i=ws(i,o,n,r,t[s+10],17,-42063),r=ws(r,i,o,n,t[s+11],22,-1990404162),n=ws(n,r,i,o,t[s+12],7,1804603682),o=ws(o,n,r,i,t[s+13],12,-40341101),i=ws(i,o,n,r,t[s+14],17,-1502002290),n=bs(n,r=ws(r,i,o,n,t[s+15],22,1236535329),i,o,t[s+1],5,-165796510),o=bs(o,n,r,i,t[s+6],9,-1069501632),i=bs(i,o,n,r,t[s+11],14,643717713),r=bs(r,i,o,n,t[s],20,-373897302),n=bs(n,r,i,o,t[s+5],5,-701558691),o=bs(o,n,r,i,t[s+10],9,38016083),i=bs(i,o,n,r,t[s+15],14,-660478335),r=bs(r,i,o,n,t[s+4],20,-405537848),n=bs(n,r,i,o,t[s+9],5,568446438),o=bs(o,n,r,i,t[s+14],9,-1019803690),i=bs(i,o,n,r,t[s+3],14,-187363961),r=bs(r,i,o,n,t[s+8],20,1163531501),n=bs(n,r,i,o,t[s+13],5,-1444681467),o=bs(o,n,r,i,t[s+2],9,-51403784),i=bs(i,o,n,r,t[s+7],14,1735328473),n=vs(n,r=bs(r,i,o,n,t[s+12],20,-1926607734),i,o,t[s+5],4,-378558),o=vs(o,n,r,i,t[s+8],11,-2022574463),i=vs(i,o,n,r,t[s+11],16,1839030562),r=vs(r,i,o,n,t[s+14],23,-35309556),n=vs(n,r,i,o,t[s+1],4,-1530992060),o=vs(o,n,r,i,t[s+4],11,1272893353),i=vs(i,o,n,r,t[s+7],16,-155497632),r=vs(r,i,o,n,t[s+10],23,-1094730640),n=vs(n,r,i,o,t[s+13],4,681279174),o=vs(o,n,r,i,t[s],11,-358537222),i=vs(i,o,n,r,t[s+3],16,-722521979),r=vs(r,i,o,n,t[s+6],23,76029189),n=vs(n,r,i,o,t[s+9],4,-640364487),o=vs(o,n,r,i,t[s+12],11,-421815835),i=vs(i,o,n,r,t[s+15],16,530742520),n=xs(n,r=vs(r,i,o,n,t[s+2],23,-995338651),i,o,t[s],6,-198630844),o=xs(o,n,r,i,t[s+7],10,1126891415),i=xs(i,o,n,r,t[s+14],15,-1416354905),r=xs(r,i,o,n,t[s+5],21,-57434055),n=xs(n,r,i,o,t[s+12],6,1700485571),o=xs(o,n,r,i,t[s+3],10,-1894986606),i=xs(i,o,n,r,t[s+10],15,-1051523),r=xs(r,i,o,n,t[s+1],21,-2054922799),n=xs(n,r,i,o,t[s+8],6,1873313359),o=xs(o,n,r,i,t[s+15],10,-30611744),i=xs(i,o,n,r,t[s+6],15,-1560198380),r=xs(r,i,o,n,t[s+13],21,1309151649),n=xs(n,r,i,o,t[s+4],6,-145523070),o=xs(o,n,r,i,t[s+11],10,-1120210379),i=xs(i,o,n,r,t[s+2],15,718787259),r=xs(r,i,o,n,t[s+9],21,-343485551),n=gs(n,a),r=gs(r,c),i=gs(i,l),o=gs(o,u)}return[n,r,i,o]}(function(t){if(0===t.length)return[];for(var e=8*t.length,n=new Uint32Array(ms(e)),r=0;r<e;r+=8)n[r>>5]|=(255&t[r/8])<<r%32;return n}(t),8*t.length))});function Ms(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:case 3:return e^n^r;case 2:return e&n^e&r^n&r}}function Ss(t,e){return t<<e|t>>>32-e}var As=ps("v5",80,function(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof t){var r=unescape(encodeURIComponent(t));t=[];for(var i=0;i<r.length;++i)t.push(r.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var o=t.length/4+2,s=Math.ceil(o/16),a=new Array(s),c=0;c<s;++c){for(var l=new Uint32Array(16),u=0;u<16;++u)l[u]=t[64*c+4*u]<<24|t[64*c+4*u+1]<<16|t[64*c+4*u+2]<<8|t[64*c+4*u+3];a[c]=l}a[s-1][14]=8*(t.length-1)/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=8*(t.length-1)&4294967295;for(var h=0;h<s;++h){for(var d=new Uint32Array(80),f=0;f<16;++f)d[f]=a[h][f];for(var p=16;p<80;++p)d[p]=Ss(d[p-3]^d[p-8]^d[p-14]^d[p-16],1);for(var m=n[0],g=n[1],y=n[2],w=n[3],b=n[4],v=0;v<80;++v){var x=Math.floor(v/20),E=Ss(m,5)+Ms(x,g,y,w)+b+e[x]+d[v]>>>0;b=w,w=y,y=Ss(g,30)>>>0,g=m,m=E}n[0]=n[0]+m>>>0,n[1]=n[1]+g>>>0,n[2]=n[2]+y>>>0,n[3]=n[3]+w>>>0,n[4]=n[4]+b>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]});const ks=Object.freeze(Object.defineProperty({__proto__:null,NIL:"00000000-0000-0000-0000-000000000000",parse:fs,stringify:us,v1:function(t,e,n){var r=e&&n||0,i=e||new Array(16),o=(t=t||{}).node||ss,s=void 0!==t.clockseq?t.clockseq:as;if(null==o||null==s){var a=t.random||(t.rng||rs)();null==o&&(o=ss=[1|a[0],a[1],a[2],a[3],a[4],a[5]]),null==s&&(s=as=16383&(a[6]<<8|a[7]))}var c=void 0!==t.msecs?t.msecs:Date.now(),l=void 0!==t.nsecs?t.nsecs:ds+1,u=c-hs+(l-ds)/1e4;if(u<0&&void 0===t.clockseq&&(s=s+1&16383),(u<0||c>hs)&&void 0===t.nsecs&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");hs=c,ds=l,as=s;var h=(1e4*(268435455&(c+=122192928e5))+l)%4294967296;i[r++]=h>>>24&255,i[r++]=h>>>16&255,i[r++]=h>>>8&255,i[r++]=255&h;var d=c/4294967296*1e4&268435455;i[r++]=d>>>8&255,i[r++]=255&d,i[r++]=d>>>24&15|16,i[r++]=d>>>16&255,i[r++]=s>>>8|128,i[r++]=255&s;for(var f=0;f<6;++f)i[r+f]=o[f];return e||us(i)},v3:Es,v4:function(t,e,n){var r=(t=t||{}).random||(t.rng||rs)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return us(r)},v5:As,validate:os,version:function(t){if(!os(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}},Symbol.toStringTag,{value:"Module"})),Is=i(ks),Ns=Is.v4;var Ls=function(t,e,n,r){if("string"!=typeof t)throw new TypeError(t+" must be a string");const i="number"==typeof(r=r||{}).version?r.version:2;if(1!==i&&2!==i)throw new TypeError(i+" must be 1 or 2");const o={method:t};if(2===i&&(o.jsonrpc="2.0"),e){if("object"!=typeof e&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");o.params=e}if(void 0===n){const t="function"==typeof r.generator?r.generator:function(){return Ns()};o.id=t(o,r)}else 2===i&&null===n?r.notificationIdNull&&(o.id=null):o.id=n;return o};const Bs=Is.v4,js=Ls,Cs=function(t,e){if(!(this instanceof Cs))return new Cs(t,e);e||(e={}),this.options={reviver:void 0!==e.reviver?e.reviver:null,replacer:void 0!==e.replacer?e.replacer:null,generator:void 0!==e.generator?e.generator:function(){return Bs()},version:void 0!==e.version?e.version:2,notificationIdNull:"boolean"==typeof e.notificationIdNull&&e.notificationIdNull},this.callServer=t};var _s=Cs;Cs.prototype.request=function(t,e,n,r){const i=this;let o=null;const s=Array.isArray(t)&&"function"==typeof e;if(1===this.options.version&&s)throw new TypeError("JSON-RPC 1.0 does not support batching");if(s||!s&&t&&"object"==typeof t&&"function"==typeof e)r=e,o=t;else{"function"==typeof n&&(r=n,n=void 0);const i="function"==typeof r;try{o=js(t,e,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(c){if(i)return r(c);throw c}if(!i)return o}let a;try{a=JSON.stringify(o,this.options.replacer)}catch(c){return r(c)}return this.callServer(a,function(t,e){i._parseResponse(t,e,r)}),o},Cs.prototype._parseResponse=function(t,e,n){if(t)return void n(t);if(!e)return n();let r;try{r=JSON.parse(e,this.options.reviver)}catch(i){return n(i)}if(3===n.length){if(Array.isArray(r)){const t=function(t){return void 0!==t.error},e=function(e){return!t(e)};return n(null,r.filter(t),r.filter(e))}return n(null,r.error,r.result)}n(null,r)};const Ts=s(_s);var Rs={exports:{}};!function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}function i(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function o(t,e,r,o,s){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new i(r,o||t,s),c=n?n+e:e;return t._events[c]?t._events[c].fn?t._events[c]=[t._events[c],a]:t._events[c].push(a):(t._events[c]=a,t._eventsCount++),t}function s(t,e){0===--t._eventsCount?t._events=new r:delete t._events[e]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var t,r,i=[];if(0===this._eventsCount)return i;for(r in t=this._events)e.call(t,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},a.prototype.listeners=function(t){var e=n?n+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,s=new Array(o);i<o;i++)s[i]=r[i].fn;return s},a.prototype.listenerCount=function(t){var e=n?n+t:t,r=this._events[e];return r?r.fn?1:r.length:0},a.prototype.emit=function(t,e,r,i,o,s){var a=n?n+t:t;if(!this._events[a])return!1;var c,l,u=this._events[a],h=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),h){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,r),!0;case 4:return u.fn.call(u.context,e,r,i),!0;case 5:return u.fn.call(u.context,e,r,i,o),!0;case 6:return u.fn.call(u.context,e,r,i,o,s),!0}for(l=1,c=new Array(h-1);l<h;l++)c[l-1]=arguments[l];u.fn.apply(u.context,c)}else{var d,f=u.length;for(l=0;l<f;l++)switch(u[l].once&&this.removeListener(t,u[l].fn,void 0,!0),h){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,e);break;case 3:u[l].fn.call(u[l].context,e,r);break;case 4:u[l].fn.call(u[l].context,e,r,i);break;default:if(!c)for(d=1,c=new Array(h-1);d<h;d++)c[d-1]=arguments[d];u[l].fn.apply(u[l].context,c)}}return!0},a.prototype.on=function(t,e,n){return o(this,t,e,n,!1)},a.prototype.once=function(t,e,n){return o(this,t,e,n,!0)},a.prototype.removeListener=function(t,e,r,i){var o=n?n+t:t;if(!this._events[o])return this;if(!e)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==e||i&&!a.once||r&&a.context!==r||s(this,o);else{for(var c=0,l=[],u=a.length;c<u;c++)(a[c].fn!==e||i&&!a[c].once||r&&a[c].context!==r)&&l.push(a[c]);l.length?this._events[o]=1===l.length?l[0]:l:s(this,o)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&s(this,e)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a}(Rs);const Os=s(Rs.exports);var Ds=class extends Os{constructor(t,n,r){super(),e(this,"socket"),this.socket=new window.WebSocket(t,r),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=t=>this.emit("message",t.data),this.socket.onerror=t=>this.emit("error",t),this.socket.onclose=t=>{this.emit("close",t.code,t.reason)}}send(t,e,n){const r=n||e;try{this.socket.send(t),r()}catch(i){r(i)}}close(t,e){this.socket.close(t,e)}addEventListener(t,e,n){this.socket.addEventListener(t,e,n)}};var zs=class{encode(t){return JSON.stringify(t)}decode(t){return JSON.parse(t)}},Us=class extends Os{constructor(t,n="ws://localhost:8080",{autoconnect:r=!0,reconnect:i=!0,reconnect_interval:o=1e3,max_reconnects:s=5,...a}={},c,l){super(),e(this,"address"),e(this,"rpc_id"),e(this,"queue"),e(this,"options"),e(this,"autoconnect"),e(this,"ready"),e(this,"reconnect"),e(this,"reconnect_timer_id"),e(this,"reconnect_interval"),e(this,"max_reconnects"),e(this,"rest_options"),e(this,"current_reconnects"),e(this,"generate_request_id"),e(this,"socket"),e(this,"webSocketFactory"),e(this,"dataPack"),this.webSocketFactory=t,this.queue={},this.rpc_id=0,this.address=n,this.autoconnect=r,this.ready=!1,this.reconnect=i,this.reconnect_timer_id=void 0,this.reconnect_interval=o,this.max_reconnects=s,this.rest_options=a,this.current_reconnects=0,this.generate_request_id=c||(()=>"number"==typeof this.rpc_id?++this.rpc_id:Number(this.rpc_id)+1),this.dataPack=l||new zs,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(t,e,n,r){return r||"object"!=typeof n||(r=n,n=null),new Promise((i,o)=>{if(!this.ready)return o(new Error("socket not ready"));const s=this.generate_request_id(t,e),a={jsonrpc:"2.0",method:t,params:e||void 0,id:s};this.socket.send(this.dataPack.encode(a),r,t=>{if(t)return o(t);this.queue[s]={promise:[i,o]},n&&(this.queue[s].timeout=setTimeout(()=>{delete this.queue[s],o(new Error("reply timeout"))},n))})})}async login(t){const e=await this.call("rpc.login",t);if(!e)throw new Error("authentication failed");return e}async listMethods(){return await this.call("__listMethods")}notify(t,e){return new Promise((n,r)=>{if(!this.ready)return r(new Error("socket not ready"));const i={jsonrpc:"2.0",method:t,params:e};this.socket.send(this.dataPack.encode(i),t=>{if(t)return r(t);n()})})}async subscribe(t){"string"==typeof t&&(t=[t]);const e=await this.call("rpc.on",t);if("string"==typeof t&&"ok"!==e[t])throw new Error("Failed subscribing to an event '"+t+"' with: "+e[t]);return e}async unsubscribe(t){"string"==typeof t&&(t=[t]);const e=await this.call("rpc.off",t);if("string"==typeof t&&"ok"!==e[t])throw new Error("Failed unsubscribing from an event with: "+e);return e}close(t,e){this.socket&&this.socket.close(t||1e3,e)}setAutoReconnect(t){this.reconnect=t}setReconnectInterval(t){this.reconnect_interval=t}setMaxReconnects(t){this.max_reconnects=t}getCurrentReconnects(){return this.current_reconnects}getMaxReconnects(){return this.max_reconnects}isReconnecting(){return void 0!==this.reconnect_timer_id}willReconnect(){return this.reconnect&&(0===this.max_reconnects||this.current_reconnects<this.max_reconnects)}_connect(t,e){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(t,e),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:t})=>{t instanceof ArrayBuffer&&(t=Gt.Buffer.from(t).toString());try{t=this.dataPack.decode(t)}catch(e){return}if(t.notification&&this.listeners(t.notification).length){if(!Object.keys(t.params).length)return this.emit(t.notification);const e=[t.notification];if(t.params.constructor===Object)e.push(t.params);else for(let n=0;n<t.params.length;n++)e.push(t.params[n]);return Promise.resolve().then(()=>{this.emit.apply(this,e)})}if(!this.queue[t.id])return t.method?Promise.resolve().then(()=>{this.emit(t.method,t?.params)}):void 0;"error"in t=="result"in t&&this.queue[t.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[t.id].timeout&&clearTimeout(this.queue[t.id].timeout),t.error?this.queue[t.id].promise[1](t.error):this.queue[t.id].promise[0](t.result),delete this.queue[t.id]}),this.socket.addEventListener("error",t=>this.emit("error",t)),this.socket.addEventListener("close",({code:n,reason:r})=>{this.ready&&setTimeout(()=>this.emit("close",n,r),0),this.ready=!1,this.socket=void 0,1e3!==n&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||0===this.max_reconnects)?this.reconnect_timer_id=setTimeout(()=>this._connect(t,e),this.reconnect_interval):this.reconnect&&this.max_reconnects>0&&this.current_reconnects>=this.max_reconnects&&setTimeout(()=>this.emit("max_reconnects_reached",n,r),1))})}};class Ps extends Le{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,he(t);const n=Ie(e);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?t.create().update(n).digest():n);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=t.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),fe(i)}update(t){return de(this),this.iHash.update(t),this}digestInto(t){de(this),ue(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:n,finished:r,destroyed:i,blockLen:o,outputLen:s}=this;return t.finished=r,t.destroyed=i,t.blockLen=o,t.outputLen=s,t.oHash=e._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Fs=(t,e,n)=>new Ps(t,e).update(n).digest();Fs.create=(t,e)=>new Ps(t,e);
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const Ws=(t,e)=>(t+(t>=0?e:-e)/Ys)/e;function qs(t){if(!["compact","recovered","der"].includes(t))throw new Error('Signature format must be "compact", "recovered", or "der"');return t}function Ks(t,e){const n={};for(let r of Object.keys(e))n[r]=void 0===t[r]?e[r]:t[r];return fn(n.lowS,"lowS"),fn(n.prehash,"prehash"),void 0!==n.format&&qs(n.format),n}class Hs extends Error{constructor(t=""){super(t)}}const $s={Err:Hs,_tlv:{encode:(t,e)=>{const{Err:n}=$s;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(1&e.length)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=mn(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?mn(i.length/2|128):"";return mn(t)+o+i+e},decode(t,e){const{Err:n}=$s;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++];let o=0;if(!!(128&i)){const t=127&i;if(!t)throw new n("tlv.decode(long): indefinite length not supported");if(t>4)throw new n("tlv.decode(long): byte length is too big");const s=e.subarray(r,r+t);if(s.length!==t)throw new n("tlv.decode: length bytes not complete");if(0===s[0])throw new n("tlv.decode(long): zero leftmost byte");for(const e of s)o=o<<8|e;if(r+=t,o<128)throw new n("tlv.decode(long): not minimal encoding")}else o=i;const s=e.subarray(r,r+o);if(s.length!==o)throw new n("tlv.decode: wrong value length");return{v:s,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=$s;if(t<Vs)throw new e("integer: negative integers are not allowed");let n=mn(t);if(8&Number.parseInt(n[0],16)&&(n="00"+n),1&n.length)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=$s;if(128&t[0])throw new e("invalid signature integer: negative");if(0===t[0]&&!(128&t[1]))throw new e("invalid signature integer: unnecessary leading zero");return yn(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=$s,i=xn("signature",t),{v:o,l:s}=r.decode(48,i);if(s.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,o),{v:l,l:u}=r.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=$s,r=e.encode(2,n.encode(t.r))+e.encode(2,n.encode(t.s));return e.encode(48,r)}},Vs=BigInt(0),Zs=BigInt(1),Ys=BigInt(2),Gs=BigInt(3),Qs=BigInt(4);function Js(t,e){const{BYTES:n}=t;let r;if("bigint"==typeof e)r=e;else{let o=xn("private key",e);try{r=t.fromBytes(o)}catch(i){throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof e}`)}}if(!t.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function Xs(t,e={}){const n=pr("weierstrass",t,e),{Fp:r,Fn:i}=n;let o=n.CURVE;const{h:s,n:a}=o;In(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:c}=e;if(c&&(!r.is0(o.a)||"bigint"!=typeof c.beta||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const l=ea(r,i);function u(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}const h=e.toBytes||function(t,e,n){const{x:i,y:o}=e.toAffine(),s=r.toBytes(i);if(fn(n,"isCompressed"),n){u();return Ne(ta(!r.isOdd(o)),s)}return Ne(Uint8Array.of(4),s,r.toBytes(o))},d=e.fromBytes||function(t){pn(t,void 0,"Point");const{publicKey:e,publicKeyUncompressed:n}=l,i=t.length,o=t[0],s=t.subarray(1);if(i!==e||2!==o&&3!==o){if(i===n&&4===o){const t=r.BYTES,e=r.fromBytes(s.subarray(0,t)),n=r.fromBytes(s.subarray(t,2*t));if(!p(e,n))throw new Error("bad point: is not on curve");return{x:e,y:n}}throw new Error(`bad point: got length ${i}, expected compressed=${e} or uncompressed=${n}`)}{const t=r.fromBytes(s);if(!r.isValid(t))throw new Error("bad point: is not on curve, wrong x");const e=f(t);let n;try{n=r.sqrt(e)}catch(a){const t=a instanceof Error?": "+a.message:"";throw new Error("bad point: is not on curve, sqrt error"+t)}u();return!(1&~o)!==r.isOdd(n)&&(n=r.neg(n)),{x:t,y:n}}};function f(t){const e=r.sqr(t),n=r.mul(e,t);return r.add(r.add(n,r.mul(t,o.a)),o.b)}function p(t,e){const n=r.sqr(e),i=f(t);return r.eql(n,i)}if(!p(o.Gx,o.Gy))throw new Error("bad curve params: generator point");const m=r.mul(r.pow(o.a,Gs),Qs),g=r.mul(r.sqr(o.b),BigInt(27));if(r.is0(r.add(m,g)))throw new Error("bad curve params: a or b");function y(t,e,n=!1){if(!r.isValid(e)||n&&r.is0(e))throw new Error(`bad point coordinate ${t}`);return e}function w(t){if(!(t instanceof M))throw new Error("ProjectivePoint expected")}function b(t){if(!c||!c.basises)throw new Error("no endo");return function(t,e,n){const[[r,i],[o,s]]=e,a=Ws(s*t,n),c=Ws(-i*t,n);let l=t-a*r-c*o,u=-a*i-c*s;const h=l<Vs,d=u<Vs;h&&(l=-l),d&&(u=-u);const f=kn(Math.ceil(An(n)/2))+Zs;if(l<Vs||l>=f||u<Vs||u>=f)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:h,k1:l,k2neg:d,k2:u}}(t,c.basises,i.ORDER)}const v=Nn((t,e)=>{const{X:n,Y:i,Z:o}=t;if(r.eql(o,r.ONE))return{x:n,y:i};const s=t.is0();null==e&&(e=s?r.ONE:r.inv(o));const a=r.mul(n,e),c=r.mul(i,e),l=r.mul(o,e);if(s)return{x:r.ZERO,y:r.ZERO};if(!r.eql(l,r.ONE))throw new Error("invZ was invalid");return{x:a,y:c}}),x=Nn(t=>{if(t.is0()){if(e.allowInfinityPoint&&!r.is0(t.Y))return;throw new Error("bad point: ZERO")}const{x:n,y:i}=t.toAffine();if(!r.isValid(n)||!r.isValid(i))throw new Error("bad point: x or y not field elements");if(!p(n,i))throw new Error("bad point: equation left != right");if(!t.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function E(t,e,n,i,o){return n=new M(r.mul(n.X,t),n.Y,n.Z),e=nr(i,e),n=nr(o,n),e.add(n)}class M{constructor(t,e,n){this.X=y("x",t),this.Y=y("y",e,!0),this.Z=y("z",n),Object.freeze(this)}static CURVE(){return o}static fromAffine(t){const{x:e,y:n}=t||{};if(!t||!r.isValid(e)||!r.isValid(n))throw new Error("invalid affine point");if(t instanceof M)throw new Error("projective point not allowed");return r.is0(e)&&r.is0(n)?M.ZERO:new M(e,n,r.ONE)}static fromBytes(t){const e=M.fromAffine(d(pn(t,void 0,"point")));return e.assertValidity(),e}static fromHex(t){return M.fromBytes(xn("pointHex",t))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(t=8,e=!0){return A.createCache(this,t),e||this.multiply(Gs),this}assertValidity(){x(this)}hasEvenY(){const{y:t}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(t)}equals(t){w(t);const{X:e,Y:n,Z:i}=this,{X:o,Y:s,Z:a}=t,c=r.eql(r.mul(e,a),r.mul(o,i)),l=r.eql(r.mul(n,a),r.mul(s,i));return c&&l}negate(){return new M(this.X,r.neg(this.Y),this.Z)}double(){const{a:t,b:e}=o,n=r.mul(e,Gs),{X:i,Y:s,Z:a}=this;let c=r.ZERO,l=r.ZERO,u=r.ZERO,h=r.mul(i,i),d=r.mul(s,s),f=r.mul(a,a),p=r.mul(i,s);return p=r.add(p,p),u=r.mul(i,a),u=r.add(u,u),c=r.mul(t,u),l=r.mul(n,f),l=r.add(c,l),c=r.sub(d,l),l=r.add(d,l),l=r.mul(c,l),c=r.mul(p,c),u=r.mul(n,u),f=r.mul(t,f),p=r.sub(h,f),p=r.mul(t,p),p=r.add(p,u),u=r.add(h,h),h=r.add(u,h),h=r.add(h,f),h=r.mul(h,p),l=r.add(l,h),f=r.mul(s,a),f=r.add(f,f),h=r.mul(f,p),c=r.sub(c,h),u=r.mul(f,d),u=r.add(u,u),u=r.add(u,u),new M(c,l,u)}add(t){w(t);const{X:e,Y:n,Z:i}=this,{X:s,Y:a,Z:c}=t;let l=r.ZERO,u=r.ZERO,h=r.ZERO;const d=o.a,f=r.mul(o.b,Gs);let p=r.mul(e,s),m=r.mul(n,a),g=r.mul(i,c),y=r.add(e,n),b=r.add(s,a);y=r.mul(y,b),b=r.add(p,m),y=r.sub(y,b),b=r.add(e,i);let v=r.add(s,c);return b=r.mul(b,v),v=r.add(p,g),b=r.sub(b,v),v=r.add(n,i),l=r.add(a,c),v=r.mul(v,l),l=r.add(m,g),v=r.sub(v,l),h=r.mul(d,b),l=r.mul(f,g),h=r.add(l,h),l=r.sub(m,h),h=r.add(m,h),u=r.mul(l,h),m=r.add(p,p),m=r.add(m,p),g=r.mul(d,g),b=r.mul(f,b),m=r.add(m,g),g=r.sub(p,g),g=r.mul(d,g),b=r.add(b,g),p=r.mul(m,b),u=r.add(u,p),p=r.mul(v,b),l=r.mul(y,l),l=r.sub(l,p),p=r.mul(y,m),h=r.mul(v,h),h=r.add(h,p),new M(l,u,h)}subtract(t){return this.add(t.negate())}is0(){return this.equals(M.ZERO)}multiply(t){const{endo:n}=e;if(!i.isValidNot0(t))throw new Error("invalid scalar: out of range");let r,o;const s=t=>A.cached(this,t,t=>rr(M,t));if(n){const{k1neg:e,k1:i,k2neg:a,k2:c}=b(t),{p:l,f:u}=s(i),{p:h,f:d}=s(c);o=u.add(d),r=E(n.beta,l,h,e,a)}else{const{p:e,f:n}=s(t);r=e,o=n}return rr(M,[r,o])[0]}multiplyUnsafe(t){const{endo:n}=e,r=this;if(!i.isValid(t))throw new Error("invalid scalar: out of range");if(t===Vs||r.is0())return M.ZERO;if(t===Zs)return r;if(A.hasCache(this))return this.multiply(t);if(n){const{k1neg:e,k1:i,k2neg:o,k2:s}=b(t),{p1:a,p2:c}=function(t,e,n,r){let i=e,o=t.ZERO,s=t.ZERO;for(;n>tr||r>tr;)n&er&&(o=o.add(i)),r&er&&(s=s.add(i)),i=i.double(),n>>=er,r>>=er;return{p1:o,p2:s}}(M,r,i,s);return E(n.beta,a,c,e,o)}return A.unsafe(r,t)}multiplyAndAddUnsafe(t,e,n){const r=this.multiplyUnsafe(e).add(t.multiplyUnsafe(n));return r.is0()?void 0:r}toAffine(t){return v(this,t)}isTorsionFree(){const{isTorsionFree:t}=e;return s===Zs||(t?t(M,this):A.unsafe(this,a).is0())}clearCofactor(){const{clearCofactor:t}=e;return s===Zs?this:t?t(M,this):this.multiplyUnsafe(s)}isSmallOrder(){return this.multiplyUnsafe(s).is0()}toBytes(t=!0){return fn(t,"isCompressed"),this.assertValidity(),h(M,this,t)}toHex(t=!0){return we(this.toBytes(t))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(t=!0){return this.toBytes(t)}_setWindowSize(t){this.precompute(t)}static normalizeZ(t){return rr(M,t)}static msm(t,e){return dr(M,i,t,e)}static fromPrivateKey(t){return M.BASE.multiply(Js(i,t))}}M.BASE=new M(o.Gx,o.Gy,r.ONE),M.ZERO=new M(r.ZERO,r.ONE,r.ZERO),M.Fp=r,M.Fn=i;const S=i.BITS,A=new hr(M,e.endo?Math.ceil(S/2):S);return M.BASE.precompute(8),M}function ta(t){return Uint8Array.of(t?2:3)}function ea(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function na(t,e={}){const{Fn:n}=t,r=e.randomBytes||je,i=Object.assign(ea(t.Fp,n),{seed:Xn(n.ORDER)});function o(t){try{return!!Js(n,t)}catch(e){return!1}}function s(t=r(i.seed)){return function(t,e,n=!1){const r=t.length,i=Jn(e),o=Xn(e);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const s=Un(n?wn(t):yn(t),e-Bn)+Bn;return n?vn(s,i):bn(s,i)}(pn(t,i.seed,"seed"),n.ORDER)}function a(e,r=!0){return t.BASE.multiply(Js(n,e)).toBytes(r)}function c(e){if("bigint"==typeof e)return!1;if(e instanceof t)return!0;const{secretKey:r,publicKey:o,publicKeyUncompressed:s}=i;if(n.allowedLengths||r===o)return;const a=xn("key",e).length;return a===o||a===s}const l={isValidSecretKey:o,isValidPublicKey:function(e,n){const{publicKey:r,publicKeyUncompressed:o}=i;try{const i=e.length;return(!0!==n||i===r)&&((!1!==n||i===o)&&!!t.fromBytes(e))}catch(s){return!1}},randomSecretKey:s,isValidPrivateKey:o,randomPrivateKey:s,normPrivateKeyToScalar:t=>Js(n,t),precompute:(e=8,n=t.BASE)=>n.precompute(e,!1)};return Object.freeze({getPublicKey:a,getSharedSecret:function(e,r,i=!0){if(!0===c(e))throw new Error("first arg must be private key");if(!1===c(r))throw new Error("second arg must be public key");const o=Js(n,e);return t.fromHex(r).multiply(o).toBytes(i)},keygen:function(t){const e=s(t);return{secretKey:e,publicKey:a(e)}},Point:t,utils:l,lengths:i})}function ra(t,e,n={}){he(e),In(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=n.randomBytes||je,i=n.hmac||((t,...n)=>Fs(e,t,Ne(...n))),{Fp:o,Fn:s}=t,{ORDER:a,BITS:c}=s,{keygen:l,getPublicKey:u,getSharedSecret:h,utils:d,lengths:f}=na(t,n),p={prehash:!1,lowS:"boolean"==typeof n.lowS&&n.lowS,format:void 0,extraEntropy:!1},m="compact";function g(t){return t>a>>Zs}function y(t,e){if(!s.isValidNot0(e))throw new Error(`invalid signature ${t}: out of range 1..Point.Fn.ORDER`);return e}class w{constructor(t,e,n){this.r=y("r",t),this.s=y("s",e),null!=n&&(this.recovery=n),Object.freeze(this)}static fromBytes(t,e=m){let n;if(function(t,e){qs(e);const n=f.signature;pn(t,"compact"===e?n:"recovered"===e?n+1:void 0,`${e} signature`)}(t,e),"der"===e){const{r:e,s:n}=$s.toSig(pn(t));return new w(e,n)}"recovered"===e&&(n=t[0],e="compact",t=t.subarray(1));const r=s.BYTES,i=t.subarray(0,r),o=t.subarray(r,2*r);return new w(s.fromBytes(i),s.fromBytes(o),n)}static fromHex(t,e){return this.fromBytes(ke(t),e)}addRecoveryBit(t){return new w(this.r,this.s,t)}recoverPublicKey(e){const n=o.ORDER,{r:r,s:i,recovery:c}=this;if(null==c||![0,1,2,3].includes(c))throw new Error("recovery id invalid");if(a*Ys<n&&c>1)throw new Error("recovery id is ambiguous for h>1 curve");const l=2===c||3===c?r+a:r;if(!o.isValid(l))throw new Error("recovery id 2 or 3 invalid");const u=o.toBytes(l),h=t.fromBytes(Ne(ta(!(1&c)),u)),d=s.inv(l),f=v(xn("msgHash",e)),p=s.create(-f*d),m=s.create(i*d),g=t.BASE.multiplyUnsafe(p).add(h.multiplyUnsafe(m));if(g.is0())throw new Error("point at infinify");return g.assertValidity(),g}hasHighS(){return g(this.s)}toBytes(t=m){if(qs(t),"der"===t)return ke($s.hexFromSig(this));const e=s.toBytes(this.r),n=s.toBytes(this.s);if("recovered"===t){if(null==this.recovery)throw new Error("recovery bit must be present");return Ne(Uint8Array.of(this.recovery),e,n)}return Ne(e,n)}toHex(t){return we(this.toBytes(t))}assertValidity(){}static fromCompact(t){return w.fromBytes(xn("sig",t),"compact")}static fromDER(t){return w.fromBytes(xn("sig",t),"der")}normalizeS(){return this.hasHighS()?new w(this.r,s.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return we(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return we(this.toBytes("compact"))}}const b=n.bits2int||function(t){if(t.length>8192)throw new Error("input is too large");const e=yn(t),n=8*t.length-c;return n>0?e>>BigInt(n):e},v=n.bits2int_modN||function(t){return s.create(b(t))},x=kn(c);function E(t){return Sn("num < 2^"+c,t,Vs,x),s.toBytes(t)}function M(t,n){return pn(t,void 0,"message"),n?pn(e(t),void 0,"prehashed message"):t}return Object.freeze({keygen:l,getPublicKey:u,getSharedSecret:h,utils:d,lengths:f,Point:t,sign:function(n,o,a={}){n=xn("message",n);const{seed:c,k2sig:l}=function(e,n,i){if(["recovered","canonical"].some(t=>t in i))throw new Error("sign() legacy options not supported");const{lowS:o,prehash:a,extraEntropy:c}=Ks(i,p);e=M(e,a);const l=v(e),u=Js(s,n),h=[E(u),E(l)];if(null!=c&&!1!==c){const t=!0===c?r(f.secretKey):c;h.push(xn("extraEntropy",t))}const d=Ne(...h),m=l;return{seed:d,k2sig:function(e){const n=b(e);if(!s.isValidNot0(n))return;const r=s.inv(n),i=t.BASE.multiply(n).toAffine(),a=s.create(i.x);if(a===Vs)return;const c=s.create(r*s.create(m+a*u));if(c===Vs)return;let l=(i.x===a?0:2)|Number(i.y&Zs),h=c;return o&&g(c)&&(h=s.neg(c),l^=1),new w(a,h,l)}}}(n,o,a),u=function(t,e,n){if("number"!=typeof t||t<2)throw new Error("hashLen must be a number");if("number"!=typeof e||e<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");const r=t=>new Uint8Array(t),i=t=>Uint8Array.of(t);let o=r(t),s=r(t),a=0;const c=()=>{o.fill(1),s.fill(0),a=0},l=(...t)=>n(s,o,...t),u=(t=r(0))=>{s=l(i(0),t),o=l(),0!==t.length&&(s=l(i(1),t),o=l())},h=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let t=0;const n=[];for(;t<e;){o=l();const e=o.slice();n.push(e),t+=o.length}return Ne(...n)};return(t,e)=>{let n;for(c(),u(t);!(n=e(h()));)u();return c(),n}}(e.outputLen,s.BYTES,i);return u(c,l)},verify:function(e,n,r,i={}){const{lowS:o,prehash:a,format:c}=Ks(i,p);if(r=xn("publicKey",r),n=M(xn("message",n),a),"strict"in i)throw new Error("options.strict was renamed to lowS");const l=void 0===c?function(t){let e;const n="string"==typeof t||ce(t),r=!n&&null!==t&&"object"==typeof t&&"bigint"==typeof t.r&&"bigint"==typeof t.s;if(!n&&!r)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(r)e=new w(t.r,t.s);else if(n){try{e=w.fromBytes(xn("sig",t),"der")}catch(i){if(!(i instanceof $s.Err))throw i}if(!e)try{e=w.fromBytes(xn("sig",t),"compact")}catch(o){return!1}}return e||!1}(e):w.fromBytes(xn("sig",e),c);if(!1===l)return!1;try{const e=t.fromBytes(r);if(o&&l.hasHighS())return!1;const{r:i,s:a}=l,c=v(n),u=s.inv(a),h=s.create(c*u),d=s.create(i*u),f=t.BASE.multiplyUnsafe(h).add(e.multiplyUnsafe(d));if(f.is0())return!1;return s.create(f.x)===i}catch(sy){return!1}},recoverPublicKey:function(t,e,n={}){const{prehash:r}=Ks(n,p);return e=M(e,r),w.fromBytes(t,"recovered").recoverPublicKey(e).toBytes()},Signature:w,hash:e})}function ia(t){const{CURVE:e,curveOpts:n}=function(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp;let r=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(t=>Math.ceil(t/2)))):void 0;return{CURVE:e,curveOpts:{Fp:n,Fn:Qn(e.n,{BITS:t.nBitLength,allowedLengths:r,modFromBytes:t.wrapPrivateKey}),allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes}}}(t),r={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,hash:t.hash,ecdsaOpts:r}}function oa(t){const{CURVE:e,curveOpts:n,hash:r,ecdsaOpts:i}=ia(t);return function(t,e){const n=e.Point;return Object.assign({},e,{ProjectivePoint:n,CURVE:Object.assign({},t,Gn(n.Fn.ORDER,n.Fn.BITS))})}(t,ra(Xs(e,n),r,i))}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const sa={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},aa={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},ca=BigInt(2);const la=Qn(sa.p,{sqrt:function(t){const e=sa.p,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),c=BigInt(88),l=t*t*t%e,u=l*l*t%e,h=Pn(u,n,e)*u%e,d=Pn(h,n,e)*u%e,f=Pn(d,ca,e)*l%e,p=Pn(f,i,e)*f%e,m=Pn(p,o,e)*p%e,g=Pn(m,a,e)*m%e,y=Pn(g,c,e)*g%e,w=Pn(y,a,e)*m%e,b=Pn(w,n,e)*u%e,v=Pn(b,s,e)*p%e,x=Pn(v,r,e)*l%e,E=Pn(x,ca,e);if(!la.eql(la.sqr(E),t))throw new Error("Cannot find square root");return E}}),ua=function(t,e){const n=e=>oa({...t,hash:e});return{...n(e),create:n}}({...sa,Fp:la,lowS:!0,endo:aa},ln);function ha(t){try{return Cr.ExtendedPoint.fromHex(t),!0}catch{return!1}}Cr.utils.randomPrivateKey,Cr.getPublicKey;const da=(t,e)=>Cr.sign(t,e.slice(0,32)),fa=Cr.verify,pa=t=>Gt.Buffer.isBuffer(t)?t:t instanceof Uint8Array?Gt.Buffer.from(t.buffer,t.byteOffset,t.byteLength):Gt.Buffer.from(t);class ma{constructor(t){Object.assign(this,t)}encode(){return Gt.Buffer.from(Ei(ga,this))}static decode(t){return Ai(ga,this,t)}static decodeUnchecked(t){return li(ga,this,t)}}const ga=new Map;var ya;const wa=32;let ba=1;class va extends ma{constructor(t){if(super({}),this._bn=void 0,function(t){return void 0!==t._bn}(t))this._bn=t._bn;else{if("string"==typeof t){const e=Fr.decode(t);if(e.length!=wa)throw new Error("Invalid public key input");this._bn=new Or(e)}else this._bn=new Or(t);if(this._bn.byteLength()>wa)throw new Error("Invalid public key input")}}static unique(){const t=new va(ba);return ba+=1,new va(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return Fr.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(Gt.Buffer);if(t.length===wa)return t;const e=Gt.Buffer.alloc(32);return t.copy(e,32-t.length),e}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,e,n){const r=Gt.Buffer.concat([t.toBuffer(),Gt.Buffer.from(e),n.toBuffer()]),i=Wr(r);return new va(i)}static createProgramAddressSync(t,e){let n=Gt.Buffer.alloc(0);t.forEach(function(t){if(t.length>32)throw new TypeError("Max seed length exceeded");n=Gt.Buffer.concat([n,pa(t)])}),n=Gt.Buffer.concat([n,e.toBuffer(),Gt.Buffer.from("ProgramDerivedAddress")]);const r=Wr(n);if(ha(r))throw new Error("Invalid seeds, address must fall off the curve");return new va(r)}static async createProgramAddress(t,e){return this.createProgramAddressSync(t,e)}static findProgramAddressSync(t,e){let n,r=255;for(;0!=r;){try{const i=t.concat(Gt.Buffer.from([r]));n=this.createProgramAddressSync(i,e)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[n,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,e){return this.findProgramAddressSync(t,e)}static isOnCurve(t){return ha(new va(t).toBytes())}}ya=va,va.default=new ya("11111111111111111111111111111111"),ga.set(va,{kind:"struct",fields:[["_bn","u256"]]}),new va("BPFLoader1111111111111111111111111111111111");const xa=1232;class Ea extends Error{constructor(t){super(`Signature ${t} has expired: block height exceeded.`),this.signature=void 0,this.signature=t}}Object.defineProperty(Ea.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class Ma extends Error{constructor(t,e){super(`Transaction was not confirmed in ${e.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=t}}Object.defineProperty(Ma.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Sa extends Error{constructor(t){super(`Signature ${t} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=t}}Object.defineProperty(Sa.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class Aa{constructor(t,e){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=e}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const e of this.keySegments()){if(t<e.length)return e[t];t-=e.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const e=new Map;this.keySegments().flat().forEach((t,n)=>{e.set(t.toBase58(),n)});const n=t=>{const n=e.get(t.toBase58());if(void 0===n)throw new Error("Encountered an unknown instruction account key during compilation");return n};return t.map(t=>({programIdIndex:n(t.programId),accountKeyIndexes:t.keys.map(t=>n(t.pubkey)),data:t.data}))}}const ka=(t="publicKey")=>bo(32,t),Ia=(t="signature")=>bo(64,t),Na=(t="string")=>{const e=yo([po("length"),po("lengthPadding"),bo(uo(po(),-8),"chars")],t),n=e.decode.bind(e),r=e.encode.bind(e),i=e;return i.decode=(t,e)=>n(t,e).chars.toString(),i.encode=(t,e,n)=>{const i={chars:Gt.Buffer.from(t,"utf8")};return r(i,e,n)},i.alloc=t=>po().span+po().span+Gt.Buffer.from(t,"utf8").length,i};function La(t){let e=0,n=0;for(;;){let r=t.shift();if(e|=(127&r)<<7*n,n+=1,!(128&r))break}return e}function Ba(t,e){let n=e;for(;;){let e=127&n;if(n>>=7,0==n){t.push(e);break}e|=128,t.push(e)}}function ja(t,e){if(!t)throw new Error(e||"Assertion failed")}class Ca{constructor(t,e){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=e}static compile(t,e){const n=new Map,r=t=>{const e=t.toBase58();let r=n.get(e);return void 0===r&&(r={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(e,r)),r},i=r(e);i.isSigner=!0,i.isWritable=!0;for(const o of t){r(o.programId).isInvoked=!0;for(const t of o.keys){const e=r(t.pubkey);e.isSigner||(e.isSigner=t.isSigner),e.isWritable||(e.isWritable=t.isWritable)}}return new Ca(e,n)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];ja(t.length<=256,"Max static account keys length exceeded");const e=t.filter(([,t])=>t.isSigner&&t.isWritable),n=t.filter(([,t])=>t.isSigner&&!t.isWritable),r=t.filter(([,t])=>!t.isSigner&&t.isWritable),i=t.filter(([,t])=>!t.isSigner&&!t.isWritable),o={numRequiredSignatures:e.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:i.length};{ja(e.length>0,"Expected at least one writable signer key");const[t]=e[0];ja(t===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}return[o,[...e.map(([t])=>new va(t)),...n.map(([t])=>new va(t)),...r.map(([t])=>new va(t)),...i.map(([t])=>new va(t))]]}extractTableLookup(t){const[e,n]=this.drainKeysFoundInLookupTable(t.state.addresses,t=>!t.isSigner&&!t.isInvoked&&t.isWritable),[r,i]=this.drainKeysFoundInLookupTable(t.state.addresses,t=>!t.isSigner&&!t.isInvoked&&!t.isWritable);if(0!==e.length||0!==r.length)return[{accountKey:t.key,writableIndexes:e,readonlyIndexes:r},{writable:n,readonly:i}]}drainKeysFoundInLookupTable(t,e){const n=new Array,r=new Array;for(const[i,o]of this.keyMetaMap.entries())if(e(o)){const e=new va(i),o=t.findIndex(t=>t.equals(e));o>=0&&(ja(o<256,"Max lookup table index exceeded"),n.push(o),r.push(e),this.keyMetaMap.delete(i))}return[n,r]}}const _a="Reached end of buffer unexpectedly";function Ta(t){if(0===t.length)throw new Error(_a);return t.shift()}function Ra(t,...e){const[n]=e;if(2===e.length?n+(e[1]??0)>t.length:n>=t.length)throw new Error(_a);return t.splice(...e)}class Oa{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(t=>new va(t)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Fr.decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Aa(this.staticAccountKeys)}static compile(t){const e=Ca.compile(t.instructions,t.payerKey),[n,r]=e.getMessageComponents(),i=new Aa(r).compileInstructions(t.instructions).map(t=>({programIdIndex:t.programIdIndex,accounts:t.accountKeyIndexes,data:Fr.encode(t.data)}));return new Oa({header:n,accountKeys:r,recentBlockhash:t.recentBlockhash,instructions:i})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){return t-e<this.accountKeys.length-e-this.header.numReadonlyUnsignedAccounts}return t<e-this.header.numReadonlySignedAccounts}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,e)=>!this.isProgramId(e))}serialize(){const t=this.accountKeys.length;let e=[];Ba(e,t);const n=this.instructions.map(t=>{const{accounts:e,programIdIndex:n}=t,r=Array.from(Fr.decode(t.data));let i=[];Ba(i,e.length);let o=[];return Ba(o,r.length),{programIdIndex:n,keyIndicesCount:Gt.Buffer.from(i),keyIndices:e,dataLength:Gt.Buffer.from(o),data:r}});let r=[];Ba(r,n.length);let i=Gt.Buffer.alloc(xa);Gt.Buffer.from(r).copy(i);let o=r.length;n.forEach(t=>{const e=yo([ho("programIdIndex"),bo(t.keyIndicesCount.length,"keyIndicesCount"),wo(ho("keyIndex"),t.keyIndices.length,"keyIndices"),bo(t.dataLength.length,"dataLength"),wo(ho("userdatum"),t.data.length,"data")]).encode(t,i,o);o+=e}),i=i.slice(0,o);const s=yo([bo(1,"numRequiredSignatures"),bo(1,"numReadonlySignedAccounts"),bo(1,"numReadonlyUnsignedAccounts"),bo(e.length,"keyCount"),wo(ka("key"),t,"keys"),ka("recentBlockhash")]),a={numRequiredSignatures:Gt.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Gt.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Gt.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Gt.Buffer.from(e),keys:this.accountKeys.map(t=>pa(t.toBytes())),recentBlockhash:Fr.decode(this.recentBlockhash)};let c=Gt.Buffer.alloc(2048);const l=s.encode(a,c);return i.copy(c,l),c.slice(0,l+i.length)}static from(t){let e=[...t];const n=Ta(e);if(n!==(127&n))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const r=Ta(e),i=Ta(e),o=La(e);let s=[];for(let h=0;h<o;h++){const t=Ra(e,0,wa);s.push(new va(Gt.Buffer.from(t)))}const a=Ra(e,0,wa),c=La(e);let l=[];for(let h=0;h<c;h++){const t=Ta(e),n=Ra(e,0,La(e)),r=Ra(e,0,La(e)),i=Fr.encode(Gt.Buffer.from(r));l.push({programIdIndex:t,accounts:n,data:i})}const u={header:{numRequiredSignatures:n,numReadonlySignedAccounts:r,numReadonlyUnsignedAccounts:i},recentBlockhash:Fr.encode(Gt.Buffer.from(a)),accountKeys:s,instructions:l};return new Oa(u)}}class Da{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(const e of this.addressTableLookups)t+=e.readonlyIndexes.length+e.writableIndexes.length;return t}getAccountKeys(t){let e;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");e=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)e=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Aa(this.staticAccountKeys,e)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(t>=n){return t-n<this.addressTableLookups.reduce((t,e)=>t+e.writableIndexes.length,0)}if(t>=this.header.numRequiredSignatures){return t-e<n-e-this.header.numReadonlyUnsignedAccounts}return t<e-this.header.numReadonlySignedAccounts}resolveAddressTableLookups(t){const e={writable:[],readonly:[]};for(const n of this.addressTableLookups){const r=t.find(t=>t.key.equals(n.accountKey));if(!r)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const t of n.writableIndexes){if(!(t<r.state.addresses.length))throw new Error(`Failed to find address for index ${t} in address lookup table ${n.accountKey.toBase58()}`);e.writable.push(r.state.addresses[t])}for(const t of n.readonlyIndexes){if(!(t<r.state.addresses.length))throw new Error(`Failed to find address for index ${t} in address lookup table ${n.accountKey.toBase58()}`);e.readonly.push(r.state.addresses[t])}}return e}static compile(t){const e=Ca.compile(t.instructions,t.payerKey),n=new Array,r={writable:new Array,readonly:new Array},i=t.addressLookupTableAccounts||[];for(const c of i){const t=e.extractTableLookup(c);if(void 0!==t){const[e,{writable:i,readonly:o}]=t;n.push(e),r.writable.push(...i),r.readonly.push(...o)}}const[o,s]=e.getMessageComponents(),a=new Aa(s,r).compileInstructions(t.instructions);return new Da({header:o,staticAccountKeys:s,recentBlockhash:t.recentBlockhash,compiledInstructions:a,addressTableLookups:n})}serialize(){const t=Array();Ba(t,this.staticAccountKeys.length);const e=this.serializeInstructions(),n=Array();Ba(n,this.compiledInstructions.length);const r=this.serializeAddressTableLookups(),i=Array();Ba(i,this.addressTableLookups.length);const o=yo([ho("prefix"),yo([ho("numRequiredSignatures"),ho("numReadonlySignedAccounts"),ho("numReadonlyUnsignedAccounts")],"header"),bo(t.length,"staticAccountKeysLength"),wo(ka(),this.staticAccountKeys.length,"staticAccountKeys"),ka("recentBlockhash"),bo(n.length,"instructionsLength"),bo(e.length,"serializedInstructions"),bo(i.length,"addressTableLookupsLength"),bo(r.length,"serializedAddressTableLookups")]),s=new Uint8Array(xa),a=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map(t=>t.toBytes()),recentBlockhash:Fr.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:e,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:r},s);return s.slice(0,a)}serializeInstructions(){let t=0;const e=new Uint8Array(xa);for(const n of this.compiledInstructions){const r=Array();Ba(r,n.accountKeyIndexes.length);const i=Array();Ba(i,n.data.length);t+=yo([ho("programIdIndex"),bo(r.length,"encodedAccountKeyIndexesLength"),wo(ho(),n.accountKeyIndexes.length,"accountKeyIndexes"),bo(i.length,"encodedDataLength"),bo(n.data.length,"data")]).encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(r),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:n.data},e,t)}return e.slice(0,t)}serializeAddressTableLookups(){let t=0;const e=new Uint8Array(xa);for(const n of this.addressTableLookups){const r=Array();Ba(r,n.writableIndexes.length);const i=Array();Ba(i,n.readonlyIndexes.length);t+=yo([ka("accountKey"),bo(r.length,"encodedWritableIndexesLength"),wo(ho(),n.writableIndexes.length,"writableIndexes"),bo(i.length,"encodedReadonlyIndexesLength"),wo(ho(),n.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(r),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:n.readonlyIndexes},e,t)}return e.slice(0,t)}static deserialize(t){let e=[...t];const n=Ta(e),r=127&n;ja(n!==r,"Expected versioned message but received legacy message");ja(0===r,`Expected versioned message with version 0 but found version ${r}`);const i={numRequiredSignatures:Ta(e),numReadonlySignedAccounts:Ta(e),numReadonlyUnsignedAccounts:Ta(e)},o=[],s=La(e);for(let d=0;d<s;d++)o.push(new va(Ra(e,0,wa)));const a=Fr.encode(Ra(e,0,wa)),c=La(e),l=[];for(let d=0;d<c;d++){const t=Ta(e),n=Ra(e,0,La(e)),r=La(e),i=new Uint8Array(Ra(e,0,r));l.push({programIdIndex:t,accountKeyIndexes:n,data:i})}const u=La(e),h=[];for(let d=0;d<u;d++){const t=new va(Ra(e,0,wa)),n=Ra(e,0,La(e)),r=Ra(e,0,La(e));h.push({accountKey:t,writableIndexes:n,readonlyIndexes:r})}return new Da({header:i,staticAccountKeys:o,recentBlockhash:a,compiledInstructions:l,addressTableLookups:h})}}const za={deserializeMessageVersion(t){const e=t[0],n=127&e;return n===e?"legacy":n},deserialize:t=>{const e=za.deserializeMessageVersion(t);if("legacy"===e)return Oa.from(t);if(0===e)return Da.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let Ua=function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t}({});const Pa=Gt.Buffer.alloc(64).fill(0);class Fa{constructor(t){this.keys=void 0,this.programId=void 0,this.data=Gt.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:e,isWritable:n})=>({pubkey:t.toJSON(),isSigner:e,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}}class Wa{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:e,nonceInfo:n}=t;this.minNonceContextSlot=e,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:e,lastValidBlockHeight:n}=t;this.recentBlockhash=e,this.lastValidBlockHeight=n}else{const{recentBlockhash:e,nonceInfo:n}=t;n&&(this.nonceInfo=n),this.recentBlockhash=e}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(0===t.length)throw new Error("No instructions");return t.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new Fa(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,e,n;if(this.nonceInfo?(t=this.nonceInfo.nonce,e=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction,...this.instructions]:this.instructions):(t=this.recentBlockhash,e=this.instructions),!t)throw new Error("Transaction recentBlockhash required");if(e.length,this.feePayer)n=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");n=this.signatures[0].publicKey}for(let p=0;p<e.length;p++)if(void 0===e[p].programId)throw new Error(`Transaction instruction index ${p} has undefined program id`);const r=[],i=[];e.forEach(t=>{t.keys.forEach(t=>{i.push({...t})});const e=t.programId.toString();r.includes(e)||r.push(e)}),r.forEach(t=>{i.push({pubkey:new va(t),isSigner:!1,isWritable:!1})});const o=[];i.forEach(t=>{const e=t.pubkey.toString(),n=o.findIndex(t=>t.pubkey.toString()===e);n>-1?(o[n].isWritable=o[n].isWritable||t.isWritable,o[n].isSigner=o[n].isSigner||t.isSigner):o.push(t)}),o.sort(function(t,e){if(t.isSigner!==e.isSigner)return t.isSigner?-1:1;if(t.isWritable!==e.isWritable)return t.isWritable?-1:1;return t.pubkey.toBase58().localeCompare(e.pubkey.toBase58(),"en",{localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"})});const s=o.findIndex(t=>t.pubkey.equals(n));if(s>-1){const[t]=o.splice(s,1);t.isSigner=!0,t.isWritable=!0,o.unshift(t)}else o.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const p of this.signatures){const t=o.findIndex(t=>t.pubkey.equals(p.publicKey));if(!(t>-1))throw new Error(`unknown signer: ${p.publicKey.toString()}`);o[t].isSigner||(o[t].isSigner=!0)}let a=0,c=0,l=0;const u=[],h=[];o.forEach(({pubkey:t,isSigner:e,isWritable:n})=>{e?(u.push(t.toString()),a+=1,n||(c+=1)):(h.push(t.toString()),n||(l+=1))});const d=u.concat(h),f=e.map(t=>{const{data:e,programId:n}=t;return{programIdIndex:d.indexOf(n.toString()),accounts:t.keys.map(t=>d.indexOf(t.pubkey.toString())),data:Fr.encode(e)}});return f.forEach(t=>{ja(t.programIdIndex>=0),t.accounts.forEach(t=>ja(t>=0))}),new Oa({header:{numRequiredSignatures:a,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:l},accountKeys:d,recentBlockhash:t,instructions:f})}_compile(){const t=this.compileMessage(),e=t.accountKeys.slice(0,t.header.numRequiredSignatures);if(this.signatures.length===e.length){if(this.signatures.every((t,n)=>e[n].equals(t.publicKey)))return t}return this.signatures=e.map(t=>({signature:null,publicKey:t})),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(0===t.length)throw new Error("No signers");const e=new Set;this.signatures=t.filter(t=>{const n=t.toString();return!e.has(n)&&(e.add(n),!0)}).map(t=>({signature:null,publicKey:t}))}sign(...t){if(0===t.length)throw new Error("No signers");const e=new Set,n=[];for(const i of t){const t=i.publicKey.toString();e.has(t)||(e.add(t),n.push(i))}this.signatures=n.map(t=>({signature:null,publicKey:t.publicKey}));const r=this._compile();this._partialSign(r,...n)}partialSign(...t){if(0===t.length)throw new Error("No signers");const e=new Set,n=[];for(const i of t){const t=i.publicKey.toString();e.has(t)||(e.add(t),n.push(i))}const r=this._compile();this._partialSign(r,...n)}_partialSign(t,...e){const n=t.serialize();e.forEach(t=>{const e=da(n,t.secretKey);this._addSignature(t.publicKey,pa(e))})}addSignature(t,e){this._compile(),this._addSignature(t,e)}_addSignature(t,e){ja(64===e.length);const n=this.signatures.findIndex(e=>t.equals(e.publicKey));if(n<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[n].signature=Gt.Buffer.from(e)}verifySignatures(t=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),t)}_getMessageSignednessErrors(t,e){const n={};for(const{signature:r,publicKey:i}of this.signatures)null===r?e&&(n.missing||(n.missing=[])).push(i):fa(r,t,i.toBytes())||(n.invalid||(n.invalid=[])).push(i);return n.invalid||n.missing?n:void 0}serialize(t){const{requireAllSignatures:e,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),r=this.serializeMessage();if(n){const t=this._getMessageSignednessErrors(r,e);if(t){let e="Signature verification failed.";throw t.invalid&&(e+=`\nInvalid signature for public key${1===t.invalid.length?"":"(s)"} [\`${t.invalid.map(t=>t.toBase58()).join("`, `")}\`].`),t.missing&&(e+=`\nMissing signature for public key${1===t.missing.length?"":"(s)"} [\`${t.missing.map(t=>t.toBase58()).join("`, `")}\`].`),new Error(e)}}return this._serialize(r)}_serialize(t){const{signatures:e}=this,n=[];Ba(n,e.length);const r=n.length+64*e.length+t.length,i=Gt.Buffer.alloc(r);return ja(e.length<256),Gt.Buffer.from(n).copy(i,0),e.forEach(({signature:t},e)=>{null!==t&&(ja(64===t.length,"signature has invalid length"),Gt.Buffer.from(t).copy(i,n.length+64*e))}),t.copy(i,n.length+64*e.length),ja(i.length<=xa,`Transaction too large: ${i.length} > 1232`),i}get keys(){return ja(1===this.instructions.length),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return ja(1===this.instructions.length),this.instructions[0].programId}get data(){return ja(1===this.instructions.length),this.instructions[0].data}static from(t){let e=[...t];const n=La(e);let r=[];for(let i=0;i<n;i++){const t=Ra(e,0,64);r.push(Fr.encode(Gt.Buffer.from(t)))}return Wa.populate(Oa.from(e),r)}static populate(t,e=[]){const n=new Wa;return n.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(n.feePayer=t.accountKeys[0]),e.forEach((e,r)=>{const i={signature:e==Fr.encode(Pa)?null:Fr.decode(e),publicKey:t.accountKeys[r]};n.signatures.push(i)}),t.instructions.forEach(e=>{const r=e.accounts.map(e=>{const r=t.accountKeys[e];return{pubkey:r,isSigner:n.signatures.some(t=>t.publicKey.toString()===r.toString())||t.isAccountSigner(e),isWritable:t.isAccountWritable(e)}});n.instructions.push(new Fa({keys:r,programId:t.accountKeys[e.programIdIndex],data:Fr.decode(e.data)}))}),n._message=t,n._json=n.toJSON(),n}}class qa{get version(){return this.message.version}constructor(t,e){if(this.signatures=void 0,this.message=void 0,void 0!==e)ja(e.length===t.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=e;else{const e=[];for(let n=0;n<t.header.numRequiredSignatures;n++)e.push(new Uint8Array(64));this.signatures=e}this.message=t}serialize(){const t=this.message.serialize(),e=Array();Ba(e,this.signatures.length);const n=yo([bo(e.length,"encodedSignaturesLength"),wo(Ia(),this.signatures.length,"signatures"),bo(t.length,"serializedMessage")]),r=new Uint8Array(2048),i=n.encode({encodedSignaturesLength:new Uint8Array(e),signatures:this.signatures,serializedMessage:t},r);return r.slice(0,i)}static deserialize(t){let e=[...t];const n=[],r=La(e);for(let o=0;o<r;o++)n.push(new Uint8Array(Ra(e,0,64)));const i=za.deserialize(new Uint8Array(e));return new qa(i,n)}sign(t){const e=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const r of t){const t=n.findIndex(t=>t.equals(r.publicKey));ja(t>=0,`Cannot sign with non signer key ${r.publicKey.toBase58()}`),this.signatures[t]=da(e,r.secretKey)}}addSignature(t,e){ja(64===e.byteLength,"Signature must be 64 bytes long");const n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(e=>e.equals(t));ja(n>=0,`Can not add signature; \`${t.toBase58()}\` is not required to sign this transaction`),this.signatures[n]=e}}new va("SysvarC1ock11111111111111111111111111111111"),new va("SysvarEpochSchedu1e111111111111111111111111"),new va("Sysvar1nstructions1111111111111111111111111"),new va("SysvarRecentB1ockHashes11111111111111111111"),new va("SysvarRent111111111111111111111111111111111"),new va("SysvarRewards111111111111111111111111111111"),new va("SysvarS1otHashes111111111111111111111111111"),new va("SysvarS1otHistory11111111111111111111111111"),new va("SysvarStakeHistory1111111111111111111111111");class Ka extends Error{constructor({action:t,signature:e,transactionMessage:n,logs:r}){const i=r?`Logs: \n${JSON.stringify(r.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let s;switch(t){case"send":s=`Transaction ${e} resulted in an error. \n${n}. `+i+o;break;case"simulate":s=`Simulation failed. \nMessage: ${n}. \n`+i+o;break;default:s=`Unknown action '${(t=>t)(t)}'`}super(s),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=e,this.transactionMessage=n,this.transactionLogs=r||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const t=this.transactionLogs;if(null==t||"object"!=typeof t||!("then"in t))return t}async getLogs(t){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((e,n)=>{t.getTransaction(this.signature).then(t=>{if(t&&t.meta&&t.meta.logMessages){const n=t.meta.logMessages;this.transactionLogs=n,e(n)}else n(new Error("Log messages not found"))}).catch(n)})),await this.transactionLogs}}class Ha extends Error{constructor({code:t,message:e,data:n},r){super(null!=r?`${r}: ${e}`:e),this.code=void 0,this.data=void 0,this.code=t,this.data=n,this.name="SolanaJSONRPCError"}}function $a(t){return new Promise(e=>setTimeout(e,t))}const Va=mo("lamportsPerSignature"),Za=yo([po("version"),po("state"),ka("authorizedPubkey"),ka("nonce"),yo([Va],"feeCalculator")]);Za.span;class Ya{constructor(t){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=t.authorizedPubkey,this.nonce=t.nonce,this.feeCalculator=t.feeCalculator}static fromAccountData(t){const e=Za.decode(pa(t),0);return new Ya({authorizedPubkey:new va(e.authorizedPubkey),nonce:new va(e.nonce).toString(),feeCalculator:e.feeCalculator})}}function Ga(t){const e=bo(8,t),n=e.decode.bind(e),r=e.encode.bind(e),i=e,o=No();return i.decode=(t,e)=>{const r=n(t,e);return o.decode(r)},i.encode=(t,e,n)=>{const i=o.encode(t);return r(i,e,n)},i}function Qa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ja,Xa;function tc(){if(Xa)return Ja;Xa=1;var t=Object.prototype.toString,e=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};function n(r,i){var o,s,a,c,l,u,h;if(!0===r)return"true";if(!1===r)return"false";switch(typeof r){case"object":if(null===r)return null;if(r.toJSON&&"function"==typeof r.toJSON)return n(r.toJSON(),i);if("[object Array]"===(h=t.call(r))){for(a="[",s=r.length-1,o=0;o<s;o++)a+=n(r[o],!0)+",";return s>-1&&(a+=n(r[o],!0)),a+"]"}if("[object Object]"===h){for(s=(c=e(r).sort()).length,a="",o=0;o<s;)void 0!==(u=n(r[l=c[o]],!1))&&(a&&(a+=","),a+=JSON.stringify(l)+":"+u),o++;return"{"+a+"}"}return JSON.stringify(r);case"function":case"undefined":return i?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return Ja=function(t){var e=n(t,!1);if(void 0!==e)return""+e}}Object.freeze({Create:{index:0,layout:yo([po("instruction"),go("lamports"),go("space"),ka("programId")])},Assign:{index:1,layout:yo([po("instruction"),ka("programId")])},Transfer:{index:2,layout:yo([po("instruction"),Ga("lamports")])},CreateWithSeed:{index:3,layout:yo([po("instruction"),ka("base"),Na("seed"),go("lamports"),go("space"),ka("programId")])},AdvanceNonceAccount:{index:4,layout:yo([po("instruction")])},WithdrawNonceAccount:{index:5,layout:yo([po("instruction"),go("lamports")])},InitializeNonceAccount:{index:6,layout:yo([po("instruction"),ka("authorized")])},AuthorizeNonceAccount:{index:7,layout:yo([po("instruction"),ka("authorized")])},Allocate:{index:8,layout:yo([po("instruction"),go("space")])},AllocateWithSeed:{index:9,layout:yo([po("instruction"),ka("base"),Na("seed"),go("space"),ka("programId")])},AssignWithSeed:{index:10,layout:yo([po("instruction"),ka("base"),Na("seed"),ka("programId")])},TransferWithSeed:{index:11,layout:yo([po("instruction"),Ga("lamports"),Na("seed"),ka("programId")])},UpgradeNonceAccount:{index:12,layout:yo([po("instruction")])}}),new va("11111111111111111111111111111111"),new va("BPFLoader2111111111111111111111111111111111");var ec=Qa(tc());function nc(t){let e=0;for(;t>1;)t/=2,e++;return e}class rc{constructor(t,e,n,r,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=t,this.leaderScheduleSlotOffset=e,this.warmup=n,this.firstNormalEpoch=r,this.firstNormalSlot=i}getEpoch(t){return this.getEpochAndSlotIndex(t)[0]}getEpochAndSlotIndex(t){if(t<this.firstNormalSlot){const n=nc(0===(e=t+32+1)?1:(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,1+(e|=e>>32)))-nc(32)-1;return[n,t-(this.getSlotsInEpoch(n)-32)]}{const e=t-this.firstNormalSlot,n=Math.floor(e/this.slotsPerEpoch);return[this.firstNormalEpoch+n,e%this.slotsPerEpoch]}var e}getFirstSlotInEpoch(t){return t<=this.firstNormalEpoch?32*(Math.pow(2,t)-1):(t-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(t){return this.getFirstSlotInEpoch(t)+this.getSlotsInEpoch(t)-1}getSlotsInEpoch(t){return t<this.firstNormalEpoch?Math.pow(2,t+nc(32)):this.slotsPerEpoch}}var ic=globalThis.fetch;class oc extends Us{constructor(t,e,n){super(t=>{const n=function(t,e){return new Ds(t,e)}(t,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...e});return this.underlyingSocket="socket"in n?n.socket:n,n},t,e,n),this.underlyingSocket=void 0}call(...t){const e=this.underlyingSocket?.readyState;return 1===e?super.call(...t):Promise.reject(new Error("Tried to call a JSON-RPC method `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}notify(...t){const e=this.underlyingSocket?.readyState;return 1===e?super.notify(...t):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}}class sc{constructor(t){this.key=void 0,this.state=void 0,this.key=t.key,this.state=t.state}isActive(){const t=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===t}static deserialize(t){const e=function(t,e){let n;try{n=t.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(n.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${t.index}`);return n}(ac,t),n=t.length-56;ja(n>=0,"lookup table is invalid"),ja(n%32==0,"lookup table is invalid");const r=n/32,{addresses:i}=yo([wo(ka(),r,"addresses")]).decode(t.slice(56));return{deactivationSlot:e.deactivationSlot,lastExtendedSlot:e.lastExtendedSlot,lastExtendedSlotStartIndex:e.lastExtendedStartIndex,authority:0!==e.authority.length?new va(e.authority[0]):void 0,addresses:i.map(t=>new va(t))}}}const ac={index:1,layout:yo([po("typeIndex"),Ga("deactivationSlot"),mo("lastExtendedSlot"),ho("lastExtendedStartIndex"),ho(),wo(ka(),uo(ho(),-1),"authority")])},cc=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;const lc=ts(qo(va),Yo(),t=>new va(t)),uc=Go([Yo(),Ko("base64")]),hc=ts(qo(Gt.Buffer),uc,t=>Gt.Buffer.from(t[0],"base64"));function dc(t){let e,n;if("string"==typeof t)e=t;else if(t){const{commitment:r,...i}=t;e=r,n=i}return{commitment:e,config:n}}function fc(t){return t.map(t=>"memcmp"in t?{...t,memcmp:{...t.memcmp,encoding:t.memcmp.encoding??"base58"}}:t)}function pc(t){return Jo([Qo({jsonrpc:Ko("2.0"),id:Yo(),result:t}),Qo({jsonrpc:Ko("2.0"),id:Yo(),error:Qo({code:Xo(),message:Yo(),data:Vo(Po("any",()=>!0))})})])}const mc=pc(Xo());function gc(t){return ts(pc(t),mc,e=>"error"in e?e:{...e,result:Do(e.result,t)})}function yc(t){return gc(Qo({context:Qo({slot:$o()}),value:t}))}function wc(t){return Qo({context:Qo({slot:$o()}),value:t})}function bc(t,e){return 0===t?new Da({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new va(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Fr.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new Oa(e)}const vc=Qo({foundation:$o(),foundationTerm:$o(),initial:$o(),taper:$o(),terminal:$o()}),xc=gc(Fo(Ho(Qo({epoch:$o(),effectiveSlot:$o(),amount:$o(),postBalance:$o(),commission:Vo(Ho($o()))})))),Ec=Fo(Qo({slot:$o(),prioritizationFee:$o()})),Mc=Qo({total:$o(),validator:$o(),foundation:$o(),epoch:$o()}),Sc=Qo({epoch:$o(),slotIndex:$o(),slotsInEpoch:$o(),absoluteSlot:$o(),blockHeight:Vo($o()),transactionCount:Vo($o())}),Ac=Qo({slotsPerEpoch:$o(),leaderScheduleSlotOffset:$o(),warmup:Wo(),firstNormalEpoch:$o(),firstNormalSlot:$o()}),kc=Zo(Yo(),Fo($o())),Ic=Ho(Jo([Qo({}),Yo()])),Nc=Qo({err:Ic}),Lc=Ko("receivedSignature"),Bc=Qo({"solana-core":Yo(),"feature-set":Vo($o())}),jc=Qo({program:Yo(),programId:lc,parsed:Xo()}),Cc=Qo({programId:lc,accounts:Fo(lc),data:Yo()}),_c=yc(Qo({err:Ho(Jo([Qo({}),Yo()])),logs:Ho(Fo(Yo())),accounts:Vo(Ho(Fo(Ho(Qo({executable:Wo(),owner:Yo(),lamports:$o(),data:Fo(Yo()),rentEpoch:Vo($o())}))))),unitsConsumed:Vo($o()),returnData:Vo(Ho(Qo({programId:Yo(),data:Go([Yo(),Ko("base64")])}))),innerInstructions:Vo(Ho(Fo(Qo({index:$o(),instructions:Fo(Jo([jc,Cc]))}))))})),Tc=yc(Qo({byIdentity:Zo(Yo(),Fo($o())),range:Qo({firstSlot:$o(),lastSlot:$o()})}));const Rc=gc(vc),Oc=gc(Mc),Dc=gc(Ec),zc=gc(Sc),Uc=gc(Ac),Pc=gc(kc),Fc=gc($o()),Wc=yc(Qo({total:$o(),circulating:$o(),nonCirculating:$o(),nonCirculatingAccounts:Fo(lc)})),qc=Qo({amount:Yo(),uiAmount:Ho($o()),decimals:$o(),uiAmountString:Vo(Yo())}),Kc=yc(Fo(Qo({address:lc,amount:Yo(),uiAmount:Ho($o()),decimals:$o(),uiAmountString:Vo(Yo())}))),Hc=yc(Fo(Qo({pubkey:lc,account:Qo({executable:Wo(),owner:lc,lamports:$o(),data:hc,rentEpoch:$o()})}))),$c=Qo({program:Yo(),parsed:Xo(),space:$o()}),Vc=yc(Fo(Qo({pubkey:lc,account:Qo({executable:Wo(),owner:lc,lamports:$o(),data:$c,rentEpoch:$o()})}))),Zc=yc(Fo(Qo({lamports:$o(),address:lc}))),Yc=Qo({executable:Wo(),owner:lc,lamports:$o(),data:hc,rentEpoch:$o()}),Gc=Qo({pubkey:lc,account:Yc}),Qc=ts(Jo([qo(Gt.Buffer),$c]),Jo([uc,$c]),t=>Array.isArray(t)?Do(t,hc):t),Jc=Qo({executable:Wo(),owner:lc,lamports:$o(),data:Qc,rentEpoch:$o()}),Xc=Qo({pubkey:lc,account:Jc}),tl=Qo({state:Jo([Ko("active"),Ko("inactive"),Ko("activating"),Ko("deactivating")]),active:$o(),inactive:$o()}),el=gc(Fo(Qo({signature:Yo(),slot:$o(),err:Ic,memo:Ho(Yo()),blockTime:Vo(Ho($o()))}))),nl=gc(Fo(Qo({signature:Yo(),slot:$o(),err:Ic,memo:Ho(Yo()),blockTime:Vo(Ho($o()))}))),rl=Qo({subscription:$o(),result:wc(Yc)}),il=Qo({pubkey:lc,account:Yc}),ol=Qo({subscription:$o(),result:wc(il)}),sl=Qo({parent:$o(),slot:$o(),root:$o()}),al=Qo({subscription:$o(),result:sl}),cl=Jo([Qo({type:Jo([Ko("firstShredReceived"),Ko("completed"),Ko("optimisticConfirmation"),Ko("root")]),slot:$o(),timestamp:$o()}),Qo({type:Ko("createdBank"),parent:$o(),slot:$o(),timestamp:$o()}),Qo({type:Ko("frozen"),slot:$o(),timestamp:$o(),stats:Qo({numTransactionEntries:$o(),numSuccessfulTransactions:$o(),numFailedTransactions:$o(),maxTransactionsPerEntry:$o()})}),Qo({type:Ko("dead"),slot:$o(),timestamp:$o(),err:Yo()})]),ll=Qo({subscription:$o(),result:cl}),ul=Qo({subscription:$o(),result:wc(Jo([Nc,Lc]))}),hl=Qo({subscription:$o(),result:$o()}),dl=Qo({pubkey:Yo(),gossip:Ho(Yo()),tpu:Ho(Yo()),rpc:Ho(Yo()),version:Ho(Yo())}),fl=Qo({votePubkey:Yo(),nodePubkey:Yo(),activatedStake:$o(),epochVoteAccount:Wo(),epochCredits:Fo(Go([$o(),$o(),$o()])),commission:$o(),lastVote:$o(),rootSlot:Ho($o())}),pl=gc(Qo({current:Fo(fl),delinquent:Fo(fl)})),ml=Jo([Ko("processed"),Ko("confirmed"),Ko("finalized")]),gl=Qo({slot:$o(),confirmations:Ho($o()),err:Ic,confirmationStatus:Vo(ml)}),yl=yc(Fo(Ho(gl))),wl=gc($o()),bl=Qo({accountKey:lc,writableIndexes:Fo($o()),readonlyIndexes:Fo($o())}),vl=Qo({signatures:Fo(Yo()),message:Qo({accountKeys:Fo(Yo()),header:Qo({numRequiredSignatures:$o(),numReadonlySignedAccounts:$o(),numReadonlyUnsignedAccounts:$o()}),instructions:Fo(Qo({accounts:Fo($o()),data:Yo(),programIdIndex:$o()})),recentBlockhash:Yo(),addressTableLookups:Vo(Fo(bl))})}),xl=Qo({pubkey:lc,signer:Wo(),writable:Wo(),source:Vo(Jo([Ko("transaction"),Ko("lookupTable")]))}),El=Qo({accountKeys:Fo(xl),signatures:Fo(Yo())}),Ml=Qo({parsed:Xo(),program:Yo(),programId:lc}),Sl=Qo({accounts:Fo(lc),data:Yo(),programId:lc}),Al=ts(Jo([Sl,Ml]),Jo([Qo({parsed:Xo(),program:Yo(),programId:Yo()}),Qo({accounts:Fo(Yo()),data:Yo(),programId:Yo()})]),t=>Do(t,"accounts"in t?Sl:Ml)),kl=Qo({signatures:Fo(Yo()),message:Qo({accountKeys:Fo(xl),instructions:Fo(Al),recentBlockhash:Yo(),addressTableLookups:Vo(Ho(Fo(bl)))})}),Il=Qo({accountIndex:$o(),mint:Yo(),owner:Vo(Yo()),programId:Vo(Yo()),uiTokenAmount:qc}),Nl=Qo({writable:Fo(lc),readonly:Fo(lc)}),Ll=Qo({err:Ic,fee:$o(),innerInstructions:Vo(Ho(Fo(Qo({index:$o(),instructions:Fo(Qo({accounts:Fo($o()),data:Yo(),programIdIndex:$o()}))})))),preBalances:Fo($o()),postBalances:Fo($o()),logMessages:Vo(Ho(Fo(Yo()))),preTokenBalances:Vo(Ho(Fo(Il))),postTokenBalances:Vo(Ho(Fo(Il))),loadedAddresses:Vo(Nl),computeUnitsConsumed:Vo($o()),costUnits:Vo($o())}),Bl=Qo({err:Ic,fee:$o(),innerInstructions:Vo(Ho(Fo(Qo({index:$o(),instructions:Fo(Al)})))),preBalances:Fo($o()),postBalances:Fo($o()),logMessages:Vo(Ho(Fo(Yo()))),preTokenBalances:Vo(Ho(Fo(Il))),postTokenBalances:Vo(Ho(Fo(Il))),loadedAddresses:Vo(Nl),computeUnitsConsumed:Vo($o()),costUnits:Vo($o())}),jl=Jo([Ko(0),Ko("legacy")]),Cl=Qo({pubkey:Yo(),lamports:$o(),postBalance:Ho($o()),rewardType:Ho(Yo()),commission:Vo(Ho($o()))}),_l=gc(Ho(Qo({blockhash:Yo(),previousBlockhash:Yo(),parentSlot:$o(),transactions:Fo(Qo({transaction:vl,meta:Ho(Ll),version:Vo(jl)})),rewards:Vo(Fo(Cl)),blockTime:Ho($o()),blockHeight:Ho($o())}))),Tl=gc(Ho(Qo({blockhash:Yo(),previousBlockhash:Yo(),parentSlot:$o(),rewards:Vo(Fo(Cl)),blockTime:Ho($o()),blockHeight:Ho($o())}))),Rl=gc(Ho(Qo({blockhash:Yo(),previousBlockhash:Yo(),parentSlot:$o(),transactions:Fo(Qo({transaction:El,meta:Ho(Ll),version:Vo(jl)})),rewards:Vo(Fo(Cl)),blockTime:Ho($o()),blockHeight:Ho($o())}))),Ol=gc(Ho(Qo({blockhash:Yo(),previousBlockhash:Yo(),parentSlot:$o(),transactions:Fo(Qo({transaction:kl,meta:Ho(Bl),version:Vo(jl)})),rewards:Vo(Fo(Cl)),blockTime:Ho($o()),blockHeight:Ho($o())}))),Dl=gc(Ho(Qo({blockhash:Yo(),previousBlockhash:Yo(),parentSlot:$o(),transactions:Fo(Qo({transaction:El,meta:Ho(Bl),version:Vo(jl)})),rewards:Vo(Fo(Cl)),blockTime:Ho($o()),blockHeight:Ho($o())}))),zl=gc(Ho(Qo({blockhash:Yo(),previousBlockhash:Yo(),parentSlot:$o(),rewards:Vo(Fo(Cl)),blockTime:Ho($o()),blockHeight:Ho($o())}))),Ul=gc(Ho(Qo({blockhash:Yo(),previousBlockhash:Yo(),parentSlot:$o(),transactions:Fo(Qo({transaction:vl,meta:Ho(Ll)})),rewards:Vo(Fo(Cl)),blockTime:Ho($o())}))),Pl=gc(Ho(Qo({blockhash:Yo(),previousBlockhash:Yo(),parentSlot:$o(),signatures:Fo(Yo()),blockTime:Ho($o())}))),Fl=gc(Ho(Qo({slot:$o(),meta:Ho(Ll),blockTime:Vo(Ho($o())),transaction:vl,version:Vo(jl)}))),Wl=gc(Ho(Qo({slot:$o(),transaction:kl,meta:Ho(Bl),blockTime:Vo(Ho($o())),version:Vo(jl)}))),ql=yc(Qo({blockhash:Yo(),lastValidBlockHeight:$o()})),Kl=yc(Wo()),Hl=gc(Fo(Qo({slot:$o(),numTransactions:$o(),numSlots:$o(),samplePeriodSecs:$o()}))),$l=yc(Ho(Qo({feeCalculator:Qo({lamportsPerSignature:$o()})}))),Vl=gc(Yo()),Zl=gc(Yo()),Yl=Qo({err:Ic,logs:Fo(Yo()),signature:Yo()}),Gl=Qo({result:wc(Yl),subscription:$o()}),Ql={"solana-client":"js/1.0.0-maintenance"};class Jl{constructor(t,e){let n,r,i,o,s,a;var c;this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const t={};return async e=>{const{commitment:n,config:r}=dc(e),i=this._buildArgs([],n,void 0,r),o=ec(i);return t[o]=t[o]??(async()=>{try{const t=Do(await this._rpcRequest("getBlockHeight",i),gc($o()));if("error"in t)throw new Ha(t.error,"failed to get block height information");return t.result}finally{delete t[o]}})(),await t[o]}})(),e&&"string"==typeof e?this._commitment=e:e&&(this._commitment=e.commitment,this._confirmTransactionInitialTimeout=e.confirmTransactionInitialTimeout,n=e.wsEndpoint,r=e.httpHeaders,i=e.fetch,o=e.fetchMiddleware,s=e.disableRetryOnRateLimit,a=e.httpAgent),this._rpcEndpoint=function(t){if(!1===/^https?:/.test(t))throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}(t),this._rpcWsEndpoint=n||function(t){const e=t.match(cc);if(null==e)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[n,r,i,o]=e,s=t.startsWith("https:")?"wss:":"ws:",a=null==i?null:parseInt(i.slice(1),10);return`${s}//${r}${null==a?"":`:${a+1}`}${o}`}(t),this._rpcClient=function(t,e,n,r,i){const o=n||ic;let s;return r&&(s=async(t,e)=>{const n=await new Promise((n,i)=>{try{r(t,e,(t,e)=>n([t,e]))}catch(o){i(o)}});return await o(...n)}),new Ts(async(n,r)=>{const a={method:"POST",body:n,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},e||{},Ql)};try{let e,n=5,c=500;for(;e=s?await s(t,a):await o(t,a),429===e.status&&!0!==i&&(n-=1,0!==n);)await $a(c),c*=2;const l=await e.text();e.ok?r(null,l):r(new Error(`${e.status} ${e.statusText}: ${l}`))}catch(c){c instanceof Error&&r(c)}},{})}(t,r,i,o,s),this._rpcRequest=(c=this._rpcClient,(t,e)=>new Promise((n,r)=>{c.request(t,e,(t,e)=>{t?r(t):n(e)})})),this._rpcBatchRequest=function(t){return e=>new Promise((n,r)=>{0===e.length&&n([]);const i=e.map(e=>t.request(e.methodName,e.args));t.request(i,(t,e)=>{t?r(t):n(e)})})}(this._rpcClient),this._rpcWebSocket=new oc(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(t,e){const{commitment:n,config:r}=dc(e),i=this._buildArgs([t.toBase58()],n,void 0,r),o=Do(await this._rpcRequest("getBalance",i),yc($o()));if("error"in o)throw new Ha(o.error,`failed to get balance for ${t.toBase58()}`);return o.result}async getBalance(t,e){return await this.getBalanceAndContext(t,e).then(t=>t.value).catch(e=>{throw new Error("failed to get balance of account "+t.toBase58()+": "+e)})}async getBlockTime(t){const e=Do(await this._rpcRequest("getBlockTime",[t]),gc(Ho($o())));if("error"in e)throw new Ha(e.error,`failed to get block time for slot ${t}`);return e.result}async getMinimumLedgerSlot(){const t=Do(await this._rpcRequest("minimumLedgerSlot",[]),gc($o()));if("error"in t)throw new Ha(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const t=Do(await this._rpcRequest("getFirstAvailableBlock",[]),Fc);if("error"in t)throw new Ha(t.error,"failed to get first available block");return t.result}async getSupply(t){let e={};e="string"==typeof t?{commitment:t}:t?{...t,commitment:t&&t.commitment||this.commitment}:{commitment:this.commitment};const n=Do(await this._rpcRequest("getSupply",[e]),Wc);if("error"in n)throw new Ha(n.error,"failed to get supply");return n.result}async getTokenSupply(t,e){const n=this._buildArgs([t.toBase58()],e),r=Do(await this._rpcRequest("getTokenSupply",n),yc(qc));if("error"in r)throw new Ha(r.error,"failed to get token supply");return r.result}async getTokenAccountBalance(t,e){const n=this._buildArgs([t.toBase58()],e),r=Do(await this._rpcRequest("getTokenAccountBalance",n),yc(qc));if("error"in r)throw new Ha(r.error,"failed to get token account balance");return r.result}async getTokenAccountsByOwner(t,e,n){const{commitment:r,config:i}=dc(n);let o=[t.toBase58()];"mint"in e?o.push({mint:e.mint.toBase58()}):o.push({programId:e.programId.toBase58()});const s=this._buildArgs(o,r,"base64",i),a=Do(await this._rpcRequest("getTokenAccountsByOwner",s),Hc);if("error"in a)throw new Ha(a.error,`failed to get token accounts owned by account ${t.toBase58()}`);return a.result}async getParsedTokenAccountsByOwner(t,e,n){let r=[t.toBase58()];"mint"in e?r.push({mint:e.mint.toBase58()}):r.push({programId:e.programId.toBase58()});const i=this._buildArgs(r,n,"jsonParsed"),o=Do(await this._rpcRequest("getTokenAccountsByOwner",i),Vc);if("error"in o)throw new Ha(o.error,`failed to get token accounts owned by account ${t.toBase58()}`);return o.result}async getLargestAccounts(t){const e={...t,commitment:t&&t.commitment||this.commitment},n=e.filter||e.commitment?[e]:[],r=Do(await this._rpcRequest("getLargestAccounts",n),Zc);if("error"in r)throw new Ha(r.error,"failed to get largest accounts");return r.result}async getTokenLargestAccounts(t,e){const n=this._buildArgs([t.toBase58()],e),r=Do(await this._rpcRequest("getTokenLargestAccounts",n),Kc);if("error"in r)throw new Ha(r.error,"failed to get token largest accounts");return r.result}async getAccountInfoAndContext(t,e){const{commitment:n,config:r}=dc(e),i=this._buildArgs([t.toBase58()],n,"base64",r),o=Do(await this._rpcRequest("getAccountInfo",i),yc(Ho(Yc)));if("error"in o)throw new Ha(o.error,`failed to get info about account ${t.toBase58()}`);return o.result}async getParsedAccountInfo(t,e){const{commitment:n,config:r}=dc(e),i=this._buildArgs([t.toBase58()],n,"jsonParsed",r),o=Do(await this._rpcRequest("getAccountInfo",i),yc(Ho(Jc)));if("error"in o)throw new Ha(o.error,`failed to get info about account ${t.toBase58()}`);return o.result}async getAccountInfo(t,e){try{return(await this.getAccountInfoAndContext(t,e)).value}catch(sy){throw new Error("failed to get info about account "+t.toBase58()+": "+sy)}}async getMultipleParsedAccounts(t,e){const{commitment:n,config:r}=dc(e),i=t.map(t=>t.toBase58()),o=this._buildArgs([i],n,"jsonParsed",r),s=Do(await this._rpcRequest("getMultipleAccounts",o),yc(Fo(Ho(Jc))));if("error"in s)throw new Ha(s.error,`failed to get info for accounts ${i}`);return s.result}async getMultipleAccountsInfoAndContext(t,e){const{commitment:n,config:r}=dc(e),i=t.map(t=>t.toBase58()),o=this._buildArgs([i],n,"base64",r),s=Do(await this._rpcRequest("getMultipleAccounts",o),yc(Fo(Ho(Yc))));if("error"in s)throw new Ha(s.error,`failed to get info for accounts ${i}`);return s.result}async getMultipleAccountsInfo(t,e){return(await this.getMultipleAccountsInfoAndContext(t,e)).value}async getStakeActivation(t,e,n){const{commitment:r,config:i}=dc(e),o=this._buildArgs([t.toBase58()],r,void 0,{...i,epoch:null!=n?n:i?.epoch}),s=Do(await this._rpcRequest("getStakeActivation",o),gc(tl));if("error"in s)throw new Ha(s.error,`failed to get Stake Activation ${t.toBase58()}`);return s.result}async getProgramAccounts(t,e){const{commitment:n,config:r}=dc(e),{encoding:i,...o}=r||{},s=this._buildArgs([t.toBase58()],n,i||"base64",{...o,...o.filters?{filters:fc(o.filters)}:null}),a=await this._rpcRequest("getProgramAccounts",s),c=Fo(Gc),l=!0===o.withContext?Do(a,yc(c)):Do(a,gc(c));if("error"in l)throw new Ha(l.error,`failed to get accounts owned by program ${t.toBase58()}`);return l.result}async getParsedProgramAccounts(t,e){const{commitment:n,config:r}=dc(e),i=this._buildArgs([t.toBase58()],n,"jsonParsed",r),o=Do(await this._rpcRequest("getProgramAccounts",i),gc(Fo(Xc)));if("error"in o)throw new Ha(o.error,`failed to get accounts owned by program ${t.toBase58()}`);return o.result}async confirmTransaction(t,e){let n,r;if("string"==typeof t)n=t;else{const e=t;if(e.abortSignal?.aborted)return Promise.reject(e.abortSignal.reason);n=e.signature}try{r=Fr.decode(n)}catch(i){throw new Error("signature must be base58 encoded: "+n)}return ja(64===r.length,"signature has invalid length"),"string"==typeof t?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:e||this.commitment,signature:n}):"lastValidBlockHeight"in t?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e||this.commitment,strategy:t}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:e||this.commitment,strategy:t})}getCancellationPromise(t){return new Promise((e,n)=>{null!=t&&(t.aborted?n(t.reason):t.addEventListener("abort",()=>{n(t.reason)}))})}getTransactionConfirmationPromise({commitment:t,signature:e}){let n,r,i=!1;return{abortConfirmation:()=>{r&&(r(),r=void 0),null!=n&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:new Promise((o,s)=>{try{n=this.onSignature(e,(t,e)=>{n=void 0;const r={context:e,value:t};o({__type:Ua.PROCESSED,response:r})},t);const a=new Promise(t=>{null==n?t():r=this._onSubscriptionStateChange(n,e=>{"subscribed"===e&&t()})});(async()=>{if(await a,i)return;const n=await this.getSignatureStatus(e);if(i)return;if(null==n)return;const{context:r,value:c}=n;if(null!=c)if(c?.err)s(c.err);else{switch(t){case"confirmed":case"single":case"singleGossip":if("processed"===c.confirmationStatus)return;break;case"finalized":case"max":case"root":if("processed"===c.confirmationStatus||"confirmed"===c.confirmationStatus)return}i=!0,o({__type:Ua.PROCESSED,response:{context:r,value:c}})}})()}catch(a){s(a)}})}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t,strategy:{abortSignal:e,lastValidBlockHeight:n,signature:r}}){let i=!1;const o=new Promise(e=>{const r=async()=>{try{return await this.getBlockHeight(t)}catch(e){return-1}};(async()=>{let t=await r();if(!i){for(;t<=n;){if(await $a(1e3),i)return;if(t=await r(),i)return}e({__type:Ua.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:s,confirmationPromise:a}=this.getTransactionConfirmationPromise({commitment:t,signature:r}),c=this.getCancellationPromise(e);let l;try{const t=await Promise.race([c,a,o]);if(t.__type!==Ua.PROCESSED)throw new Ea(r);l=t.response}finally{i=!0,s()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:t,strategy:{abortSignal:e,minContextSlot:n,nonceAccountPubkey:r,nonceValue:i,signature:o}}){let s=!1;const a=new Promise(e=>{let o=i,a=null;const c=async()=>{try{const{context:e,value:i}=await this.getNonceAndContext(r,{commitment:t,minContextSlot:n});return a=e.slot,i?.nonce}catch(sy){return o}};(async()=>{if(o=await c(),!s)for(;;){if(i!==o)return void e({__type:Ua.NONCE_INVALID,slotInWhichNonceDidAdvance:a});if(await $a(2e3),s)return;if(o=await c(),s)return}})()}),{abortConfirmation:c,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:t,signature:o}),u=this.getCancellationPromise(e);let h;try{const e=await Promise.race([u,l,a]);if(e.__type===Ua.PROCESSED)h=e.response;else{let r;for(;;){const t=await this.getSignatureStatus(o);if(null==t)break;if(!(t.context.slot<(e.slotInWhichNonceDidAdvance??n))){r=t;break}await $a(400)}if(!r?.value)throw new Sa(o);{const e=t||"finalized",{confirmationStatus:n}=r.value;switch(e){case"processed":case"recent":if("processed"!==n&&"confirmed"!==n&&"finalized"!==n)throw new Sa(o);break;case"confirmed":case"single":case"singleGossip":if("confirmed"!==n&&"finalized"!==n)throw new Sa(o);break;case"finalized":case"max":case"root":if("finalized"!==n)throw new Sa(o)}h={context:r.context,value:{err:r.value.err}}}}}finally{s=!0,c()}return h}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:t,signature:e}){let n;const r=new Promise(e=>{let r=this._confirmTransactionInitialTimeout||6e4;switch(t){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":r=this._confirmTransactionInitialTimeout||3e4}n=setTimeout(()=>e({__type:Ua.TIMED_OUT,timeoutMs:r}),r)}),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:t,signature:e});let s;try{const t=await Promise.race([o,r]);if(t.__type!==Ua.PROCESSED)throw new Ma(e,t.timeoutMs/1e3);s=t.response}finally{clearTimeout(n),i()}return s}async getClusterNodes(){const t=Do(await this._rpcRequest("getClusterNodes",[]),gc(Fo(dl)));if("error"in t)throw new Ha(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(t){const e=this._buildArgs([],t),n=Do(await this._rpcRequest("getVoteAccounts",e),pl);if("error"in n)throw new Ha(n.error,"failed to get vote accounts");return n.result}async getSlot(t){const{commitment:e,config:n}=dc(t),r=this._buildArgs([],e,void 0,n),i=Do(await this._rpcRequest("getSlot",r),gc($o()));if("error"in i)throw new Ha(i.error,"failed to get slot");return i.result}async getSlotLeader(t){const{commitment:e,config:n}=dc(t),r=this._buildArgs([],e,void 0,n),i=Do(await this._rpcRequest("getSlotLeader",r),gc(Yo()));if("error"in i)throw new Ha(i.error,"failed to get slot leader");return i.result}async getSlotLeaders(t,e){const n=[t,e],r=Do(await this._rpcRequest("getSlotLeaders",n),gc(Fo(lc)));if("error"in r)throw new Ha(r.error,"failed to get slot leaders");return r.result}async getSignatureStatus(t,e){const{context:n,value:r}=await this.getSignatureStatuses([t],e);ja(1===r.length);return{context:n,value:r[0]}}async getSignatureStatuses(t,e){const n=[t];e&&n.push(e);const r=Do(await this._rpcRequest("getSignatureStatuses",n),yl);if("error"in r)throw new Ha(r.error,"failed to get signature status");return r.result}async getTransactionCount(t){const{commitment:e,config:n}=dc(t),r=this._buildArgs([],e,void 0,n),i=Do(await this._rpcRequest("getTransactionCount",r),gc($o()));if("error"in i)throw new Ha(i.error,"failed to get transaction count");return i.result}async getTotalSupply(t){return(await this.getSupply({commitment:t,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(t){const e=this._buildArgs([],t),n=Do(await this._rpcRequest("getInflationGovernor",e),Rc);if("error"in n)throw new Ha(n.error,"failed to get inflation");return n.result}async getInflationReward(t,e,n){const{commitment:r,config:i}=dc(n),o=this._buildArgs([t.map(t=>t.toBase58())],r,void 0,{...i,epoch:null!=e?e:i?.epoch}),s=Do(await this._rpcRequest("getInflationReward",o),xc);if("error"in s)throw new Ha(s.error,"failed to get inflation reward");return s.result}async getInflationRate(){const t=Do(await this._rpcRequest("getInflationRate",[]),Oc);if("error"in t)throw new Ha(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(t){const{commitment:e,config:n}=dc(t),r=this._buildArgs([],e,void 0,n),i=Do(await this._rpcRequest("getEpochInfo",r),zc);if("error"in i)throw new Ha(i.error,"failed to get epoch info");return i.result}async getEpochSchedule(){const t=Do(await this._rpcRequest("getEpochSchedule",[]),Uc);if("error"in t)throw new Ha(t.error,"failed to get epoch schedule");const e=t.result;return new rc(e.slotsPerEpoch,e.leaderScheduleSlotOffset,e.warmup,e.firstNormalEpoch,e.firstNormalSlot)}async getLeaderSchedule(){const t=Do(await this._rpcRequest("getLeaderSchedule",[]),Pc);if("error"in t)throw new Ha(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(t,e){const n=this._buildArgs([t],e),r=Do(await this._rpcRequest("getMinimumBalanceForRentExemption",n),wl);return"error"in r?0:r.result}async getRecentBlockhashAndContext(t){const{context:e,value:{blockhash:n}}=await this.getLatestBlockhashAndContext(t);return{context:e,value:{blockhash:n,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON:()=>({})}}}}async getRecentPerformanceSamples(t){const e=Do(await this._rpcRequest("getRecentPerformanceSamples",t?[t]:[]),Hl);if("error"in e)throw new Ha(e.error,"failed to get recent performance samples");return e.result}async getFeeCalculatorForBlockhash(t,e){const n=this._buildArgs([t],e),r=Do(await this._rpcRequest("getFeeCalculatorForBlockhash",n),$l);if("error"in r)throw new Ha(r.error,"failed to get fee calculator");const{context:i,value:o}=r.result;return{context:i,value:null!==o?o.feeCalculator:null}}async getFeeForMessage(t,e){const n=pa(t.serialize()).toString("base64"),r=this._buildArgs([n],e),i=Do(await this._rpcRequest("getFeeForMessage",r),yc(Ho($o())));if("error"in i)throw new Ha(i.error,"failed to get fee for message");if(null===i.result)throw new Error("invalid blockhash");return i.result}async getRecentPrioritizationFees(t){const e=t?.lockedWritableAccounts?.map(t=>t.toBase58()),n=e?.length?[e]:[],r=Do(await this._rpcRequest("getRecentPrioritizationFees",n),Dc);if("error"in r)throw new Ha(r.error,"failed to get recent prioritization fees");return r.result}async getRecentBlockhash(t){try{return(await this.getRecentBlockhashAndContext(t)).value}catch(sy){throw new Error("failed to get recent blockhash: "+sy)}}async getLatestBlockhash(t){try{return(await this.getLatestBlockhashAndContext(t)).value}catch(sy){throw new Error("failed to get recent blockhash: "+sy)}}async getLatestBlockhashAndContext(t){const{commitment:e,config:n}=dc(t),r=this._buildArgs([],e,void 0,n),i=Do(await this._rpcRequest("getLatestBlockhash",r),ql);if("error"in i)throw new Ha(i.error,"failed to get latest blockhash");return i.result}async isBlockhashValid(t,e){const{commitment:n,config:r}=dc(e),i=this._buildArgs([t],n,void 0,r),o=Do(await this._rpcRequest("isBlockhashValid",i),Kl);if("error"in o)throw new Ha(o.error,"failed to determine if the blockhash `"+t+"`is valid");return o.result}async getVersion(){const t=Do(await this._rpcRequest("getVersion",[]),gc(Bc));if("error"in t)throw new Ha(t.error,"failed to get version");return t.result}async getGenesisHash(){const t=Do(await this._rpcRequest("getGenesisHash",[]),gc(Yo()));if("error"in t)throw new Ha(t.error,"failed to get genesis hash");return t.result}async getBlock(t,e){const{commitment:n,config:r}=dc(e),i=this._buildArgsAtLeastConfirmed([t],n,void 0,r),o=await this._rpcRequest("getBlock",i);try{switch(r?.transactionDetails){case"accounts":{const t=Do(o,Rl);if("error"in t)throw t.error;return t.result}case"none":{const t=Do(o,Tl);if("error"in t)throw t.error;return t.result}default:{const t=Do(o,_l);if("error"in t)throw t.error;const{result:e}=t;return e?{...e,transactions:e.transactions.map(({transaction:t,meta:e,version:n})=>({meta:e,transaction:{...t,message:bc(n,t.message)},version:n}))}:null}}}catch(sy){throw new Ha(sy,"failed to get confirmed block")}}async getParsedBlock(t,e){const{commitment:n,config:r}=dc(e),i=this._buildArgsAtLeastConfirmed([t],n,"jsonParsed",r),o=await this._rpcRequest("getBlock",i);try{switch(r?.transactionDetails){case"accounts":{const t=Do(o,Dl);if("error"in t)throw t.error;return t.result}case"none":{const t=Do(o,zl);if("error"in t)throw t.error;return t.result}default:{const t=Do(o,Ol);if("error"in t)throw t.error;return t.result}}}catch(sy){throw new Ha(sy,"failed to get block")}}async getBlockProduction(t){let e,n;if("string"==typeof t)n=t;else if(t){const{commitment:r,...i}=t;n=r,e=i}const r=this._buildArgs([],n,"base64",e),i=Do(await this._rpcRequest("getBlockProduction",r),Tc);if("error"in i)throw new Ha(i.error,"failed to get block production information");return i.result}async getTransaction(t,e){const{commitment:n,config:r}=dc(e),i=this._buildArgsAtLeastConfirmed([t],n,void 0,r),o=Do(await this._rpcRequest("getTransaction",i),Fl);if("error"in o)throw new Ha(o.error,"failed to get transaction");const s=o.result;return s?{...s,transaction:{...s.transaction,message:bc(s.version,s.transaction.message)}}:s}async getParsedTransaction(t,e){const{commitment:n,config:r}=dc(e),i=this._buildArgsAtLeastConfirmed([t],n,"jsonParsed",r),o=Do(await this._rpcRequest("getTransaction",i),Wl);if("error"in o)throw new Ha(o.error,"failed to get transaction");return o.result}async getParsedTransactions(t,e){const{commitment:n,config:r}=dc(e),i=t.map(t=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([t],n,"jsonParsed",r)}));return(await this._rpcBatchRequest(i)).map(t=>{const e=Do(t,Wl);if("error"in e)throw new Ha(e.error,"failed to get transactions");return e.result})}async getTransactions(t,e){const{commitment:n,config:r}=dc(e),i=t.map(t=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([t],n,void 0,r)}));return(await this._rpcBatchRequest(i)).map(t=>{const e=Do(t,Fl);if("error"in e)throw new Ha(e.error,"failed to get transactions");const n=e.result;return n?{...n,transaction:{...n.transaction,message:bc(n.version,n.transaction.message)}}:n})}async getConfirmedBlock(t,e){const n=this._buildArgsAtLeastConfirmed([t],e),r=Do(await this._rpcRequest("getBlock",n),Ul);if("error"in r)throw new Ha(r.error,"failed to get confirmed block");const i=r.result;if(!i)throw new Error("Confirmed block "+t+" not found");const o={...i,transactions:i.transactions.map(({transaction:t,meta:e})=>{const n=new Oa(t.message);return{meta:e,transaction:{...t,message:n}}})};return{...o,transactions:o.transactions.map(({transaction:t,meta:e})=>({meta:e,transaction:Wa.populate(t.message,t.signatures)}))}}async getBlocks(t,e,n){const r=this._buildArgsAtLeastConfirmed(void 0!==e?[t,e]:[t],n),i=Do(await this._rpcRequest("getBlocks",r),gc(Fo($o())));if("error"in i)throw new Ha(i.error,"failed to get blocks");return i.result}async getBlockSignatures(t,e){const n=this._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),r=Do(await this._rpcRequest("getBlock",n),Pl);if("error"in r)throw new Ha(r.error,"failed to get block");const i=r.result;if(!i)throw new Error("Block "+t+" not found");return i}async getConfirmedBlockSignatures(t,e){const n=this._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),r=Do(await this._rpcRequest("getBlock",n),Pl);if("error"in r)throw new Ha(r.error,"failed to get confirmed block");const i=r.result;if(!i)throw new Error("Confirmed block "+t+" not found");return i}async getConfirmedTransaction(t,e){const n=this._buildArgsAtLeastConfirmed([t],e),r=Do(await this._rpcRequest("getTransaction",n),Fl);if("error"in r)throw new Ha(r.error,"failed to get transaction");const i=r.result;if(!i)return i;const o=new Oa(i.transaction.message),s=i.transaction.signatures;return{...i,transaction:Wa.populate(o,s)}}async getParsedConfirmedTransaction(t,e){const n=this._buildArgsAtLeastConfirmed([t],e,"jsonParsed"),r=Do(await this._rpcRequest("getTransaction",n),Wl);if("error"in r)throw new Ha(r.error,"failed to get confirmed transaction");return r.result}async getParsedConfirmedTransactions(t,e){const n=t.map(t=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([t],e,"jsonParsed")}));return(await this._rpcBatchRequest(n)).map(t=>{const e=Do(t,Wl);if("error"in e)throw new Ha(e.error,"failed to get confirmed transactions");return e.result})}async getConfirmedSignaturesForAddress(t,e,n){let r={},i=await this.getFirstAvailableBlock();for(;!("until"in r)&&!(--e<=0||e<i);)try{const t=await this.getConfirmedBlockSignatures(e,"finalized");t.signatures.length>0&&(r.until=t.signatures[t.signatures.length-1].toString())}catch(s){if(s instanceof Error&&s.message.includes("skipped"))continue;throw s}let o=await this.getSlot("finalized");for(;!("before"in r||++n>o);)try{const t=await this.getConfirmedBlockSignatures(n);t.signatures.length>0&&(r.before=t.signatures[t.signatures.length-1].toString())}catch(s){if(s instanceof Error&&s.message.includes("skipped"))continue;throw s}return(await this.getConfirmedSignaturesForAddress2(t,r)).map(t=>t.signature)}async getConfirmedSignaturesForAddress2(t,e,n){const r=this._buildArgsAtLeastConfirmed([t.toBase58()],n,void 0,e),i=Do(await this._rpcRequest("getConfirmedSignaturesForAddress2",r),el);if("error"in i)throw new Ha(i.error,"failed to get confirmed signatures for address");return i.result}async getSignaturesForAddress(t,e,n){const r=this._buildArgsAtLeastConfirmed([t.toBase58()],n,void 0,e),i=Do(await this._rpcRequest("getSignaturesForAddress",r),nl);if("error"in i)throw new Ha(i.error,"failed to get signatures for address");return i.result}async getAddressLookupTable(t,e){const{context:n,value:r}=await this.getAccountInfoAndContext(t,e);let i=null;return null!==r&&(i=new sc({key:t,state:sc.deserialize(r.data)})),{context:n,value:i}}async getNonceAndContext(t,e){const{context:n,value:r}=await this.getAccountInfoAndContext(t,e);let i=null;return null!==r&&(i=Ya.fromAccountData(r.data)),{context:n,value:i}}async getNonce(t,e){return await this.getNonceAndContext(t,e).then(t=>t.value).catch(e=>{throw new Error("failed to get nonce for account "+t.toBase58()+": "+e)})}async requestAirdrop(t,e){const n=Do(await this._rpcRequest("requestAirdrop",[t.toBase58(),e]),Vl);if("error"in n)throw new Ha(n.error,`airdrop to ${t.toBase58()} failed`);return n.result}async _blockhashWithExpiryBlockHeight(t){if(!t){for(;this._pollingBlockhash;)await $a(100);const t=Date.now()-this._blockhashInfo.lastFetch>=3e4;if(null!==this._blockhashInfo.latestBlockhash&&!t)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const t=Date.now(),e=this._blockhashInfo.latestBlockhash,n=e?e.blockhash:null;for(let r=0;r<50;r++){const t=await this.getLatestBlockhash("finalized");if(n!==t.blockhash)return this._blockhashInfo={latestBlockhash:t,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},t;await $a(200)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-t}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(t){const{commitment:e,config:n}=dc(t),r=this._buildArgs([],e,"base64",n),i=Do(await this._rpcRequest("getStakeMinimumDelegation",r),yc($o()));if("error"in i)throw new Ha(i.error,"failed to get stake minimum delegation");return i.result}async simulateTransaction(t,e,n){if("message"in t){const r=t.serialize(),i=Gt.Buffer.from(r).toString("base64");if(Array.isArray(e)||void 0!==n)throw new Error("Invalid arguments");const o=e||{};o.encoding="base64","commitment"in o||(o.commitment=this.commitment),e&&"object"==typeof e&&"innerInstructions"in e&&(o.innerInstructions=e.innerInstructions);const s=[i,o],a=Do(await this._rpcRequest("simulateTransaction",s),_c);if("error"in a)throw new Error("failed to simulate transaction: "+a.error.message);return a.result}let r;if(t instanceof Wa){let e=t;r=new Wa,r.feePayer=e.feePayer,r.instructions=t.instructions,r.nonceInfo=e.nonceInfo,r.signatures=e.signatures}else r=Wa.populate(t),r._message=r._json=void 0;if(void 0!==e&&!Array.isArray(e))throw new Error("Invalid arguments");const i=e;if(r.nonceInfo&&i)r.sign(...i);else{let t=this._disableBlockhashCaching;for(;;){const e=await this._blockhashWithExpiryBlockHeight(t);if(r.lastValidBlockHeight=e.lastValidBlockHeight,r.recentBlockhash=e.blockhash,!i)break;if(r.sign(...i),!r.signature)throw new Error("!signature");const n=r.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(n)&&!this._blockhashInfo.transactionSignatures.includes(n)){this._blockhashInfo.simulatedSignatures.push(n);break}t=!0}}const o=r._compile(),s=o.serialize(),a=r._serialize(s).toString("base64"),c={encoding:"base64",commitment:this.commitment};if(n){const t=(Array.isArray(n)?n:o.nonProgramIds()).map(t=>t.toBase58());c.accounts={encoding:"base64",addresses:t}}i&&(c.sigVerify=!0),e&&"object"==typeof e&&"innerInstructions"in e&&(c.innerInstructions=e.innerInstructions);const l=[a,c],u=Do(await this._rpcRequest("simulateTransaction",l),_c);if("error"in u){let t;if("data"in u.error&&(t=u.error.data.logs,t&&Array.isArray(t))){const e="\n    ";t.join(e)}throw new Ka({action:"simulate",signature:"",transactionMessage:u.error.message,logs:t})}return u.result}async sendTransaction(t,e,n){if("version"in t){if(e&&Array.isArray(e))throw new Error("Invalid arguments");const n=t.serialize();return await this.sendRawTransaction(n,e)}if(void 0===e||!Array.isArray(e))throw new Error("Invalid arguments");const r=e;if(t.nonceInfo)t.sign(...r);else{let e=this._disableBlockhashCaching;for(;;){const n=await this._blockhashWithExpiryBlockHeight(e);if(t.lastValidBlockHeight=n.lastValidBlockHeight,t.recentBlockhash=n.blockhash,t.sign(...r),!t.signature)throw new Error("!signature");const i=t.signature.toString("base64");if(!this._blockhashInfo.transactionSignatures.includes(i)){this._blockhashInfo.transactionSignatures.push(i);break}e=!0}}const i=t.serialize();return await this.sendRawTransaction(i,n)}async sendRawTransaction(t,e){const n=pa(t).toString("base64");return await this.sendEncodedTransaction(n,e)}async sendEncodedTransaction(t,e){const n={encoding:"base64"},r=e&&e.skipPreflight,i=!0===r?"processed":e&&e.preflightCommitment||this.commitment;e&&null!=e.maxRetries&&(n.maxRetries=e.maxRetries),e&&null!=e.minContextSlot&&(n.minContextSlot=e.minContextSlot),r&&(n.skipPreflight=r),i&&(n.preflightCommitment=i);const o=[t,n],s=Do(await this._rpcRequest("sendTransaction",o),Zl);if("error"in s){let t;throw"data"in s.error&&(t=s.error.data.logs),new Ka({action:r?"send":"simulate",signature:"",transactionMessage:s.error.message,logs:t})}return s.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(t){this._rpcWebSocketConnected=!1}_wsOnClose(t){this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),1e3!==t?(this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,e])=>{this._setSubscription(t,{...e,state:"pending"})})):this._updateSubscriptions()}_setSubscription(t,e){const n=this._subscriptionsByHash[t]?.state;if(this._subscriptionsByHash[t]=e,n!==e.state){const n=this._subscriptionStateChangeCallbacksByHash[t];n&&n.forEach(t=>{try{t(e.state)}catch{}})}}_onSubscriptionStateChange(t,e){var n;const r=this._subscriptionHashByClientSubscriptionId[t];if(null==r)return()=>{};const i=(n=this._subscriptionStateChangeCallbacksByHash)[r]||(n[r]=new Set);return i.add(e),()=>{i.delete(e),0===i.size&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(0===Object.keys(this._subscriptionsByHash).length)return void(this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(t){Error}},500)));if(null!==this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected)return void this._rpcWebSocket.connect();const t=this._rpcWebSocketGeneration,e=()=>t===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async t=>{const n=this._subscriptionsByHash[t];if(void 0!==n)switch(n.state){case"pending":case"unsubscribed":if(0===n.callbacks.size)return delete this._subscriptionsByHash[t],"unsubscribed"===n.state&&delete this._subscriptionCallbacksByServerSubscriptionId[n.serverSubscriptionId],void(await this._updateSubscriptions());await(async()=>{const{args:r,method:i}=n;try{this._setSubscription(t,{...n,state:"subscribing"});const e=await this._rpcWebSocket.call(i,r);this._setSubscription(t,{...n,serverSubscriptionId:e,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[e]=n.callbacks,await this._updateSubscriptions()}catch(sy){if(!e())return;this._setSubscription(t,{...n,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":0===n.callbacks.size&&await(async()=>{const{serverSubscriptionId:r,unsubscribeMethod:i}=n;if(this._subscriptionsAutoDisposedByRpc.has(r))this._subscriptionsAutoDisposedByRpc.delete(r);else{this._setSubscription(t,{...n,state:"unsubscribing"}),this._setSubscription(t,{...n,state:"unsubscribing"});try{await this._rpcWebSocket.call(i,[r])}catch(sy){if(Error,!e())return;return this._setSubscription(t,{...n,state:"subscribed"}),void(await this._updateSubscriptions())}}this._setSubscription(t,{...n,state:"unsubscribed"}),await this._updateSubscriptions()})()}}))}_handleServerNotification(t,e){const n=this._subscriptionCallbacksByServerSubscriptionId[t];void 0!==n&&n.forEach(t=>{try{t(...e)}catch(sy){}})}_wsOnAccountNotification(t){const{result:e,subscription:n}=Do(t,rl);this._handleServerNotification(n,[e.value,e.context])}_makeSubscription(t,e){const n=this._nextClientSubscriptionId++,r=ec([t.method,e]),i=this._subscriptionsByHash[r];return void 0===i?this._subscriptionsByHash[r]={...t,args:e,callbacks:new Set([t.callback]),state:"pending"}:i.callbacks.add(t.callback),this._subscriptionHashByClientSubscriptionId[n]=r,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];const e=this._subscriptionsByHash[r];ja(void 0!==e,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),e.callbacks.delete(t.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(t,e,n){const{commitment:r,config:i}=dc(n),o=this._buildArgs([t.toBase58()],r||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:e,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"account change")}_wsOnProgramAccountNotification(t){const{result:e,subscription:n}=Do(t,ol);this._handleServerNotification(n,[{accountId:e.value.pubkey,accountInfo:e.value.account},e.context])}onProgramAccountChange(t,e,n,r){const{commitment:i,config:o}=dc(n),s=this._buildArgs([t.toBase58()],i||this._commitment||"finalized","base64",o||(r?{filters:fc(r)}:void 0));return this._makeSubscription({callback:e,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},s)}async removeProgramAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"program account change")}onLogs(t,e,n){const r=this._buildArgs(["object"==typeof t?{mentions:[t.toString()]}:t],n||this._commitment||"finalized");return this._makeSubscription({callback:e,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},r)}async removeOnLogsListener(t){await this._unsubscribeClientSubscription(t,"logs")}_wsOnLogsNotification(t){const{result:e,subscription:n}=Do(t,Gl);this._handleServerNotification(n,[e.value,e.context])}_wsOnSlotNotification(t){const{result:e,subscription:n}=Do(t,al);this._handleServerNotification(n,[e])}onSlotChange(t){return this._makeSubscription({callback:t,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(t){await this._unsubscribeClientSubscription(t,"slot change")}_wsOnSlotUpdatesNotification(t){const{result:e,subscription:n}=Do(t,ll);this._handleServerNotification(n,[e])}onSlotUpdate(t){return this._makeSubscription({callback:t,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(t){await this._unsubscribeClientSubscription(t,"slot update")}async _unsubscribeClientSubscription(t,e){const n=this._subscriptionDisposeFunctionsByClientSubscriptionId[t];n&&await n()}_buildArgs(t,e,n,r){const i=e||this._commitment;if(i||n||r){let e={};n&&(e.encoding=n),i&&(e.commitment=i),r&&(e=Object.assign(e,r)),t.push(e)}return t}_buildArgsAtLeastConfirmed(t,e,n,r){const i=e||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(t,e,n,r)}_wsOnSignatureNotification(t){const{result:e,subscription:n}=Do(t,ul);"receivedSignature"!==e.value&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,"receivedSignature"===e.value?[{type:"received"},e.context]:[{type:"status",result:e.value},e.context])}onSignature(t,e,n){const r=this._buildArgs([t],n||this._commitment||"finalized"),i=this._makeSubscription({callback:(t,n)=>{if("status"===t.type){e(t.result,n);try{this.removeSignatureListener(i)}catch(r){}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},r);return i}onSignatureWithOptions(t,e,n){const{commitment:r,...i}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},o=this._buildArgs([t],r,void 0,i),s=this._makeSubscription({callback:(t,n)=>{e(t,n);try{this.removeSignatureListener(s)}catch(r){}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return s}async removeSignatureListener(t){await this._unsubscribeClientSubscription(t,"signature result")}_wsOnRootNotification(t){const{result:e,subscription:n}=Do(t,hl);this._handleServerNotification(n,[e])}onRootChange(t){return this._makeSubscription({callback:t,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(t){await this._unsubscribeClientSubscription(t,"root change")}}var Xl;Object.freeze({CreateLookupTable:{index:0,layout:yo([po("instruction"),Ga("recentSlot"),ho("bumpSeed")])},FreezeLookupTable:{index:1,layout:yo([po("instruction")])},ExtendLookupTable:{index:2,layout:yo([po("instruction"),Ga(),wo(ka(),uo(po(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:yo([po("instruction")])},CloseLookupTable:{index:4,layout:yo([po("instruction")])}}),new va("AddressLookupTab1e1111111111111111111111111"),Object.freeze({RequestUnits:{index:0,layout:yo([ho("instruction"),po("units"),po("additionalFee")])},RequestHeapFrame:{index:1,layout:yo([ho("instruction"),po("bytes")])},SetComputeUnitLimit:{index:2,layout:yo([ho("instruction"),po("units")])},SetComputeUnitPrice:{index:3,layout:yo([ho("instruction"),Ga("microLamports")])}}),new va("ComputeBudget111111111111111111111111111111"),yo([ho("numSignatures"),ho("padding"),fo("signatureOffset"),fo("signatureInstructionIndex"),fo("publicKeyOffset"),fo("publicKeyInstructionIndex"),fo("messageDataOffset"),fo("messageDataSize"),fo("messageInstructionIndex")]),new va("Ed25519SigVerify111111111111111111111111111"),ua.utils.isValidPrivateKey,yo([ho("numSignatures"),fo("signatureOffset"),ho("signatureInstructionIndex"),fo("ethAddressOffset"),ho("ethAddressInstructionIndex"),fo("messageDataOffset"),fo("messageDataSize"),ho("messageInstructionIndex"),bo(20,"ethAddress"),bo(64,"signature"),ho("recoveryId")]),new va("KeccakSecp256k11111111111111111111111111111"),new va("StakeConfig11111111111111111111111111111111");class tu{constructor(t,e,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=e,this.custodian=n}}Xl=tu,tu.default=new Xl(0,0,va.default),Object.freeze({Initialize:{index:0,layout:yo([po("instruction"),((t="authorized")=>yo([ka("staker"),ka("withdrawer")],t))(),((t="lockup")=>yo([go("unixTimestamp"),go("epoch"),ka("custodian")],t))()])},Authorize:{index:1,layout:yo([po("instruction"),ka("newAuthorized"),po("stakeAuthorizationType")])},Delegate:{index:2,layout:yo([po("instruction")])},Split:{index:3,layout:yo([po("instruction"),go("lamports")])},Withdraw:{index:4,layout:yo([po("instruction"),go("lamports")])},Deactivate:{index:5,layout:yo([po("instruction")])},Merge:{index:7,layout:yo([po("instruction")])},AuthorizeWithSeed:{index:8,layout:yo([po("instruction"),ka("newAuthorized"),po("stakeAuthorizationType"),Na("authoritySeed"),ka("authorityOwner")])}}),new va("Stake11111111111111111111111111111111111111"),Object.freeze({InitializeAccount:{index:0,layout:yo([po("instruction"),((t="voteInit")=>yo([ka("nodePubkey"),ka("authorizedVoter"),ka("authorizedWithdrawer"),ho("commission")],t))()])},Authorize:{index:1,layout:yo([po("instruction"),ka("newAuthorized"),po("voteAuthorizationType")])},Withdraw:{index:3,layout:yo([po("instruction"),go("lamports")])},UpdateValidatorIdentity:{index:4,layout:yo([po("instruction")])},AuthorizeWithSeed:{index:10,layout:yo([po("instruction"),((t="voteAuthorizeWithSeedArgs")=>yo([po("voteAuthorizationType"),ka("currentAuthorityDerivedKeyOwnerPubkey"),Na("currentAuthorityDerivedKeySeed"),ka("newAuthorized")],t))()])}}),new va("Vote111111111111111111111111111111111111111"),new va("Va1idator1nfo111111111111111111111111111111"),Qo({name:Yo(),website:Vo(Yo()),details:Vo(Yo()),iconUrl:Vo(Yo()),keybaseUsername:Vo(Yo())}),new va("Vote111111111111111111111111111111111111111"),yo([ka("nodePubkey"),ka("authorizedWithdrawer"),ho("commission"),mo(),wo(yo([mo("slot"),po("confirmationCount")]),uo(po(),-8),"votes"),ho("rootSlotValid"),mo("rootSlot"),mo(),wo(yo([mo("epoch"),ka("authorizedVoter")]),uo(po(),-8),"authorizedVoters"),yo([wo(yo([ka("authorizedPubkey"),mo("epochOfLastAuthorizedSwitch"),mo("targetEpoch")]),32,"buf"),mo("idx"),ho("isEmpty")],"priorVoters"),mo(),wo(yo([mo("epoch"),mo("credits"),mo("prevCredits")]),uo(po(),-8),"epochCredits"),yo([mo("slot"),mo("timestamp")],"lastTimestamp")]);const eu={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};const nu=n.createContext({});const ru=({children:t,endpoint:e,config:r={commitment:"confirmed"}})=>{const i=n.useMemo(()=>new Jl(e,r),[e,r]);return a.createElement(nu.Provider,{value:{connection:i}},t)};class iu extends Error{constructor(t,e){super(t),this.error=e}}class ou extends iu{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class su extends iu{constructor(){super(...arguments),this.name="WalletLoadError"}}class au extends iu{constructor(){super(...arguments),this.name="WalletConfigError"}}class cu extends iu{constructor(){super(...arguments),this.name="WalletConnectionError"}}class lu extends iu{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class uu extends iu{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class hu extends iu{constructor(){super(...arguments),this.name="WalletAccountError"}}class du extends iu{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class fu extends iu{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class pu extends iu{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class mu extends iu{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class gu extends iu{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class yu extends iu{constructor(){super(...arguments),this.name="WalletSignInError"}}var wu,bu;(bu=wu||(wu={})).Installed="Installed",bu.NotDetected="NotDetected",bu.Loadable="Loadable",bu.Unsupported="Unsupported";class vu extends Os{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(t,e,n={}){const r=this.publicKey;if(!r)throw new fu;return t.feePayer=t.feePayer||r,t.recentBlockhash=t.recentBlockhash||(await e.getLatestBlockhash({commitment:n.preflightCommitment,minContextSlot:n.minContextSlot})).blockhash,t}}function xu(t){if("undefined"==typeof window||"undefined"==typeof document)return;const e=[];function n(){if(t())for(const t of e)t()}const r=setInterval(n,1e3);e.push(()=>clearInterval(r)),"loading"===document.readyState&&(document.addEventListener("DOMContentLoaded",n,{once:!0}),e.push(()=>document.removeEventListener("DOMContentLoaded",n))),"complete"!==document.readyState&&(window.addEventListener("load",n,{once:!0}),e.push(()=>window.removeEventListener("load",n))),n()}function Eu(){if(!navigator)return!1;const t=navigator.userAgent.toLowerCase(),e=t.includes("iphone")||t.includes("ipad"),n=t.includes("safari");return e&&n}function Mu(t){return"version"in t}class Su extends vu{async sendTransaction(t,e,n={}){let r=!0;try{if(Mu(t)){if(!this.supportedTransactionVersions)throw new pu("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(t.version))throw new pu(`Sending transaction version ${t.version} isn't supported by this wallet`);try{const r=(t=await this.signTransaction(t)).serialize();return await e.sendRawTransaction(r,n)}catch(i){if(i instanceof mu)throw r=!1,i;throw new pu(i?.message,i)}}else try{const{signers:r,...i}=n;t=await this.prepareTransaction(t,e,i),r?.length&&t.partialSign(...r);const o=(t=await this.signTransaction(t)).serialize();return await e.sendRawTransaction(o,i)}catch(i){if(i instanceof mu)throw r=!1,i;throw new pu(i?.message,i)}}catch(i){throw r&&this.emit("error",i),i}}async signAllTransactions(t){for(const n of t)if(Mu(n)){if(!this.supportedTransactionVersions)throw new mu("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(n.version))throw new mu(`Signing transaction version ${n.version} isn't supported by this wallet`)}const e=[];for(const n of t)e.push(await this.signTransaction(n));return e}}class Au extends Su{}class ku extends Au{}const Iu="solana:signAndSendTransaction",Nu="solana:signIn",Lu="solana:signMessage",Bu="solana:signTransaction",ju="standard:connect",Cu="standard:disconnect",_u="standard:events";var Tu,Ru;(Ru=Tu||(Tu={})).Mainnet="mainnet-beta",Ru.Testnet="testnet",Ru.Devnet="devnet";class Ou extends iu{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}const Du=[],zu={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){Uu("call","select")},connect:()=>Promise.reject(Uu("call","connect")),disconnect:()=>Promise.reject(Uu("call","disconnect")),sendTransaction:()=>Promise.reject(Uu("call","sendTransaction")),signTransaction:()=>Promise.reject(Uu("call","signTransaction")),signAllTransactions:()=>Promise.reject(Uu("call","signAllTransactions")),signMessage:()=>Promise.reject(Uu("call","signMessage")),signIn:()=>Promise.reject(Uu("call","signIn"))};function Uu(t,e){return new Error(`You have tried to ${t} "${e}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.`)}Object.defineProperty(zu,"wallets",{get:()=>(Uu("read","wallets"),Du)}),Object.defineProperty(zu,"wallet",{get:()=>(Uu("read","wallet"),null)}),Object.defineProperty(zu,"publicKey",{get:()=>(Uu("read","publicKey"),null)});const Pu=n.createContext(zu);function Fu(){return n.useContext(Pu)}var Wu={},qu={};let Ku;const Hu=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];qu.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return 4*t+17},qu.getSymbolTotalCodewords=function(t){return Hu[t]},qu.getBCHDigit=function(t){let e=0;for(;0!==t;)e++,t>>>=1;return e},qu.setToSJISFunction=function(t){if("function"!=typeof t)throw new Error('"toSJISFunc" is not a valid function.');Ku=t},qu.isKanjiModeEnabled=function(){return void 0!==Ku},qu.toSJIS=function(t){return Ku(t)};var $u,Vu={};function Zu(){this.buffer=[],this.length=0}($u=Vu).L={bit:1},$u.M={bit:0},$u.Q={bit:3},$u.H={bit:2},$u.isValid=function(t){return t&&void 0!==t.bit&&t.bit>=0&&t.bit<4},$u.from=function(t,e){if($u.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return $u.L;case"m":case"medium":return $u.M;case"q":case"quartile":return $u.Q;case"h":case"high":return $u.H;default:throw new Error("Unknown EC Level: "+t)}}(t)}catch(sy){return e}},Zu.prototype={get:function(t){const e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(let n=0;n<e;n++)this.putBit(1==(t>>>e-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Yu=Zu;function Gu(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}Gu.prototype.set=function(t,e,n,r){const i=t*this.size+e;this.data[i]=n,r&&(this.reservedBit[i]=!0)},Gu.prototype.get=function(t,e){return this.data[t*this.size+e]},Gu.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n},Gu.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var Qu=Gu,Ju={};!function(t){const e=qu.getSymbolSize;t.getRowColCoords=function(t){if(1===t)return[];const n=Math.floor(t/7)+2,r=e(t),i=145===r?26:2*Math.ceil((r-13)/(2*n-2)),o=[r-7];for(let e=1;e<n-1;e++)o[e]=o[e-1]-i;return o.push(6),o.reverse()},t.getPositions=function(e){const n=[],r=t.getRowColCoords(e),i=r.length;for(let t=0;t<i;t++)for(let e=0;e<i;e++)0===t&&0===e||0===t&&e===i-1||t===i-1&&0===e||n.push([r[t],r[e]]);return n}}(Ju);var Xu={};const th=qu.getSymbolSize;Xu.getPositions=function(t){const e=th(t);return[[0,0],[e-7,0],[0,e-7]]};var eh={};!function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e=3,n=3,r=40,i=10;function o(e,n,r){switch(e){case t.Patterns.PATTERN000:return(n+r)%2==0;case t.Patterns.PATTERN001:return n%2==0;case t.Patterns.PATTERN010:return r%3==0;case t.Patterns.PATTERN011:return(n+r)%3==0;case t.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(r/3))%2==0;case t.Patterns.PATTERN101:return n*r%2+n*r%3==0;case t.Patterns.PATTERN110:return(n*r%2+n*r%3)%2==0;case t.Patterns.PATTERN111:return(n*r%3+(n+r)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}}t.isValid=function(t){return null!=t&&""!==t&&!isNaN(t)&&t>=0&&t<=7},t.from=function(e){return t.isValid(e)?parseInt(e,10):void 0},t.getPenaltyN1=function(t){const n=t.size;let r=0,i=0,o=0,s=null,a=null;for(let c=0;c<n;c++){i=o=0,s=a=null;for(let l=0;l<n;l++){let n=t.get(c,l);n===s?i++:(i>=5&&(r+=e+(i-5)),s=n,i=1),n=t.get(l,c),n===a?o++:(o>=5&&(r+=e+(o-5)),a=n,o=1)}i>=5&&(r+=e+(i-5)),o>=5&&(r+=e+(o-5))}return r},t.getPenaltyN2=function(t){const e=t.size;let r=0;for(let n=0;n<e-1;n++)for(let i=0;i<e-1;i++){const e=t.get(n,i)+t.get(n,i+1)+t.get(n+1,i)+t.get(n+1,i+1);4!==e&&0!==e||r++}return r*n},t.getPenaltyN3=function(t){const e=t.size;let n=0,i=0,o=0;for(let r=0;r<e;r++){i=o=0;for(let s=0;s<e;s++)i=i<<1&2047|t.get(r,s),s>=10&&(1488===i||93===i)&&n++,o=o<<1&2047|t.get(s,r),s>=10&&(1488===o||93===o)&&n++}return n*r},t.getPenaltyN4=function(t){let e=0;const n=t.data.length;for(let r=0;r<n;r++)e+=t.data[r];return Math.abs(Math.ceil(100*e/n/5)-10)*i},t.applyMask=function(t,e){const n=e.size;for(let r=0;r<n;r++)for(let i=0;i<n;i++)e.isReserved(i,r)||e.xor(i,r,o(t,i,r))},t.getBestMask=function(e,n){const r=Object.keys(t.Patterns).length;let i=0,o=1/0;for(let s=0;s<r;s++){n(s),t.applyMask(s,e);const r=t.getPenaltyN1(e)+t.getPenaltyN2(e)+t.getPenaltyN3(e)+t.getPenaltyN4(e);t.applyMask(s,e),r<o&&(o=r,i=s)}return i}}(eh);var nh={};const rh=Vu,ih=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],oh=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];nh.getBlocksCount=function(t,e){switch(e){case rh.L:return ih[4*(t-1)+0];case rh.M:return ih[4*(t-1)+1];case rh.Q:return ih[4*(t-1)+2];case rh.H:return ih[4*(t-1)+3];default:return}},nh.getTotalCodewordsCount=function(t,e){switch(e){case rh.L:return oh[4*(t-1)+0];case rh.M:return oh[4*(t-1)+1];case rh.Q:return oh[4*(t-1)+2];case rh.H:return oh[4*(t-1)+3];default:return}};var sh={},ah={};const ch=new Uint8Array(512),lh=new Uint8Array(256);!function(){let t=1;for(let e=0;e<255;e++)ch[e]=t,lh[t]=e,t<<=1,256&t&&(t^=285);for(let e=255;e<512;e++)ch[e]=ch[e-255]}(),ah.log=function(t){if(t<1)throw new Error("log("+t+")");return lh[t]},ah.exp=function(t){return ch[t]},ah.mul=function(t,e){return 0===t||0===e?0:ch[lh[t]+lh[e]]},function(t){const e=ah;t.mul=function(t,n){const r=new Uint8Array(t.length+n.length-1);for(let i=0;i<t.length;i++)for(let o=0;o<n.length;o++)r[i+o]^=e.mul(t[i],n[o]);return r},t.mod=function(t,n){let r=new Uint8Array(t);for(;r.length-n.length>=0;){const t=r[0];for(let o=0;o<n.length;o++)r[o]^=e.mul(n[o],t);let i=0;for(;i<r.length&&0===r[i];)i++;r=r.slice(i)}return r},t.generateECPolynomial=function(n){let r=new Uint8Array([1]);for(let i=0;i<n;i++)r=t.mul(r,new Uint8Array([1,e.exp(i)]));return r}}(sh);const uh=sh;function hh(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}hh.prototype.initialize=function(t){this.degree=t,this.genPoly=uh.generateECPolynomial(this.degree)},hh.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const e=new Uint8Array(t.length+this.degree);e.set(t);const n=uh.mod(e,this.genPoly),r=this.degree-n.length;if(r>0){const t=new Uint8Array(this.degree);return t.set(n,r),t}return n};var dh=hh,fh={},ph={},mh={isValid:function(t){return!isNaN(t)&&t>=1&&t<=40}},gh={};const yh="[0-9]+";let wh="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";wh=wh.replace(/u/g,"\\u");const bh="(?:(?![A-Z0-9 $%*+\\-./:]|"+wh+")(?:.|[\r\n]))+";gh.KANJI=new RegExp(wh,"g"),gh.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),gh.BYTE=new RegExp(bh,"g"),gh.NUMERIC=new RegExp(yh,"g"),gh.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const vh=new RegExp("^"+wh+"$"),xh=new RegExp("^"+yh+"$"),Eh=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");gh.testKanji=function(t){return vh.test(t)},gh.testNumeric=function(t){return xh.test(t)},gh.testAlphanumeric=function(t){return Eh.test(t)},function(t){const e=mh,n=gh;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(t,n){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(!e.isValid(n))throw new Error("Invalid version: "+n);return n>=1&&n<10?t.ccBits[0]:n<27?t.ccBits[1]:t.ccBits[2]},t.getBestModeForData=function(e){return n.testNumeric(e)?t.NUMERIC:n.testAlphanumeric(e)?t.ALPHANUMERIC:n.testKanji(e)?t.KANJI:t.BYTE},t.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")},t.isValid=function(t){return t&&t.bit&&t.ccBits},t.from=function(e,n){if(t.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+e)}}(e)}catch(sy){return n}}}(ph),function(t){const e=qu,n=nh,r=Vu,i=ph,o=mh,s=e.getBCHDigit(7973);function a(t,e){return i.getCharCountIndicator(t,e)+4}function c(t,e){let n=0;return t.forEach(function(t){const r=a(t.mode,e);n+=r+t.getBitsLength()}),n}t.from=function(t,e){return o.isValid(t)?parseInt(t,10):e},t.getCapacity=function(t,r,s){if(!o.isValid(t))throw new Error("Invalid QR Code version");void 0===s&&(s=i.BYTE);const c=8*(e.getSymbolTotalCodewords(t)-n.getTotalCodewordsCount(t,r));if(s===i.MIXED)return c;const l=c-a(s,t);switch(s){case i.NUMERIC:return Math.floor(l/10*3);case i.ALPHANUMERIC:return Math.floor(l/11*2);case i.KANJI:return Math.floor(l/13);case i.BYTE:default:return Math.floor(l/8)}},t.getBestVersionForData=function(e,n){let o;const s=r.from(n,r.M);if(Array.isArray(e)){if(e.length>1)return function(e,n){for(let r=1;r<=40;r++)if(c(e,r)<=t.getCapacity(r,n,i.MIXED))return r}(e,s);if(0===e.length)return 1;o=e[0]}else o=e;return function(e,n,r){for(let i=1;i<=40;i++)if(n<=t.getCapacity(i,r,e))return i}(o.mode,o.getLength(),s)},t.getEncodedBits=function(t){if(!o.isValid(t)||t<7)throw new Error("Invalid QR Code version");let n=t<<12;for(;e.getBCHDigit(n)-s>=0;)n^=7973<<e.getBCHDigit(n)-s;return t<<12|n}}(fh);var Mh={};const Sh=qu,Ah=Sh.getBCHDigit(1335);Mh.getEncodedBits=function(t,e){const n=t.bit<<3|e;let r=n<<10;for(;Sh.getBCHDigit(r)-Ah>=0;)r^=1335<<Sh.getBCHDigit(r)-Ah;return 21522^(n<<10|r)};var kh={};const Ih=ph;function Nh(t){this.mode=Ih.NUMERIC,this.data=t.toString()}Nh.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)},Nh.prototype.getLength=function(){return this.data.length},Nh.prototype.getBitsLength=function(){return Nh.getBitsLength(this.data.length)},Nh.prototype.write=function(t){let e,n,r;for(e=0;e+3<=this.data.length;e+=3)n=this.data.substr(e,3),r=parseInt(n,10),t.put(r,10);const i=this.data.length-e;i>0&&(n=this.data.substr(e),r=parseInt(n,10),t.put(r,3*i+1))};var Lh=Nh;const Bh=ph,jh=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Ch(t){this.mode=Bh.ALPHANUMERIC,this.data=t}Ch.getBitsLength=function(t){return 11*Math.floor(t/2)+t%2*6},Ch.prototype.getLength=function(){return this.data.length},Ch.prototype.getBitsLength=function(){return Ch.getBitsLength(this.data.length)},Ch.prototype.write=function(t){let e;for(e=0;e+2<=this.data.length;e+=2){let n=45*jh.indexOf(this.data[e]);n+=jh.indexOf(this.data[e+1]),t.put(n,11)}this.data.length%2&&t.put(jh.indexOf(this.data[e]),6)};var _h=Ch;const Th=ph;function Rh(t){this.mode=Th.BYTE,this.data="string"==typeof t?(new TextEncoder).encode(t):new Uint8Array(t)}Rh.getBitsLength=function(t){return 8*t},Rh.prototype.getLength=function(){return this.data.length},Rh.prototype.getBitsLength=function(){return Rh.getBitsLength(this.data.length)},Rh.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};var Oh=Rh;const Dh=ph,zh=qu;function Uh(t){this.mode=Dh.KANJI,this.data=t}Uh.getBitsLength=function(t){return 13*t},Uh.prototype.getLength=function(){return this.data.length},Uh.prototype.getBitsLength=function(){return Uh.getBitsLength(this.data.length)},Uh.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=zh.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else{if(!(n>=57408&&n<=60351))throw new Error("Invalid SJIS character: "+this.data[e]+"\nMake sure your charset is UTF-8");n-=49472}n=192*(n>>>8&255)+(255&n),t.put(n,13)}};var Ph,Fh=Uh,Wh={exports:{}},qh=Wh.exports=Ph={single_source_shortest_paths:function(t,e,n){var r={},i={};i[e]=0;var o,s,a,c,l,u,h,d=Ph.PriorityQueue.make();for(d.push(e,0);!d.empty();)for(a in s=(o=d.pop()).value,c=o.cost,l=t[s]||{})l.hasOwnProperty(a)&&(u=c+l[a],h=i[a],(void 0===i[a]||h>u)&&(i[a]=u,d.push(a,u),r[a]=s));if(void 0!==n&&void 0===i[n]){var f=["Could not find a path from ",e," to ",n,"."].join("");throw new Error(f)}return r},extract_shortest_path_from_predecessor_list:function(t,e){for(var n=[],r=e;r;)n.push(r),t[r],r=t[r];return n.reverse(),n},find_path:function(t,e,n){var r=Ph.single_source_shortest_paths(t,e,n);return Ph.extract_shortest_path_from_predecessor_list(r,n)},PriorityQueue:{make:function(t){var e,n=Ph.PriorityQueue,r={};for(e in t=t||{},n)n.hasOwnProperty(e)&&(r[e]=n[e]);return r.queue=[],r.sorter=t.sorter||n.default_sorter,r},default_sorter:function(t,e){return t.cost-e.cost},push:function(t,e){var n={value:t,cost:e};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};!function(t){const e=ph,n=Lh,r=_h,i=Oh,o=Fh,s=gh,a=qu,c=qh;function l(t){return unescape(encodeURIComponent(t)).length}function u(t,e,n){const r=[];let i;for(;null!==(i=t.exec(n));)r.push({data:i[0],index:i.index,mode:e,length:i[0].length});return r}function h(t){const n=u(s.NUMERIC,e.NUMERIC,t),r=u(s.ALPHANUMERIC,e.ALPHANUMERIC,t);let i,o;a.isKanjiModeEnabled()?(i=u(s.BYTE,e.BYTE,t),o=u(s.KANJI,e.KANJI,t)):(i=u(s.BYTE_KANJI,e.BYTE,t),o=[]);return n.concat(r,i,o).sort(function(t,e){return t.index-e.index}).map(function(t){return{data:t.data,mode:t.mode,length:t.length}})}function d(t,s){switch(s){case e.NUMERIC:return n.getBitsLength(t);case e.ALPHANUMERIC:return r.getBitsLength(t);case e.KANJI:return o.getBitsLength(t);case e.BYTE:return i.getBitsLength(t)}}function f(t,s){let c;const l=e.getBestModeForData(t);if(c=e.from(s,l),c!==e.BYTE&&c.bit<l.bit)throw new Error('"'+t+'" cannot be encoded with mode '+e.toString(c)+".\n Suggested mode is: "+e.toString(l));switch(c!==e.KANJI||a.isKanjiModeEnabled()||(c=e.BYTE),c){case e.NUMERIC:return new n(t);case e.ALPHANUMERIC:return new r(t);case e.KANJI:return new o(t);case e.BYTE:return new i(t)}}t.fromArray=function(t){return t.reduce(function(t,e){return"string"==typeof e?t.push(f(e,null)):e.data&&t.push(f(e.data,e.mode)),t},[])},t.fromString=function(n,r){const i=function(t){const n=[];for(let r=0;r<t.length;r++){const i=t[r];switch(i.mode){case e.NUMERIC:n.push([i,{data:i.data,mode:e.ALPHANUMERIC,length:i.length},{data:i.data,mode:e.BYTE,length:i.length}]);break;case e.ALPHANUMERIC:n.push([i,{data:i.data,mode:e.BYTE,length:i.length}]);break;case e.KANJI:n.push([i,{data:i.data,mode:e.BYTE,length:l(i.data)}]);break;case e.BYTE:n.push([{data:i.data,mode:e.BYTE,length:l(i.data)}])}}return n}(h(n,a.isKanjiModeEnabled())),o=function(t,n){const r={},i={start:{}};let o=["start"];for(let s=0;s<t.length;s++){const a=t[s],c=[];for(let t=0;t<a.length;t++){const l=a[t],u=""+s+t;c.push(u),r[u]={node:l,lastCount:0},i[u]={};for(let t=0;t<o.length;t++){const s=o[t];r[s]&&r[s].node.mode===l.mode?(i[s][u]=d(r[s].lastCount+l.length,l.mode)-d(r[s].lastCount,l.mode),r[s].lastCount+=l.length):(r[s]&&(r[s].lastCount=l.length),i[s][u]=d(l.length,l.mode)+4+e.getCharCountIndicator(l.mode,n))}}o=c}for(let e=0;e<o.length;e++)i[o[e]].end=0;return{map:i,table:r}}(i,r),s=c.find_path(o.map,"start","end"),u=[];for(let t=1;t<s.length-1;t++)u.push(o.table[s[t]].node);return t.fromArray(function(t){return t.reduce(function(t,e){const n=t.length-1>=0?t[t.length-1]:null;return n&&n.mode===e.mode?(t[t.length-1].data+=e.data,t):(t.push(e),t)},[])}(u))},t.rawSplit=function(e){return t.fromArray(h(e,a.isKanjiModeEnabled()))}}(kh);const Kh=qu,Hh=Vu,$h=Yu,Vh=Qu,Zh=Ju,Yh=Xu,Gh=eh,Qh=nh,Jh=dh,Xh=fh,td=Mh,ed=ph,nd=kh;function rd(t,e,n){const r=t.size,i=td.getEncodedBits(e,n);let o,s;for(o=0;o<15;o++)s=1==(i>>o&1),o<6?t.set(o,8,s,!0):o<8?t.set(o+1,8,s,!0):t.set(r-15+o,8,s,!0),o<8?t.set(8,r-o-1,s,!0):o<9?t.set(8,15-o-1+1,s,!0):t.set(8,15-o-1,s,!0);t.set(r-8,8,1,!0)}function id(t,e,n){const r=new $h;n.forEach(function(e){r.put(e.mode.bit,4),r.put(e.getLength(),ed.getCharCountIndicator(e.mode,t)),e.write(r)});const i=8*(Kh.getSymbolTotalCodewords(t)-Qh.getTotalCodewordsCount(t,e));for(r.getLengthInBits()+4<=i&&r.put(0,4);r.getLengthInBits()%8!=0;)r.putBit(0);const o=(i-r.getLengthInBits())/8;for(let s=0;s<o;s++)r.put(s%2?17:236,8);return function(t,e,n){const r=Kh.getSymbolTotalCodewords(e),i=Qh.getTotalCodewordsCount(e,n),o=r-i,s=Qh.getBlocksCount(e,n),a=r%s,c=s-a,l=Math.floor(r/s),u=Math.floor(o/s),h=u+1,d=l-u,f=new Jh(d);let p=0;const m=new Array(s),g=new Array(s);let y=0;const w=new Uint8Array(t.buffer);for(let M=0;M<s;M++){const t=M<c?u:h;m[M]=w.slice(p,p+t),g[M]=f.encode(m[M]),p+=t,y=Math.max(y,t)}const b=new Uint8Array(r);let v,x,E=0;for(v=0;v<y;v++)for(x=0;x<s;x++)v<m[x].length&&(b[E++]=m[x][v]);for(v=0;v<d;v++)for(x=0;x<s;x++)b[E++]=g[x][v];return b}(r,t,e)}function od(t,e,n,r){let i;if(Array.isArray(t))i=nd.fromArray(t);else{if("string"!=typeof t)throw new Error("Invalid data");{let r=e;if(!r){const e=nd.rawSplit(t);r=Xh.getBestVersionForData(e,n)}i=nd.fromString(t,r||40)}}const o=Xh.getBestVersionForData(i,n);if(!o)throw new Error("The amount of data is too big to be stored in a QR Code");if(e){if(e<o)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+o+".\n")}else e=o;const s=id(e,n,i),a=Kh.getSymbolSize(e),c=new Vh(a);return function(t,e){const n=t.size,r=Yh.getPositions(e);for(let i=0;i<r.length;i++){const e=r[i][0],o=r[i][1];for(let r=-1;r<=7;r++)if(!(e+r<=-1||n<=e+r))for(let i=-1;i<=7;i++)o+i<=-1||n<=o+i||(r>=0&&r<=6&&(0===i||6===i)||i>=0&&i<=6&&(0===r||6===r)||r>=2&&r<=4&&i>=2&&i<=4?t.set(e+r,o+i,!0,!0):t.set(e+r,o+i,!1,!0))}}(c,e),function(t){const e=t.size;for(let n=8;n<e-8;n++){const e=n%2==0;t.set(n,6,e,!0),t.set(6,n,e,!0)}}(c),function(t,e){const n=Zh.getPositions(e);for(let r=0;r<n.length;r++){const e=n[r][0],i=n[r][1];for(let n=-2;n<=2;n++)for(let r=-2;r<=2;r++)-2===n||2===n||-2===r||2===r||0===n&&0===r?t.set(e+n,i+r,!0,!0):t.set(e+n,i+r,!1,!0)}}(c,e),rd(c,n,0),e>=7&&function(t,e){const n=t.size,r=Xh.getEncodedBits(e);let i,o,s;for(let a=0;a<18;a++)i=Math.floor(a/3),o=a%3+n-8-3,s=1==(r>>a&1),t.set(i,o,s,!0),t.set(o,i,s,!0)}(c,e),function(t,e){const n=t.size;let r=-1,i=n-1,o=7,s=0;for(let a=n-1;a>0;a-=2)for(6===a&&a--;;){for(let n=0;n<2;n++)if(!t.isReserved(i,a-n)){let r=!1;s<e.length&&(r=1==(e[s]>>>o&1)),t.set(i,a-n,r),o--,-1===o&&(s++,o=7)}if(i+=r,i<0||n<=i){i-=r,r=-r;break}}}(c,s),isNaN(r)&&(r=Gh.getBestMask(c,rd.bind(null,c,n))),Gh.applyMask(r,c),rd(c,n,r),{modules:c,version:e,errorCorrectionLevel:n,maskPattern:r,segments:i}}Wu.create=function(t,e){if(void 0===t||""===t)throw new Error("No input text");let n,r,i=Hh.M;return void 0!==e&&(i=Hh.from(e.errorCorrectionLevel,Hh.M),n=Xh.from(e.version),r=Gh.from(e.maskPattern),e.toSJISFunc&&Kh.setToSJISFunction(e.toSJISFunc)),od(t,n,i,r)};var sd={},ad={};!function(t){function e(t){if("number"==typeof t&&(t=t.toString()),"string"!=typeof t)throw new Error("Color should be defined as hex string");let e=t.slice().replace("#","").split("");if(e.length<3||5===e.length||e.length>8)throw new Error("Invalid hex color: "+t);3!==e.length&&4!==e.length||(e=Array.prototype.concat.apply([],e.map(function(t){return[t,t]}))),6===e.length&&e.push("F","F");const n=parseInt(e.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n,hex:"#"+e.slice(0,6).join("")}}t.getOptions=function(t){t||(t={}),t.color||(t.color={});const n=void 0===t.margin||null===t.margin||t.margin<0?4:t.margin,r=t.width&&t.width>=21?t.width:void 0,i=t.scale||4;return{width:r,scale:r?4:i,margin:n,color:{dark:e(t.color.dark||"#000000ff"),light:e(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},t.getScale=function(t,e){return e.width&&e.width>=t+2*e.margin?e.width/(t+2*e.margin):e.scale},t.getImageWidth=function(e,n){const r=t.getScale(e,n);return Math.floor((e+2*n.margin)*r)},t.qrToImageData=function(e,n,r){const i=n.modules.size,o=n.modules.data,s=t.getScale(i,r),a=Math.floor((i+2*r.margin)*s),c=r.margin*s,l=[r.color.light,r.color.dark];for(let t=0;t<a;t++)for(let n=0;n<a;n++){let u=4*(t*a+n),h=r.color.light;if(t>=c&&n>=c&&t<a-c&&n<a-c){h=l[o[Math.floor((t-c)/s)*i+Math.floor((n-c)/s)]?1:0]}e[u++]=h.r,e[u++]=h.g,e[u++]=h.b,e[u]=h.a}}}(ad),function(t){const e=ad;t.render=function(t,n,r){let i=r,o=n;void 0!==i||n&&n.getContext||(i=n,n=void 0),n||(o=function(){try{return document.createElement("canvas")}catch(sy){throw new Error("You need to specify a canvas element")}}()),i=e.getOptions(i);const s=e.getImageWidth(t.modules.size,i),a=o.getContext("2d"),c=a.createImageData(s,s);return e.qrToImageData(c.data,t,i),function(t,e,n){t.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=n,e.width=n,e.style.height=n+"px",e.style.width=n+"px"}(a,o,s),a.putImageData(c,0,0),o},t.renderToDataURL=function(e,n,r){let i=r;void 0!==i||n&&n.getContext||(i=n,n=void 0),i||(i={});const o=t.render(e,n,i),s=i.type||"image/png",a=i.rendererOpts||{};return o.toDataURL(s,a.quality)}}(sd);var cd={};const ld=ad;function ud(t,e){const n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function hd(t,e,n){let r=t+e;return void 0!==n&&(r+=" "+n),r}cd.render=function(t,e,n){const r=ld.getOptions(e),i=t.modules.size,o=t.modules.data,s=i+2*r.margin,a=r.color.light.a?"<path "+ud(r.color.light,"fill")+' d="M0 0h'+s+"v"+s+'H0z"/>':"",c="<path "+ud(r.color.dark,"stroke")+' d="'+function(t,e,n){let r="",i=0,o=!1,s=0;for(let a=0;a<t.length;a++){const c=Math.floor(a%e),l=Math.floor(a/e);c||o||(o=!0),t[a]?(s++,a>0&&c>0&&t[a-1]||(r+=o?hd("M",c+n,.5+l+n):hd("m",i,0),i=0,o=!1),c+1<e&&t[a+1]||(r+=hd("h",s),s=0)):i++}return r}(o,i,r.margin)+'"/>',l='viewBox="0 0 '+s+" "+s+'"',u='<svg xmlns="http://www.w3.org/2000/svg" '+(r.width?'width="'+r.width+'" height="'+r.width+'" ':"")+l+' shape-rendering="crispEdges">'+a+c+"</svg>\n";return"function"==typeof n&&n(null,u),u};const dd=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then},fd=Wu,pd=sd,md=cd;function gd(t,e,n,r,i){const o=[].slice.call(arguments,1),s=o.length,a="function"==typeof o[s-1];if(!a&&!dd())throw new Error("Callback required as last argument");if(!a){if(s<1)throw new Error("Too few arguments provided");return 1===s?(n=e,e=r=void 0):2!==s||e.getContext||(r=n,n=e,e=void 0),new Promise(function(i,o){try{const o=fd.create(n,r);i(t(o,e,r))}catch(sy){o(sy)}})}if(s<2)throw new Error("Too few arguments provided");2===s?(i=n,n=e,e=r=void 0):3===s&&(e.getContext&&void 0===i?(i=r,r=void 0):(i=r,r=n,n=e,e=void 0));try{const o=fd.create(n,r);i(null,t(o,e,r))}catch(sy){i(sy)}}function yd(t){switch(t){case"processed":case"confirmed":case"finalized":case void 0:return t;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}fd.create,gd.bind(null,pd.render),gd.bind(null,pd.renderToDataURL),gd.bind(null,function(t,e,n){return md.render(t,n)});const wd="solana:mainnet",bd="solana:devnet",vd="solana:testnet";const xd="ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",Ed="ERROR_FORBIDDEN_WALLET_BASE_URL",Md="ERROR_SECURE_CONTEXT_REQUIRED",Sd="ERROR_SESSION_CLOSED",Ad="ERROR_SESSION_TIMEOUT",kd="ERROR_WALLET_NOT_FOUND",Id="ERROR_INVALID_PROTOCOL_VERSION";class Nd extends Error{constructor(...t){const[e,n,r]=t;super(n),this.code=e,this.data=r,this.name="SolanaMobileWalletAdapterError"}}class Ld extends Error{constructor(...t){const[e,n,r,i]=t;super(r),this.code=n,this.data=i,this.jsonRpcMessageId=e,this.name="SolanaMobileWalletAdapterProtocolError"}}function Bd(t,e,n,r){return new(n||(n=Promise))(function(e,i){function o(t){try{a(r.next(t))}catch(sy){i(sy)}}function s(t){try{a(r.throw(t))}catch(sy){i(sy)}}function a(t){var r;t.done?e(t.value):(r=t.value,r instanceof n?r:new n(function(t){t(r)})).then(o,s)}a((r=r.apply(t,[])).next())})}function jd(t,e){return Bd(this,0,void 0,function*(){const n=yield crypto.subtle.exportKey("raw",t),r=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},e,n),i=new Uint8Array(n.byteLength+r.byteLength);return i.set(new Uint8Array(n),0),i.set(new Uint8Array(r),n.byteLength),i})}function Cd(t){return e=function(t){return function(t){let e=`${t.domain} wants you to sign in with your Solana account:\n`;e+=`${t.address}`,t.statement&&(e+=`\n\n${t.statement}`);const n=[];if(t.uri&&n.push(`URI: ${t.uri}`),t.version&&n.push(`Version: ${t.version}`),t.chainId&&n.push(`Chain ID: ${t.chainId}`),t.nonce&&n.push(`Nonce: ${t.nonce}`),t.issuedAt&&n.push(`Issued At: ${t.issuedAt}`),t.expirationTime&&n.push(`Expiration Time: ${t.expirationTime}`),t.notBefore&&n.push(`Not Before: ${t.notBefore}`),t.requestId&&n.push(`Request ID: ${t.requestId}`),t.resources){n.push("Resources:");for(const e of t.resources)n.push(`- ${e}`)}return n.length&&(e+=`\n\n${n.join("\n")}`),e}(t)}(t),window.btoa(e);var e}const _d="solana:signTransactions",Td="solana:cloneAuthorization";function Rd(t,e){return new Proxy({},{get:(n,r)=>"then"===r?null:(null==n[r]&&(n[r]=function(n){return Bd(this,0,void 0,function*(){const{method:i,params:o}=function(t,e,n){let r=e,i=t.toString().replace(/[A-Z]/g,t=>`_${t.toLowerCase()}`).toLowerCase();switch(t){case"authorize":{let{chain:t}=r;if("legacy"===n){switch(t){case"solana:testnet":t="testnet";break;case"solana:devnet":t="devnet";break;case"solana:mainnet":t="mainnet-beta";break;default:t=r.cluster}r.cluster=t}else{switch(t){case"testnet":case"devnet":t=`solana:${t}`;break;case"mainnet-beta":t="solana:mainnet"}r.chain=t}}case"reauthorize":{const{auth_token:t,identity:e}=r;if(t)if("legacy"===n)i="reauthorize",r={auth_token:t,identity:e};else i="authorize";break}}return{method:i,params:r}}(r,n,t),s=yield e(i,o);return"authorize"===i&&o.sign_in_payload&&!s.sign_in_result&&(s.sign_in_result=yield function(t,e,n){var r;return Bd(this,0,void 0,function*(){const i=null!==(r=t.domain)&&void 0!==r?r:window.location.host,o=e.accounts[0].address,s=Cd(Object.assign(Object.assign({},t),{domain:i,address:o}));return{address:o,signed_message:s,signature:(yield n("sign_messages",{addresses:[o],payloads:[s]})).signed_payloads[0].slice(s.length)}})}(o.sign_in_payload,s,e)),function(t,e,n){if("getCapabilities"===t){const t=e;switch(n){case"legacy":{const e=[_d];return!0===t.supports_clone_authorization&&e.push(Td),Object.assign(Object.assign({},t),{features:e})}case"v1":return Object.assign(Object.assign({},t),{supports_sign_and_send_transactions:!0,supports_clone_authorization:t.features.includes(Td)})}}return e}(r,s,t)})}),n[r]),defineProperty:()=>!1,deleteProperty:()=>!1})}function Od(t,e,n){return Bd(this,0,void 0,function*(){const r=function(t){if(t>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const e=new ArrayBuffer(4);return new DataView(e).setUint32(0,t,!1),new Uint8Array(e)}(e),i=new Uint8Array(12);crypto.getRandomValues(i);const o=yield crypto.subtle.encrypt(zd(r,i),n,(new TextEncoder).encode(t)),s=new Uint8Array(r.byteLength+i.byteLength+o.byteLength);return s.set(new Uint8Array(r),0),s.set(new Uint8Array(i),r.byteLength),s.set(new Uint8Array(o),r.byteLength+i.byteLength),s})}function Dd(t,e){return Bd(this,0,void 0,function*(){const n=t.slice(0,4),r=t.slice(4,16),i=t.slice(16),o=yield crypto.subtle.decrypt(zd(n,r),e,i);return function(){void 0===Ud&&(Ud=new TextDecoder("utf-8"));return Ud}().decode(o)})}function zd(t,e){return{additionalData:t,iv:e,name:"AES-GCM",tagLength:128}}let Ud;function Pd(){return Bd(this,0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}function Fd(t){if(t<49152||t>65535)throw new Nd(xd,`Association port number must be between 49152 and 65535. ${t} given.`,{port:t});return t}function Wd(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function qd(t,e,n,r=["v1"]){return Bd(this,0,void 0,function*(){const i=Fd(e),o=function(t){let e="";const n=new Uint8Array(t),r=n.byteLength;for(let i=0;i<r;i++)e+=String.fromCharCode(n[i]);return window.btoa(e)}(yield crypto.subtle.exportKey("raw",t)),s=function(t,e){let n=null;if(e){try{n=new URL(e)}catch(i){}if("https:"!==(null==n?void 0:n.protocol))throw new Nd(Ed,"Base URLs supplied by wallets must be valid `https` URLs")}n||(n=new URL("solana-wallet:/"));const r=t.startsWith("/")?t:[...Wd(n.pathname),...Wd(t)].join("/");return new URL(r,n)}("v1/associate/local",n);return s.searchParams.set("association",o.replace(/[/+=]/g,t=>({"/":"_","+":"-","=":"."}[t]))),s.searchParams.set("port",`${i}`),r.forEach(t=>{s.searchParams.set("v",t)}),s})}const Kd=0,Hd=1;let $d=null;function Vd(t){return Bd(this,0,void 0,function*(){if("https:"===t.protocol)window.location.assign(t);else try{const n=-1!==navigator.userAgent.indexOf("Firefox/")?Kd:Hd;switch(n){case Kd:e=t,null==$d&&($d=document.createElement("iframe"),$d.style.display="none",document.body.appendChild($d)),$d.contentWindow.location.href=e.toString();break;case Hd:{const e=new Promise((t,e)=>{function n(){clearTimeout(i),window.removeEventListener("blur",r)}function r(){n(),t()}window.addEventListener("blur",r);const i=setTimeout(()=>{n(),e()},3e3)});window.location.assign(t),yield e;break}}}catch(sy){throw new Nd(kd,"Found no installed wallet that supports the mobile wallet protocol.")}var e})}function Zd(t,e){return Bd(this,0,void 0,function*(){const n=Fd(49152+Math.floor(16384*Math.random())),r=yield qd(t,n,e);return yield Vd(r),n})}const Yd={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4};function Gd(t){return new DataView(t).getUint32(0,!1)}function Qd(t,e){return Bd(this,0,void 0,function*(){!function(){if("undefined"==typeof window||!0!==window.isSecureContext)throw new Nd(Md,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}();const n=yield function(){return Bd(this,0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}(),r=`ws://localhost:${yield Zd(n.publicKey,null==e?void 0:e.baseUri)}/solana-wallet`;let i;const o=(()=>{const t=[...Yd.retryDelayScheduleMs];return()=>t.length>1?t.shift():t[0]})();let s=1,a=0,c={__type:"disconnected"};return new Promise((e,l)=>{let u;const h={},d=()=>Bd(this,0,void 0,function*(){if("connecting"!==c.__type)return;u.removeEventListener("open",d);const{associationKeypair:t}=c,e=yield Pd();u.send(yield jd(e.publicKey,t.privateKey)),c={__type:"hello_req_sent",associationPublicKey:t.publicKey,ecdhPrivateKey:e.privateKey}}),f=t=>{t.wasClean?c={__type:"disconnected"}:l(new Nd(Sd,`The wallet session dropped unexpectedly (${t.code}: ${t.reason}).`,{closeEvent:t})),g()},p=t=>Bd(this,0,void 0,function*(){g(),Date.now()-i>=Yd.timeoutMs?l(new Nd(Ad,`Failed to connect to the wallet websocket at ${r}.`)):(yield new Promise(t=>{const e=o();y=window.setTimeout(t,e)}),w())}),m=r=>Bd(this,0,void 0,function*(){const i=yield r.data.arrayBuffer();switch(c.__type){case"connecting":if(0!==i.byteLength)throw new Error("Encountered unexpected message while connecting");const r=yield Pd();u.send(yield jd(r.publicKey,n.privateKey)),c={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:r.privateKey};break;case"connected":try{const t=Gd(i.slice(0,4));if(t!==a+1)throw new Error("Encrypted message has invalid sequence number");a=t;const e=yield function(t,e){return Bd(this,0,void 0,function*(){const n=yield Dd(t,e),r=JSON.parse(n);if(Object.hasOwnProperty.call(r,"error"))throw new Ld(r.id,r.error.code,r.error.message);return r})}(i,c.sharedSecret),n=h[e.id];delete h[e.id],n.resolve(e.result)}catch(sy){if(!(sy instanceof Ld))throw sy;{const e=h[sy.jsonRpcMessageId];delete h[sy.jsonRpcMessageId],e.reject(sy)}}break;case"hello_req_sent":{if(0===i.byteLength){const t=yield Pd();u.send(yield jd(t.publicKey,n.privateKey)),c={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:t.privateKey};break}const r=yield function(t,e,n){return Bd(this,0,void 0,function*(){const[r,i]=yield Promise.all([crypto.subtle.exportKey("raw",e),crypto.subtle.importKey("raw",t.slice(0,65),{name:"ECDH",namedCurve:"P-256"},!1,[])]),o=yield crypto.subtle.deriveBits({name:"ECDH",public:i},n,256),s=yield crypto.subtle.importKey("raw",o,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(r),info:new Uint8Array},s,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])})}(i,c.associationPublicKey,c.ecdhPrivateKey),o=i.slice(65),d=0!==o.byteLength?yield(()=>Bd(this,0,void 0,function*(){const t=Gd(o.slice(0,4));if(t!==a+1)throw new Error("Encrypted message has invalid sequence number");return a=t,function(t,e){return Bd(this,0,void 0,function*(){const n=yield Dd(t,e),r=JSON.parse(n);let i="legacy";if(Object.hasOwnProperty.call(r,"v"))switch(r.v){case 1:case"1":case"v1":i="v1";break;case"legacy":i="legacy";break;default:throw new Nd(Id,`Unknown/unsupported protocol version: ${r.v}`)}return{protocol_version:i}})}(o,r)}))():{protocol_version:"legacy"};c={__type:"connected",sharedSecret:r,sessionProperties:d};const f=Rd(d.protocol_version,(t,e)=>Bd(this,0,void 0,function*(){const n=s++;return u.send(yield function(t,e){return Bd(this,0,void 0,function*(){return Od(JSON.stringify(t),t.id,e)})}({id:n,jsonrpc:"2.0",method:t,params:null!=e?e:{}},r)),new Promise((e,r)=>{h[n]={resolve(n){switch(t){case"authorize":case"reauthorize":{const{wallet_uri_base:t}=n;if(null!=t)try{!function(t){let e;try{e=new URL(t)}catch(n){throw new Nd(Ed,"Invalid base URL supplied by wallet")}if("https:"!==e.protocol)throw new Nd(Ed,"Base URLs supplied by wallets must be valid `https` URLs")}(t)}catch(sy){return void r(sy)}break}}e(n)},reject:r}})}));try{e(yield t(f))}catch(sy){l(sy)}finally{g(),u.close()}break}}});let g,y;const w=()=>{g&&g(),c={__type:"connecting",associationKeypair:n},void 0===i&&(i=Date.now()),u=new WebSocket(r,["com.solana.mobilewalletadapter.v1"]),u.addEventListener("open",d),u.addEventListener("close",f),u.addEventListener("error",p),u.addEventListener("message",m),g=()=>{window.clearTimeout(y),u.removeEventListener("open",d),u.removeEventListener("close",f),u.removeEventListener("error",p),u.removeEventListener("message",m)}};w()})})}var Jd=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),o=i.charCodeAt(0);if(255!==e[o])throw new TypeError(i+" is ambiguous");e[o]=r}var s=t.length,a=t.charAt(0),c=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function u(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return new Uint8Array;for(var n=0,r=0,i=0;t[n]===a;)r++,n++;for(var o=(t.length-n)*c+1>>>0,l=new Uint8Array(o);t[n];){var u=t.charCodeAt(n);if(u>255)return;var h=e[u];if(255===h)return;for(var d=0,f=o-1;(0!==h||d<i)&&-1!==f;f--,d++)h+=s*l[f]>>>0,l[f]=h%256>>>0,h=h/256>>>0;if(0!==h)throw new Error("Non-zero carry");i=d,n++}for(var p=o-i;p!==o&&0===l[p];)p++;for(var m=new Uint8Array(r+(o-p)),g=r;p!==o;)m[g++]=l[p++];return m}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===e.length)return"";for(var n=0,r=0,i=0,o=e.length;i!==o&&0===e[i];)i++,n++;for(var c=(o-i)*l+1>>>0,u=new Uint8Array(c);i!==o;){for(var h=e[i],d=0,f=c-1;(0!==h||d<r)&&-1!==f;f--,d++)h+=256*u[f]>>>0,u[f]=h%s>>>0,h=h/s>>>0;if(0!==h)throw new Error("Non-zero carry");r=d,i++}for(var p=c-r;p!==c&&0===u[p];)p++;for(var m=a.repeat(n);p<c;++p)m+=t.charAt(u[p]);return m},decodeUnsafe:u,decode:function(t){var e=u(t);if(e)return e;throw new Error("Non-base"+s+" character")}}};const Xd=s(Jd("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"));function tf(t,e,n,r){return new(n||(n=Promise))(function(e,i){function o(t){try{a(r.next(t))}catch(sy){i(sy)}}function s(t){try{a(r.throw(t))}catch(sy){i(sy)}}function a(t){var r;t.done?e(t.value):(r=t.value,r instanceof n?r:new n(function(t){t(r)})).then(o,s)}a((r=r.apply(t,[])).next())})}function ef(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)}function nf(t,e,n,r,i){if("function"==typeof e||!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var rf,of,sf,af,cf,lf,uf,hf;class df{constructor(){rf.add(this),of.set(this,null),sf.set(this,{}),af.set(this,!1),this.dom=null,this.open=()=>{ef(this,rf,"m",lf).call(this),ef(this,of,"f")&&(ef(this,of,"f").style.display="flex")},this.close=(t=void 0)=>{var e;ef(this,rf,"m",uf).call(this),ef(this,of,"f")&&(ef(this,of,"f").style.display="none"),null===(e=ef(this,sf,"f").close)||void 0===e||e.forEach(e=>e(t))},hf.set(this,t=>{"Escape"===t.key&&this.close(t)}),this.init=this.init.bind(this),nf(this,of,document.getElementById("mobile-wallet-adapter-embedded-root-ui"))}init(){return tf(this,0,void 0,function*(){ef(this,rf,"m",cf).call(this)})}addEventListener(t,e){var n;return(null===(n=ef(this,sf,"f")[t])||void 0===n?void 0:n.push(e))||(ef(this,sf,"f")[t]=[e]),()=>this.removeEventListener(t,e)}removeEventListener(t,e){var n;ef(this,sf,"f")[t]=null===(n=ef(this,sf,"f")[t])||void 0===n?void 0:n.filter(t=>e!==t)}}of=new WeakMap,sf=new WeakMap,af=new WeakMap,hf=new WeakMap,rf=new WeakSet,cf=function(){if(document.getElementById("mobile-wallet-adapter-embedded-root-ui"))return void(ef(this,of,"f")||nf(this,of,document.getElementById("mobile-wallet-adapter-embedded-root-ui")));nf(this,of,document.createElement("div")),ef(this,of,"f").id="mobile-wallet-adapter-embedded-root-ui",ef(this,of,"f").innerHTML='\n<div class="mobile-wallet-adapter-embedded-modal-container" role="dialog" aria-modal="true" aria-labelledby="modal-title">\n    <div data-modal-close style="position: absolute; width: 100%; height: 100%;"></div>\n\t<div class="mobile-wallet-adapter-embedded-modal-card">\n\t\t<div>\n\t\t\t<button data-modal-close class="mobile-wallet-adapter-embedded-modal-close">\n\t\t\t\t<svg width="14" height="14">\n\t\t\t\t\t<path d="M 6.7125,8.3036995 1.9082,13.108199 c -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 C 0.1056,12.896899 0,12.631699 0,12.312499 c 0,-0.3192 0.1056,-0.5844 0.3167,-0.7958 L 5.1212,6.7124995 0.3167,1.9082 C 0.1056,1.6969 0,1.4317 0,1.1125 0,0.7933 0.1056,0.5281 0.3167,0.3167 0.5281,0.1056 0.7933,0 1.1125,0 1.4317,0 1.6969,0.1056 1.9082,0.3167 L 6.7125,5.1212 11.5167,0.3167 C 11.7281,0.1056 11.9933,0 12.3125,0 c 0.3192,0 0.5844,0.1056 0.7957,0.3167 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 L 8.3037001,6.7124995 13.1082,11.516699 c 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 z" />\n\t\t\t\t</svg>\n\t\t\t</button>\n\t\t</div>\n\t\t<div class="mobile-wallet-adapter-embedded-modal-content"></div>\n\t</div>\n</div>\n',ef(this,of,"f").style.display="none";const t=ef(this,of,"f").querySelector(".mobile-wallet-adapter-embedded-modal-content");t&&(t.innerHTML=this.contentHtml);const e=document.createElement("style");e.id="mobile-wallet-adapter-embedded-modal-styles",e.textContent='\n.mobile-wallet-adapter-embedded-modal-container {\n    display: flex; /* Use flexbox to center content */\n    justify-content: center; /* Center horizontally */\n    align-items: center; /* Center vertically */\n    position: fixed; /* Stay in place */\n    z-index: 1; /* Sit on top */\n    left: 0;\n    top: 0;\n    width: 100%; /* Full width */\n    height: 100%; /* Full height */\n    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */\n    overflow-y: auto; /* enable scrolling */\n}\n\n.mobile-wallet-adapter-embedded-modal-card {\n    display: flex;\n    flex-direction: column;\n    margin: auto 20px;\n    max-width: 780px;\n    padding: 20px;\n    border-radius: 24px;\n    background: #ffffff;\n    font-family: "Inter Tight", "PT Sans", Calibri, sans-serif;\n    transform: translateY(-200%);\n    animation: slide-in 0.5s forwards;\n}\n\n@keyframes slide-in {\n    100% { transform: translateY(0%); }\n}\n\n.mobile-wallet-adapter-embedded-modal-close {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 32px;\n    height: 32px;\n    cursor: pointer;\n    background: #e4e9e9;\n    border: none;\n    border-radius: 50%;\n}\n\n.mobile-wallet-adapter-embedded-modal-close:focus-visible {\n    outline-color: red;\n}\n\n.mobile-wallet-adapter-embedded-modal-close svg {\n    fill: #546266;\n    transition: fill 200ms ease 0s;\n}\n\n.mobile-wallet-adapter-embedded-modal-close:hover svg {\n    fill: #fff;\n}\n'+this.contentStyles;const n=document.createElement("div");n.innerHTML='\n<link rel="preconnect" href="https://fonts.googleapis.com">\n<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>\n<link href="https://fonts.googleapis.com/css2?family=Inter+Tight:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">\n',this.dom=n.attachShadow({mode:"closed"}),this.dom.appendChild(e),this.dom.appendChild(ef(this,of,"f")),document.body.appendChild(n)},lf=function(){if(!ef(this,of,"f")||ef(this,af,"f"))return;[...ef(this,of,"f").querySelectorAll("[data-modal-close]")].forEach(t=>null==t?void 0:t.addEventListener("click",this.close)),window.addEventListener("load",this.close),document.addEventListener("keydown",ef(this,hf,"f")),nf(this,af,!0)},uf=function(){if(!ef(this,af,"f"))return;if(window.removeEventListener("load",this.close),document.removeEventListener("keydown",ef(this,hf,"f")),!ef(this,of,"f"))return;[...ef(this,of,"f").querySelectorAll("[data-modal-close]")].forEach(t=>null==t?void 0:t.removeEventListener("click",this.close)),nf(this,af,!1)};function ff(t){return window.btoa(String.fromCharCode.call(null,...t))}function pf(t){return new Uint8Array(window.atob(t).split("").map(t=>t.charCodeAt(0)))}var mf,gf,yf,wf,bf,vf,xf,Ef,Mf,Sf,Af,kf,If,Nf,Lf,Bf,jf,Cf,_f,Tf,Rf,Of,Df,zf,Uf,Pf,Ff,Wf,qf,Kf,Hf,$f,Vf,Zf;const Yf="Mobile Wallet Adapter",Gf=[Iu,Bu,Lu,Nu];class Qf{constructor(t){mf.add(this),gf.set(this,{}),yf.set(this,"1.0.0"),wf.set(this,Yf),bf.set(this,"https://solanamobile.com/wallets"),vf.set(this,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDIuNUgxN0MxNy44Mjg0IDIuNSAxOC41IDMuMTcxNTcgMTguNSA0VjIwQzE4LjUgMjAuODI4NCAxNy44Mjg0IDIxLjUgMTcgMjEuNUg3QzYuMTcxNTcgMjEuNSA1LjUgMjAuODI4NCA1LjUgMjBWNEM1LjUgMy4xNzE1NyA2LjE3MTU3IDIuNSA3IDIuNVpNMyA0QzMgMS43OTA4NiA0Ljc5MDg2IDAgNyAwSDE3QzE5LjIwOTEgMCAyMSAxLjc5MDg2IDIxIDRWMjBDMjEgMjIuMjA5MSAxOS4yMDkxIDI0IDE3IDI0SDdDNC43OTA4NiAyNCAzIDIyLjIwOTEgMyAyMFY0Wk0xMSA0LjYxNTM4QzEwLjQ0NzcgNC42MTUzOCAxMCA1LjA2MzEgMTAgNS42MTUzOFY2LjM4NDYyQzEwIDYuOTM2OSAxMC40NDc3IDcuMzg0NjIgMTEgNy4zODQ2MkgxM0MxMy41NTIzIDcuMzg0NjIgMTQgNi45MzY5IDE0IDYuMzg0NjJWNS42MTUzOEMxNCA1LjA2MzEgMTMuNTUyMyA0LjYxNTM4IDEzIDQuNjE1MzhIMTFaIiBmaWxsPSIjRENCOEZGIi8+Cjwvc3ZnPgo="),xf.set(this,void 0),Ef.set(this,void 0),Mf.set(this,void 0),Sf.set(this,!1),Af.set(this,0),kf.set(this,[]),If.set(this,void 0),Nf.set(this,void 0),Lf.set(this,void 0),Bf.set(this,(t,e)=>{var n;return(null===(n=ef(this,gf,"f")[t])||void 0===n?void 0:n.push(e))||(ef(this,gf,"f")[t]=[e]),()=>ef(this,mf,"m",Cf).call(this,t,e)}),_f.set(this,({silent:t}={})=>tf(this,0,void 0,function*(){if(ef(this,Sf,"f")||this.connected)return{accounts:this.accounts};nf(this,Sf,!0);try{if(t){const t=yield ef(this,Mf,"f").get();if(!t)return{accounts:this.accounts};yield ef(this,Of,"f").call(this,t.capabilities),yield ef(this,Rf,"f").call(this,t)}else yield ef(this,Tf,"f").call(this)}catch(sy){throw new Error(sy instanceof Error&&sy.message||"Unknown error")}finally{nf(this,Sf,!1)}return{accounts:this.accounts}})),Tf.set(this,t=>tf(this,0,void 0,function*(){try{const e=yield ef(this,Mf,"f").get();if(e)return ef(this,Rf,"f").call(this,e),e;const n=yield ef(this,If,"f").select(ef(this,kf,"f"));return yield ef(this,Uf,"f").call(this,e=>tf(this,0,void 0,function*(){const[r,i]=yield Promise.all([e.getCapabilities(),e.authorize({chain:n,identity:ef(this,xf,"f"),sign_in_payload:t})]),o=ef(this,Ff,"f").call(this,i.accounts),s=Object.assign(Object.assign({},i),{accounts:o,chain:n,capabilities:r});return Promise.all([ef(this,Of,"f").call(this,r),ef(this,Mf,"f").set(s),ef(this,Rf,"f").call(this,s)]),s}))}catch(sy){throw new Error(sy instanceof Error&&sy.message||"Unknown error")}})),Rf.set(this,t=>tf(this,0,void 0,function*(){var e;const n=null==ef(this,Ef,"f")||(null===(e=ef(this,Ef,"f"))||void 0===e?void 0:e.accounts.length)!==t.accounts.length||ef(this,Ef,"f").accounts.some((e,n)=>e.address!==t.accounts[n].address);nf(this,Ef,t),n&&ef(this,mf,"m",jf).call(this,"change",{accounts:this.accounts})})),Of.set(this,t=>tf(this,0,void 0,function*(){const e=t.features.includes("solana:signTransactions"),n=t.supports_sign_and_send_transactions,r=Iu in this.features!==n||Bu in this.features!==e;nf(this,Nf,Object.assign(Object.assign({},(n||!n&&!e)&&{[Iu]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:ef(this,Kf,"f")}}),e&&{[Bu]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:ef(this,Hf,"f")}})),r&&ef(this,mf,"m",jf).call(this,"change",{features:this.features})})),Df.set(this,(t,e,n)=>tf(this,0,void 0,function*(){var r,i;try{const[o,s]=yield Promise.all([null!==(i=null===(r=ef(this,Ef,"f"))||void 0===r?void 0:r.capabilities)&&void 0!==i?i:yield t.getCapabilities(),t.authorize({auth_token:e,identity:ef(this,xf,"f"),chain:n})]),a=ef(this,Ff,"f").call(this,s.accounts),c=Object.assign(Object.assign({},s),{accounts:a,chain:n,capabilities:o});Promise.all([ef(this,Mf,"f").set(c),ef(this,Rf,"f").call(this,c)])}catch(sy){throw ef(this,zf,"f").call(this),new Error(sy instanceof Error&&sy.message||"Unknown error")}})),zf.set(this,()=>tf(this,0,void 0,function*(){var t;ef(this,Mf,"f").clear(),nf(this,Sf,!1),nf(this,Af,(t=ef(this,Af,"f"),++t)),nf(this,Ef,void 0),ef(this,mf,"m",jf).call(this,"change",{accounts:this.accounts})})),Uf.set(this,t=>tf(this,0,void 0,function*(){var e;const n=null===(e=ef(this,Ef,"f"))||void 0===e?void 0:e.wallet_uri_base,r=n?{baseUri:n}:void 0,i=ef(this,Af,"f");try{return yield Qd(t,r)}catch(sy){throw ef(this,Af,"f")!==i&&(yield new Promise(()=>{})),sy instanceof Error&&"SolanaMobileWalletAdapterError"===sy.name&&"ERROR_WALLET_NOT_FOUND"===sy.code&&(yield ef(this,Lf,"f").call(this,this)),sy}})),Pf.set(this,()=>{if(!ef(this,Ef,"f"))throw new Error("Wallet not connected");return{authToken:ef(this,Ef,"f").auth_token,chain:ef(this,Ef,"f").chain}}),Ff.set(this,t=>t.map(t=>{var e,n;const r=pf(t.address);return{address:Xd.encode(r),publicKey:r,label:t.label,icon:t.icon,chains:null!==(e=t.chains)&&void 0!==e?e:ef(this,kf,"f"),features:null!==(n=t.features)&&void 0!==n?n:Gf}})),Wf.set(this,t=>tf(this,0,void 0,function*(){const{authToken:e,chain:n}=ef(this,Pf,"f").call(this);try{const r=t.map(t=>ff(t));return yield ef(this,Uf,"f").call(this,t=>tf(this,0,void 0,function*(){yield ef(this,Df,"f").call(this,t,e,n);return(yield t.signTransactions({payloads:r})).signed_payloads.map(pf)}))}catch(sy){throw new Error(sy instanceof Error&&sy.message||"Unknown error")}})),qf.set(this,(t,e)=>tf(this,0,void 0,function*(){const{authToken:n,chain:r}=ef(this,Pf,"f").call(this);try{return yield ef(this,Uf,"f").call(this,i=>tf(this,0,void 0,function*(){const[o,s]=yield Promise.all([i.getCapabilities(),ef(this,Df,"f").call(this,i,n,r)]);if(o.supports_sign_and_send_transactions){const n=ff(t);return(yield i.signAndSendTransactions(Object.assign(Object.assign({},e),{payloads:[n]}))).signatures.map(pf)[0]}throw new Error("connected wallet does not support signAndSendTransaction")}))}catch(sy){throw new Error(sy instanceof Error&&sy.message||"Unknown error")}})),Kf.set(this,(...t)=>tf(this,0,void 0,function*(){const e=[];for(const n of t){const t=yield ef(this,qf,"f").call(this,n.transaction,n.options);e.push({signature:t})}return e})),Hf.set(this,(...t)=>tf(this,0,void 0,function*(){return(yield ef(this,Wf,"f").call(this,t.map(({transaction:t})=>t))).map(t=>({signedTransaction:t}))})),$f.set(this,(...t)=>tf(this,0,void 0,function*(){const{authToken:e,chain:n}=ef(this,Pf,"f").call(this),r=t.map(({account:t})=>ff(t.publicKey)),i=t.map(({message:t})=>ff(t));try{return yield ef(this,Uf,"f").call(this,t=>tf(this,0,void 0,function*(){yield ef(this,Df,"f").call(this,t,e,n);return(yield t.signMessages({addresses:r,payloads:i})).signed_payloads.map(pf).map(t=>({signedMessage:t,signature:t.slice(-64)}))}))}catch(sy){throw new Error(sy instanceof Error&&sy.message||"Unknown error")}})),Vf.set(this,(...t)=>tf(this,0,void 0,function*(){const e=[];if(!(t.length>1))return[yield ef(this,Zf,"f").call(this,t[0])];for(const n of t)e.push(yield ef(this,Zf,"f").call(this,n));return e})),Zf.set(this,t=>tf(this,0,void 0,function*(){var e,n,r;nf(this,Sf,!0);try{const i=yield ef(this,Tf,"f").call(this,Object.assign(Object.assign({},t),{domain:null!==(e=null==t?void 0:t.domain)&&void 0!==e?e:window.location.host}));if(!i.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const o=i.sign_in_result.address,s=i.accounts.find(t=>t.address==o);return{account:Object.assign(Object.assign({},null!=s?s:{address:Xd.encode(pf(o))}),{publicKey:pf(o),chains:null!==(n=null==s?void 0:s.chains)&&void 0!==n?n:ef(this,kf,"f"),features:null!==(r=null==s?void 0:s.features)&&void 0!==r?r:i.capabilities.features}),signedMessage:pf(i.sign_in_result.signed_message),signature:pf(i.sign_in_result.signature)}}catch(sy){throw new Error(sy instanceof Error&&sy.message||"Unknown error")}finally{nf(this,Sf,!1)}})),nf(this,Mf,t.authorizationCache),nf(this,xf,t.appIdentity),nf(this,kf,t.chains),nf(this,If,t.chainSelector),nf(this,Lf,t.onWalletNotFound),nf(this,Nf,{[Iu]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:ef(this,Kf,"f")},[Bu]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:ef(this,Hf,"f")}})}get version(){return ef(this,yf,"f")}get name(){return ef(this,wf,"f")}get url(){return ef(this,bf,"f")}get icon(){return ef(this,vf,"f")}get chains(){return ef(this,kf,"f")}get features(){return Object.assign({[ju]:{version:"1.0.0",connect:ef(this,_f,"f")},[Cu]:{version:"1.0.0",disconnect:ef(this,zf,"f")},[_u]:{version:"1.0.0",on:ef(this,Bf,"f")},[Lu]:{version:"1.0.0",signMessage:ef(this,$f,"f")},[Nu]:{version:"1.0.0",signIn:ef(this,Vf,"f")}},ef(this,Nf,"f"))}get accounts(){var t,e;return null!==(e=null===(t=ef(this,Ef,"f"))||void 0===t?void 0:t.accounts)&&void 0!==e?e:[]}get connected(){return!!ef(this,Ef,"f")}get isAuthorized(){return!!ef(this,Ef,"f")}get currentAuthorization(){return ef(this,Ef,"f")}get cachedAuthorizationResult(){return ef(this,Mf,"f").get()}}gf=new WeakMap,yf=new WeakMap,wf=new WeakMap,bf=new WeakMap,vf=new WeakMap,xf=new WeakMap,Ef=new WeakMap,Mf=new WeakMap,Sf=new WeakMap,Af=new WeakMap,kf=new WeakMap,If=new WeakMap,Nf=new WeakMap,Lf=new WeakMap,Bf=new WeakMap,_f=new WeakMap,Tf=new WeakMap,Rf=new WeakMap,Of=new WeakMap,Df=new WeakMap,zf=new WeakMap,Uf=new WeakMap,Pf=new WeakMap,Ff=new WeakMap,Wf=new WeakMap,qf=new WeakMap,Kf=new WeakMap,Hf=new WeakMap,$f=new WeakMap,Vf=new WeakMap,Zf=new WeakMap,mf=new WeakSet,jf=function(t,...e){var n;null===(n=ef(this,gf,"f")[t])||void 0===n||n.forEach(t=>t.apply(null,e))},Cf=function(t,e){var n;ef(this,gf,"f")[t]=null===(n=ef(this,gf,"f")[t])||void 0===n?void 0:n.filter(t=>e!==t)};class Jf extends df{constructor(){super(...arguments),this.contentStyles=tp,this.contentHtml=Xf}initWithError(t){super.init(),this.populateError(t)}populateError(t){var e,n;const r=null===(e=this.dom)||void 0===e?void 0:e.getElementById("mobile-wallet-adapter-error-message"),i=null===(n=this.dom)||void 0===n?void 0:n.getElementById("mobile-wallet-adapter-error-action");if(r){if("SolanaMobileWalletAdapterError"===t.name)switch(t.code){case"ERROR_WALLET_NOT_FOUND":return r.innerHTML="To use mobile wallet adapter, you must have a compatible mobile wallet application installed on your device.",void(i&&i.addEventListener("click",()=>{window.location.href="https://solanamobile.com/wallets"}));case"ERROR_BROWSER_NOT_SUPPORTED":return r.innerHTML="This browser appears to be incompatible with mobile wallet adapter. Open this page in a compatible mobile browser app and try again.",void(i&&(i.style.display="none"))}r.innerHTML=`An unexpected error occurred: ${t.message}`}}}const Xf='\n<svg class="mobile-wallet-adapter-embedded-modal-error-icon" xmlns="http://www.w3.org/2000/svg" height="50px" viewBox="0 -960 960 960" width="50px" fill="#000000"><path d="M 280,-80 Q 197,-80 138.5,-138.5 80,-197 80,-280 80,-363 138.5,-421.5 197,-480 280,-480 q 83,0 141.5,58.5 58.5,58.5 58.5,141.5 0,83 -58.5,141.5 Q 363,-80 280,-80 Z M 824,-120 568,-376 Q 556,-389 542.5,-402.5 529,-416 516,-428 q 38,-24 61,-64 23,-40 23,-88 0,-75 -52.5,-127.5 Q 495,-760 420,-760 345,-760 292.5,-707.5 240,-655 240,-580 q 0,6 0.5,11.5 0.5,5.5 1.5,11.5 -18,2 -39.5,8 -21.5,6 -38.5,14 -2,-11 -3,-22 -1,-11 -1,-23 0,-109 75.5,-184.5 Q 311,-840 420,-840 q 109,0 184.5,75.5 75.5,75.5 75.5,184.5 0,43 -13.5,81.5 Q 653,-460 629,-428 l 251,252 z m -615,-61 71,-71 70,71 29,-28 -71,-71 71,-71 -28,-28 -71,71 -71,-71 -28,28 71,71 -71,71 z"/></svg>\n<div class="mobile-wallet-adapter-embedded-modal-title">We can\'t find a wallet.</div>\n<div id="mobile-wallet-adapter-error-message" class="mobile-wallet-adapter-embedded-modal-subtitle"></div>\n<div>\n    <button data-error-action id="mobile-wallet-adapter-error-action" class="mobile-wallet-adapter-embedded-modal-error-action">\n        Find a wallet\n    </button>\n</div>\n',tp="\n.mobile-wallet-adapter-embedded-modal-content {\n    text-align: center;\n}\n\n.mobile-wallet-adapter-embedded-modal-error-icon {\n    margin-top: 24px;\n}\n\n.mobile-wallet-adapter-embedded-modal-title {\n    margin: 18px 100px auto 100px;\n    color: #000000;\n    font-size: 2.75em;\n    font-weight: 600;\n}\n\n.mobile-wallet-adapter-embedded-modal-subtitle {\n    margin: 30px 60px 40px 60px;\n    color: #000000;\n    font-size: 1.25em;\n    font-weight: 400;\n}\n\n.mobile-wallet-adapter-embedded-modal-error-action {\n    display: block;\n    width: 100%;\n    height: 56px;\n    /*margin-top: 40px;*/\n    font-size: 1.25em;\n    /*line-height: 24px;*/\n    /*letter-spacing: -1%;*/\n    background: #000000;\n    color: #FFFFFF;\n    border-radius: 18px;\n}\n\n/* Smaller screens */\n@media all and (max-width: 600px) {\n    .mobile-wallet-adapter-embedded-modal-title {\n        font-size: 1.5em;\n        margin-right: 12px;\n        margin-left: 12px;\n    }\n    .mobile-wallet-adapter-embedded-modal-subtitle {\n        margin-right: 12px;\n        margin-left: 12px;\n    }\n}\n";const ep="SolanaMobileWalletAdapterDefaultAuthorizationCache";function np(t,e,n,r){return new(n||(n=Promise))(function(e,i){function o(t){try{a(r.next(t))}catch(sy){i(sy)}}function s(t){try{a(r.throw(t))}catch(sy){i(sy)}}function a(t){var r;t.done?e(t.value):(r=t.value,r instanceof n?r:new n(function(t){t(r)})).then(o,s)}a((r=r.apply(t,[])).next())})}function rp(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)}function ip(t,e,n,r,i){if("function"==typeof e||!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}const op="standard:connect";function sp(t){return window.btoa(String.fromCharCode.call(null,...t))}var ap,cp,lp,up,hp,dp,fp,pp,mp,gp,yp,wp,bp;const vp=Yf;function xp(t){switch(t){case"mainnet-beta":return"solana:mainnet";case"testnet":return"solana:testnet";case"devnet":return"solana:devnet";default:return t}}class Ep extends ku{constructor(t,e){super(),ap.add(this),this.supportedTransactionVersions=new Set(["legacy",0]),cp.set(this,void 0),lp.set(this,!1),up.set(this,"undefined"!=typeof window&&window.isSecureContext&&"undefined"!=typeof document&&/android/i.test(navigator.userAgent)?wu.Loadable:wu.Unsupported),hp.set(this,void 0),dp.set(this,void 0),fp.set(this,void 0),pp.set(this,t=>np(this,0,void 0,function*(){if(t.accounts&&t.accounts.length>0){rp(this,ap,"m",gp).call(this);const e=yield rp(this,hp,"f").call(this,t.accounts);e!==rp(this,dp,"f")&&(ip(this,dp,e),ip(this,fp,void 0),this.emit("connect",this.publicKey))}})),ip(this,hp,t=>np(this,0,void 0,function*(){var n;const r=yield e.addressSelector.select(t.map(({publicKey:t})=>sp(t)));return null!==(n=t.find(({publicKey:t})=>sp(t)===r))&&void 0!==n?n:t[0]})),ip(this,cp,t),rp(this,cp,"f").features["standard:events"].on("change",rp(this,pp,"f")),this.name=rp(this,cp,"f").name,this.icon=rp(this,cp,"f").icon,this.url=rp(this,cp,"f").url}get publicKey(){var t;if(!rp(this,fp,"f")&&rp(this,dp,"f"))try{ip(this,fp,new va(rp(this,dp,"f").publicKey))}catch(sy){throw new du(sy instanceof Error&&(null==sy?void 0:sy.message)||"Unknown error",sy)}return null!==(t=rp(this,fp,"f"))&&void 0!==t?t:null}get connected(){return rp(this,cp,"f").connected}get connecting(){return rp(this,lp,"f")}get readyState(){return rp(this,up,"f")}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return np(this,0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return np(this,0,void 0,function*(){rp(this,ap,"m",mp).call(this,!0)})}connect(){return np(this,0,void 0,function*(){rp(this,ap,"m",mp).call(this)})}performAuthorization(t){return np(this,0,void 0,function*(){try{const e=yield rp(this,cp,"f").cachedAuthorizationResult;if(e)return yield rp(this,cp,"f").features[op].connect({silent:!0}),e;t?yield rp(this,cp,"f").features[Nu].signIn(t):yield rp(this,cp,"f").features[op].connect();return yield yield rp(this,cp,"f").cachedAuthorizationResult}catch(sy){throw new cu(sy instanceof Error&&sy.message||"Unknown error",sy)}})}disconnect(){return np(this,0,void 0,function*(){return yield rp(this,ap,"m",bp).call(this,()=>np(this,0,void 0,function*(){ip(this,lp,!1),ip(this,fp,void 0),ip(this,dp,void 0),yield rp(this,cp,"f").features["standard:disconnect"].disconnect(),this.emit("disconnect")}))})}signIn(t){return np(this,0,void 0,function*(){return rp(this,ap,"m",bp).call(this,()=>np(this,0,void 0,function*(){var e;if(rp(this,up,"f")!==wu.Installed&&rp(this,up,"f")!==wu.Loadable)throw new ou;ip(this,lp,!0);try{const n=yield rp(this,cp,"f").features[Nu].signIn(Object.assign(Object.assign({},t),{domain:null!==(e=null==t?void 0:t.domain)&&void 0!==e?e:window.location.host}));if(n.length>0)return n[0];throw new Error("Sign in failed, no sign in result returned by wallet")}catch(sy){throw new cu(sy instanceof Error&&sy.message||"Unknown error",sy)}finally{ip(this,lp,!1)}}))})}signMessage(t){return np(this,0,void 0,function*(){return yield rp(this,ap,"m",bp).call(this,()=>np(this,0,void 0,function*(){const e=rp(this,ap,"m",yp).call(this);try{return(yield rp(this,cp,"f").features[Lu].signMessage({account:e,message:t}))[0].signature}catch(n){throw new gu(null==n?void 0:n.message,n)}}))})}sendTransaction(t,e,n){return np(this,0,void 0,function*(){return yield rp(this,ap,"m",bp).call(this,()=>np(this,0,void 0,function*(){const r=rp(this,ap,"m",yp).call(this);try{let i=function(){let t,r;switch(e.commitment){case"confirmed":case"finalized":case"processed":t=e.commitment;break;default:t="finalized"}switch(null==n?void 0:n.preflightCommitment){case"confirmed":case"finalized":case"processed":r=n.preflightCommitment;break;case void 0:r=t;break;default:r="finalized"}return("finalized"===r?2:"confirmed"===r?1:0)<("finalized"===t?2:"confirmed"===t?1:0)?r:t};if(Iu in rp(this,cp,"f").features){const e=xp(rp(this,cp,"f").currentAuthorization.chain),[i]=(yield rp(this,cp,"f").features[Iu].signAndSendTransaction({account:r,transaction:t.serialize(),chain:e,options:n?{skipPreflight:n.skipPreflight,maxRetries:n.maxRetries}:void 0})).map(t=>sp(t.signature));return i}{const[r]=yield rp(this,ap,"m",wp).call(this,[t]);if(function(t){return"version"in t}(r))return yield e.sendTransaction(r);{const t=r.serialize();return yield e.sendRawTransaction(t,Object.assign(Object.assign({},n),{preflightCommitment:i()}))}}}catch(i){throw new pu(null==i?void 0:i.message,i)}}))})}signTransaction(t){return np(this,0,void 0,function*(){return yield rp(this,ap,"m",bp).call(this,()=>np(this,0,void 0,function*(){const[e]=yield rp(this,ap,"m",wp).call(this,[t]);return e}))})}signAllTransactions(t){return np(this,0,void 0,function*(){return yield rp(this,ap,"m",bp).call(this,()=>np(this,0,void 0,function*(){return yield rp(this,ap,"m",wp).call(this,t)}))})}}cp=new WeakMap,lp=new WeakMap,up=new WeakMap,hp=new WeakMap,dp=new WeakMap,fp=new WeakMap,pp=new WeakMap,ap=new WeakSet,mp=function(t=!1){return np(this,0,void 0,function*(){if(!this.connecting&&!this.connected)return yield rp(this,ap,"m",bp).call(this,()=>np(this,0,void 0,function*(){if(rp(this,up,"f")!==wu.Installed&&rp(this,up,"f")!==wu.Loadable)throw new ou;ip(this,lp,!0);try{yield rp(this,cp,"f").features[op].connect({silent:t})}catch(sy){throw new cu(sy instanceof Error&&sy.message||"Unknown error",sy)}finally{ip(this,lp,!1)}}))})},gp=function(){rp(this,up,"f")!==wu.Installed&&this.emit("readyStateChange",ip(this,up,wu.Installed))},yp=function(){if(!rp(this,cp,"f").isAuthorized||!rp(this,dp,"f"))throw new fu;return rp(this,dp,"f")},wp=function(t){return np(this,0,void 0,function*(){const e=rp(this,ap,"m",yp).call(this);try{if(Bu in rp(this,cp,"f").features)return rp(this,cp,"f").features[Bu].signTransaction(...t.map(t=>({account:e,transaction:t.serialize()}))).then(t=>t.map(t=>{const e=t.signedTransaction,n=64*e[0]+1;return"legacy"===za.deserializeMessageVersion(e.slice(n,e.length))?Wa.from(e):qa.deserialize(e)}));throw new Error("Connected wallet does not support signing transactions")}catch(n){throw new mu(null==n?void 0:n.message,n)}})},bp=function(t){return np(this,0,void 0,function*(){try{return yield t()}catch(sy){throw this.emit("error",sy),sy}})};class Mp extends Ep{constructor(t){var e;const n=xp(null!==(e=t.chain)&&void 0!==e?e:t.cluster);super(new Qf({appIdentity:t.appIdentity,authorizationCache:{set:t.authorizationResultCache.set,get:()=>np(this,0,void 0,function*(){return yield t.authorizationResultCache.get()}),clear:t.authorizationResultCache.clear},chains:[n],chainSelector:{select(t){return tf(this,0,void 0,function*(){return 1===t.length?t[0]:t.includes(wd)?wd:t[0]})}},onWalletNotFound:()=>np(this,0,void 0,function*(){t.onWalletNotFound(this)})}),{addressSelector:t.addressSelector,chain:n})}}class Sp extends Mp{}function Ap(){return function(){let t;try{t=window.localStorage}catch(e){}return{clear(){return tf(this,0,void 0,function*(){if(t)try{t.removeItem(ep)}catch(e){}})},get(){return tf(this,0,void 0,function*(){if(t)try{const e=JSON.parse(t.getItem(ep));if(e&&e.accounts){const t=e.accounts.map(t=>Object.assign(Object.assign({},t),{publicKey:"publicKey"in t?new Uint8Array(Object.values(t.publicKey)):Xd.decode(t.address)}));return Object.assign(Object.assign({},e),{accounts:t})}return e||void 0}catch(e){}})},set(n){return tf(this,0,void 0,function*(){if(t)try{t.setItem(ep,JSON.stringify(n))}catch(e){}})}}}()}function kp(t){return np(this,0,void 0,function*(){return function(){return tf(this,0,void 0,function*(){if("undefined"!=typeof window){const t=window.navigator.userAgent.toLowerCase(),e=new Jf;t.includes("wv")?e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_BROWSER_NOT_SUPPORTED",message:""}):e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_WALLET_NOT_FOUND",message:""}),e.open()}})}()})}var Ip;class Np extends Event{get detail(){return function(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)}(this,Ip,"f")}get type(){return"wallet-standard:register-wallet"}constructor(t){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),Ip.set(this,void 0),function(t,e,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===r?i.call(t,n):i?i.value=n:e.set(t,n)}(this,Ip,t,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}Ip=new WeakMap;const Lp=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let a=0;a<e.length;a++)e[a]=255;for(let a=0;a<t.length;a++){const n=t.charAt(a),r=n.charCodeAt(0);if(255!==e[r])throw new TypeError(n+" is ambiguous");e[r]=a}const n=t.length,r=t.charAt(0),i=Math.log(n)/Math.log(256),o=Math.log(256)/Math.log(n);function s(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return new Uint8Array;let o=0,s=0,a=0;for(;t[o]===r;)s++,o++;const c=(t.length-o)*i+1>>>0,l=new Uint8Array(c);for(;o<t.length;){const r=t.charCodeAt(o);if(r>255)return;let i=e[r];if(255===i)return;let s=0;for(let t=c-1;(0!==i||s<a)&&-1!==t;t--,s++)i+=n*l[t]>>>0,l[t]=i%256>>>0,i=i/256>>>0;if(0!==i)throw new Error("Non-zero carry");a=s,o++}let u=c-a;for(;u!==c&&0===l[u];)u++;const h=new Uint8Array(s+(c-u));let d=s;for(;u!==c;)h[d++]=l[u++];return h}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===e.length)return"";let i=0,s=0,a=0;const c=e.length;for(;a!==c&&0===e[a];)a++,i++;const l=(c-a)*o+1>>>0,u=new Uint8Array(l);for(;a!==c;){let t=e[a],r=0;for(let e=l-1;(0!==t||r<s)&&-1!==e;e--,r++)t+=256*u[e]>>>0,u[e]=t%n>>>0,t=t/n>>>0;if(0!==t)throw new Error("Non-zero carry");s=r,a++}let h=l-s;for(;h!==l&&0===u[h];)h++;let d=r.repeat(i);for(;h<l;++h)d+=t.charAt(u[h]);return d},decodeUnsafe:s,decode:function(t){const e=s(t);if(e)return e;throw new Error("Non-base"+n+" character")}}}("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var Bp,jp,Cp,_p,Tp,Rp,Op,Dp,zp,Up,Pp,Fp,Wp,qp,Kp,Hp,$p,Vp,Zp=function(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)},Yp=function(t,e,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(t,n):i?i.value=n:e.set(t,n),n};class Gp extends vu{get name(){return Zp(this,Dp,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return Zp(this,Dp,"f").icon}get readyState(){return Zp(this,zp,"f")}get publicKey(){return Zp(this,Cp,"f")}get connecting(){return Zp(this,_p,"f")}get supportedTransactionVersions(){return Zp(this,Op,"f")}get wallet(){return Zp(this,Dp,"f")}get standard(){return!0}constructor({wallet:t}){super(),Bp.add(this),jp.set(this,void 0),Cp.set(this,void 0),_p.set(this,void 0),Tp.set(this,void 0),Rp.set(this,void 0),Op.set(this,void 0),Dp.set(this,void 0),zp.set(this,"undefined"==typeof window||"undefined"==typeof document?wu.Unsupported:wu.Installed),qp.set(this,t=>{if("accounts"in t){const t=Zp(this,Dp,"f").accounts[0];Zp(this,jp,"f")&&!Zp(this,Tp,"f")&&t!==Zp(this,jp,"f")&&(t?Zp(this,Bp,"m",Pp).call(this,t):(this.emit("error",new lu),Zp(this,Bp,"m",Fp).call(this)))}"features"in t&&Zp(this,Bp,"m",Wp).call(this)}),Yp(this,Dp,t,"f"),Yp(this,jp,null,"f"),Yp(this,Cp,null,"f"),Yp(this,_p,!1,"f"),Yp(this,Tp,!1,"f"),Yp(this,Rp,Zp(this,Dp,"f").features[_u].on("change",Zp(this,qp,"f")),"f"),Zp(this,Bp,"m",Wp).call(this)}destroy(){Yp(this,jp,null,"f"),Yp(this,Cp,null,"f"),Yp(this,_p,!1,"f"),Yp(this,Tp,!1,"f");const t=Zp(this,Rp,"f");t&&(Yp(this,Rp,null,"f"),t())}async autoConnect(){return Zp(this,Bp,"m",Up).call(this,{silent:!0})}async connect(){return Zp(this,Bp,"m",Up).call(this)}async disconnect(){if(Cu in Zp(this,Dp,"f").features)try{Yp(this,Tp,!0,"f"),await Zp(this,Dp,"f").features[Cu].disconnect()}catch(t){this.emit("error",new uu(t?.message,t))}finally{Yp(this,Tp,!1,"f")}Zp(this,Bp,"m",Fp).call(this)}async sendTransaction(t,e,n={}){try{const o=Zp(this,jp,"f");if(!o)throw new fu;let s;if(Iu in Zp(this,Dp,"f").features)if(o.features.includes(Iu))s=Iu;else{if(!(Bu in Zp(this,Dp,"f").features)||!o.features.includes(Bu))throw new hu;s=Bu}else{if(!(Bu in Zp(this,Dp,"f").features))throw new au;if(!o.features.includes(Bu))throw new hu;s=Bu}const a=(r=e.rpcEndpoint).includes("https://api.mainnet-beta.solana.com")?wd:/\bdevnet\b/i.test(r)?bd:/\btestnet\b/i.test(r)?vd:/\blocalhost\b/i.test(r)||/\b127\.0\.0\.1\b/.test(r)?"solana:localnet":wd;if(!o.chains.includes(a))throw new pu;try{const{signers:r,...i}=n;let c;if(Mu(t)?(r?.length&&t.sign(r),c=t.serialize()):(t=await this.prepareTransaction(t,e,i),r?.length&&t.partialSign(...r),c=new Uint8Array(t.serialize({requireAllSignatures:!1,verifySignatures:!1}))),s===Iu){const[t]=await Zp(this,Dp,"f").features[Iu].signAndSendTransaction({account:o,chain:a,transaction:c,options:{preflightCommitment:yd(i.preflightCommitment||e.commitment),skipPreflight:i.skipPreflight,maxRetries:i.maxRetries,minContextSlot:i.minContextSlot}});return Lp.encode(t.signature)}{const[t]=await Zp(this,Dp,"f").features[Bu].signTransaction({account:o,chain:a,transaction:c,options:{preflightCommitment:yd(i.preflightCommitment||e.commitment),minContextSlot:i.minContextSlot}});return await e.sendRawTransaction(t.signedTransaction,{...i,preflightCommitment:yd(i.preflightCommitment||e.commitment)})}}catch(i){if(i instanceof iu)throw i;throw new pu(i?.message,i)}}catch(i){throw this.emit("error",i),i}var r}}jp=new WeakMap,Cp=new WeakMap,_p=new WeakMap,Tp=new WeakMap,Rp=new WeakMap,Op=new WeakMap,Dp=new WeakMap,zp=new WeakMap,qp=new WeakMap,Bp=new WeakSet,Up=async function(t){try{if(this.connected||this.connecting)return;if(Zp(this,zp,"f")!==wu.Installed)throw new ou;if(Yp(this,_p,!0,"f"),!Zp(this,Dp,"f").accounts.length)try{await Zp(this,Dp,"f").features[ju].connect(t)}catch(e){throw new cu(e?.message,e)}const n=Zp(this,Dp,"f").accounts[0];if(!n)throw new hu;Zp(this,Bp,"m",Pp).call(this,n)}catch(e){throw this.emit("error",e),e}finally{Yp(this,_p,!1,"f")}},Pp=function(t){let e;try{e=new va(t.address)}catch(n){throw new du(n?.message,n)}Yp(this,jp,t,"f"),Yp(this,Cp,e,"f"),Zp(this,Bp,"m",Wp).call(this),this.emit("connect",e)},Fp=function(){Yp(this,jp,null,"f"),Yp(this,Cp,null,"f"),Zp(this,Bp,"m",Wp).call(this),this.emit("disconnect")},Wp=function(){const t=Iu in Zp(this,Dp,"f").features?Zp(this,Dp,"f").features[Iu].supportedTransactionVersions:Zp(this,Dp,"f").features[Bu].supportedTransactionVersions;Yp(this,Op,function(t,e){if(t===e)return!0;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}(t,["legacy"])?null:new Set(t),"f"),Bu in Zp(this,Dp,"f").features&&Zp(this,jp,"f")?.features.includes(Bu)?(this.signTransaction=Zp(this,Bp,"m",Kp),this.signAllTransactions=Zp(this,Bp,"m",Hp)):(delete this.signTransaction,delete this.signAllTransactions),Lu in Zp(this,Dp,"f").features&&Zp(this,jp,"f")?.features.includes(Lu)?this.signMessage=Zp(this,Bp,"m",$p):delete this.signMessage,Nu in Zp(this,Dp,"f").features?this.signIn=Zp(this,Bp,"m",Vp):delete this.signIn},Kp=async function(t){try{const n=Zp(this,jp,"f");if(!n)throw new fu;if(!(Bu in Zp(this,Dp,"f").features))throw new au;if(!n.features.includes(Bu))throw new hu;try{const e=(await Zp(this,Dp,"f").features[Bu].signTransaction({account:n,transaction:Mu(t)?t.serialize():new Uint8Array(t.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return Mu(t)?qa.deserialize(e):Wa.from(e)}catch(e){if(e instanceof iu)throw e;throw new mu(e?.message,e)}}catch(e){throw this.emit("error",e),e}},Hp=async function(t){try{const n=Zp(this,jp,"f");if(!n)throw new fu;if(!(Bu in Zp(this,Dp,"f").features))throw new au;if(!n.features.includes(Bu))throw new hu;try{const e=await Zp(this,Dp,"f").features[Bu].signTransaction(...t.map(t=>({account:n,transaction:Mu(t)?t.serialize():new Uint8Array(t.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return t.map((t,n)=>{const r=e[n].signedTransaction;return Mu(t)?qa.deserialize(r):Wa.from(r)})}catch(e){throw new mu(e?.message,e)}}catch(e){throw this.emit("error",e),e}},$p=async function(t){try{const n=Zp(this,jp,"f");if(!n)throw new fu;if(!(Lu in Zp(this,Dp,"f").features))throw new au;if(!n.features.includes(Lu))throw new hu;try{return(await Zp(this,Dp,"f").features[Lu].signMessage({account:n,message:t}))[0].signature}catch(e){throw new gu(e?.message,e)}}catch(e){throw this.emit("error",e),e}},Vp=async function(t={}){try{if(!(Nu in Zp(this,Dp,"f").features))throw new au;let n;try{[n]=await Zp(this,Dp,"f").features[Nu].signIn(t)}catch(e){throw new yu(e?.message,e)}if(!n)throw new yu;return Zp(this,Bp,"m",Pp).call(this,n.account),n}catch(e){throw this.emit("error",e),e}};const Qp=function(t){return ju in t.features&&_u in t.features&&(Iu in t.features||Bu in t.features)};var Jp;let Xp;const tm=new Set;const em={};function nm(...t){return(t=t.filter(t=>!tm.has(t))).length?(t.forEach(t=>function(t){rm=void 0,tm.add(t)}(t)),em.register?.forEach(e=>sm(()=>e(...t))),function(){t.forEach(t=>function(t){rm=void 0,tm.delete(t)}(t)),em.unregister?.forEach(e=>sm(()=>e(...t)))}):()=>{}}let rm;function im(){return rm||(rm=[...tm]),rm}function om(t,e){return em[t]?.push(e)||(em[t]=[e]),function(){em[t]=em[t]?.filter(t=>e!==t)}}function sm(t){try{t()}catch(e){}}class am extends Event{get detail(){return function(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)}(this,Jp,"f")}get type(){return"wallet-standard:app-ready"}constructor(t){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),Jp.set(this,void 0),function(t,e,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===r?i.call(t,n):i?i.value=n:e.set(t,n)}(this,Jp,t,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}function cm(){if(Xp)return Xp;if(Xp=function(){if(Xp)return Xp;if(Xp=Object.freeze({register:nm,get:im,on:om}),"undefined"==typeof window)return Xp;const t=Object.freeze({register:nm});try{window.addEventListener("wallet-standard:register-wallet",({detail:e})=>e(t))}catch(e){}try{window.dispatchEvent(new am(t))}catch(e){}return Xp}(),"undefined"==typeof window)return Xp;const t=window.navigator.wallets||[];if(!Array.isArray(t))return Xp;const{register:e}=Xp,n=(...t)=>t.forEach(t=>sm(()=>t({register:e})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:n})})}catch(r){return Xp}return n(...t),Xp}function lm(t){const e=um(()=>new Set),{get:r,on:i}=um(()=>cm()),[o,s]=n.useState(()=>hm(r()));n.useEffect(()=>{const t=[i("register",(...t)=>s(e=>[...e,...hm(t)])),i("unregister",(...t)=>s(e=>e.filter(e=>t.some(t=>t===e.wallet))))];return()=>t.forEach(t=>t())},[i]);const a=function(t){const e=n.useRef(void 0);return n.useEffect(()=>{e.current=t}),e.current}(o);return n.useEffect(()=>{if(!a)return;const t=new Set(o);new Set(a.filter(e=>!t.has(e))).forEach(t=>t.destroy())},[a,o]),n.useEffect(()=>()=>o.forEach(t=>t.destroy()),[]),n.useMemo(()=>[...o,...t.filter(({name:t})=>!o.some(e=>e.name===t)||(e.has(t)||e.add(t),!1))],[o,t,e])}function um(t){const e=n.useRef(void 0);return void 0===e.current&&(e.current={value:t()}),e.current.value}function hm(t){return t.filter(Qp).map(t=>new Gp({wallet:t}))}var dm,fm;function pm({children:t,wallets:e,adapter:r,isUnloadingRef:i,onAutoConnectRequest:o,onConnectError:s,onError:c,onSelectWallet:l}){const u=n.useRef(!1),[h,d]=n.useState(!1),f=n.useRef(!1),[p,m]=n.useState(!1),[g,y]=n.useState(()=>r?.publicKey??null),[w,b]=n.useState(()=>r?.connected??!1),v=n.useRef(c);n.useEffect(()=>(v.current=c,()=>{v.current=void 0}),[c]);const x=n.useRef((t,e)=>(i.current||(v.current?v.current(t,e):t instanceof ou&&"undefined"!=typeof window&&e&&window.open(e.url,"_blank")),t)),[E,M]=n.useState(()=>e.map(t=>({adapter:t,readyState:t.readyState})).filter(({readyState:t})=>t!==wu.Unsupported));n.useEffect(()=>{function t(t){M(e=>{const n=e.findIndex(({adapter:t})=>t===this);if(-1===n)return e;const{adapter:r}=e[n];return[...e.slice(0,n),{adapter:r,readyState:t},...e.slice(n+1)].filter(({readyState:t})=>t!==wu.Unsupported)})}return M(t=>e.map((e,n)=>{const r=t[n];return r&&r.adapter===e&&r.readyState===e.readyState?r:{adapter:e,readyState:e.readyState}}).filter(({readyState:t})=>t!==wu.Unsupported)),e.forEach(e=>e.on("readyStateChange",t,e)),()=>{e.forEach(e=>e.off("readyStateChange",t,e))}},[r,e]);const S=n.useMemo(()=>E.find(t=>t.adapter===r)??null,[r,E]);n.useEffect(()=>{if(!r)return;const t=t=>{y(t),u.current=!1,d(!1),b(!0),f.current=!1,m(!1)},e=()=>{i.current||(y(null),u.current=!1,d(!1),b(!1),f.current=!1,m(!1))},n=t=>{x.current(t,r)};return r.on("connect",t),r.on("disconnect",e),r.on("error",n),()=>{r.off("connect",t),r.off("disconnect",e),r.off("error",n),e()}},[r,i]);const A=n.useRef(!1);n.useEffect(()=>()=>{A.current=!1},[r]),n.useEffect(()=>{A.current||u.current||w||!o||S?.readyState!==wu.Installed&&S?.readyState!==wu.Loadable||(u.current=!0,d(!0),A.current=!0,async function(){try{await o()}catch{s()}finally{d(!1),u.current=!1}}())},[w,o,s,S]);const k=n.useCallback(async(t,e,n)=>{if(!r)throw x.current(new Ou);if(!w)throw x.current(new fu,r);return await r.sendTransaction(t,e,n)},[r,w]),I=n.useMemo(()=>r&&"signTransaction"in r?async t=>{if(!w)throw x.current(new fu,r);return await r.signTransaction(t)}:void 0,[r,w]),N=n.useMemo(()=>r&&"signAllTransactions"in r?async t=>{if(!w)throw x.current(new fu,r);return await r.signAllTransactions(t)}:void 0,[r,w]),L=n.useMemo(()=>r&&"signMessage"in r?async t=>{if(!w)throw x.current(new fu,r);return await r.signMessage(t)}:void 0,[r,w]),B=n.useMemo(()=>r&&"signIn"in r?async t=>await r.signIn(t):void 0,[r]),j=n.useCallback(async()=>{if(u.current||f.current||S?.adapter.connected)return;if(!S)throw x.current(new Ou);const{adapter:t,readyState:e}=S;if(e!==wu.Installed&&e!==wu.Loadable)throw x.current(new ou,t);u.current=!0,d(!0);try{await t.connect()}catch(sy){throw s(),sy}finally{d(!1),u.current=!1}},[s,S]),C=n.useCallback(async()=>{if(!f.current&&r){f.current=!0,m(!0);try{await r.disconnect()}finally{m(!1),f.current=!1}}},[r]);return a.createElement(Pu.Provider,{value:{autoConnect:!!o,wallets:E,wallet:S,publicKey:g,connected:w,connecting:h,disconnecting:p,select:l,connect:j,disconnect:C,sendTransaction:k,signTransaction:I,signAllTransactions:N,signMessage:L,signIn:B}},t)}let mm;function gm(t){return function({adapters:t,userAgentString:e}){return t.some(t=>t.name!==vp&&t.readyState===wu.Installed)?dm.DESKTOP_WEB:e&&/android/i.test(e)&&!function(t){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(t)}(e)?dm.MOBILE_WEB:dm.DESKTOP_WEB}({adapters:t,userAgentString:(void 0===mm&&(mm=globalThis.navigator?.userAgent??null),mm)})===dm.MOBILE_WEB}function ym(){const t=globalThis.location;if(t)return`${t.protocol}//${t.host}`}function wm({children:t,wallets:e,autoConnect:r,localStorageKey:i="walletName",onError:o}){const{connection:s}=n.useContext(nu),c=lm(e),l=n.useMemo(()=>{if(!gm(c))return null;const t=c.find(t=>t.name===vp);return t||new Sp({addressSelector:{select(t){return np(this,0,void 0,function*(){return t[0]})}},appIdentity:{uri:ym()},authorizationResultCache:Ap(),cluster:(e=s?.rpcEndpoint,e?/devnet/i.test(e)?"devnet":/testnet/i.test(e)?"testnet":"mainnet-beta":"mainnet-beta"),onWalletNotFound:kp});var e},[c,s?.rpcEndpoint]),u=n.useMemo(()=>null==l||-1!==c.indexOf(l)?c:[l,...c],[c,l]),[h,d]=function(t,e){const r=n.useState(()=>{try{const e=localStorage.getItem(t);if(e)return JSON.parse(e)}catch(n){}return e}),i=r[0],o=n.useRef(!0);return n.useEffect(()=>{if(o.current)o.current=!1;else try{null===i?localStorage.removeItem(t):localStorage.setItem(t,JSON.stringify(i))}catch(e){}},[i,t]),r}(i,null),f=n.useMemo(()=>u.find(t=>t.name===h)??null,[u,h]),p=n.useCallback(t=>{h!==t&&(f&&f.name!==vp&&f.disconnect(),d(t))},[f,d,h]);n.useEffect(()=>{if(f)return f.on("disconnect",t),()=>{f.off("disconnect",t)};function t(){y.current||d(null)}},[f,c,d,h]);const m=n.useRef(!1),g=n.useMemo(()=>{if(r&&f)return async()=>{(!0===r||await r(f))&&(m.current?await f.connect():await f.autoConnect())}},[r,f]),y=n.useRef(!1);n.useEffect(()=>{if(h!==vp||!gm(c))return window.addEventListener("beforeunload",t),()=>{window.removeEventListener("beforeunload",t)};function t(){y.current=!0}y.current=!1},[c,h]);const w=n.useCallback(()=>{f&&p(null)},[f,p]),b=n.useCallback(t=>{m.current=!0,p(t)},[p]);return a.createElement(pm,{wallets:u,adapter:f,isUnloadingRef:y,onAutoConnectRequest:g,onConnectError:w,onError:o,onSelectWallet:b},t)}Jp=new WeakMap,(fm=dm||(dm={}))[fm.DESKTOP_WEB=0]="DESKTOP_WEB",fm[fm.MOBILE_WEB=1]="MOBILE_WEB";const bm={setVisible(t){},visible:!1};Object.defineProperty(bm,"visible",{get:()=>!1});const vm=n.createContext(bm);function xm(){return n.useContext(vm)}const Em=t=>a.createElement("button",{className:`wallet-adapter-button ${t.className||""}`,disabled:t.disabled,style:t.style,onClick:t.onClick,tabIndex:t.tabIndex||0,type:"button"},t.startIcon&&a.createElement("i",{className:"wallet-adapter-button-start-icon"},t.startIcon),t.children,t.endIcon&&a.createElement("i",{className:"wallet-adapter-button-end-icon"},t.endIcon)),Mm=({wallet:t,...e})=>t&&a.createElement("img",{src:t.adapter.icon,alt:`${t.adapter.name} icon`,...e});function Sm({walletIcon:t,walletName:e,...n}){return a.createElement(Em,{...n,className:"wallet-adapter-button-trigger",startIcon:t&&e?a.createElement(Mm,{wallet:{adapter:{icon:t,name:e}}}):void 0})}function Am({children:t,labels:e,...r}){const{setVisible:i}=xm(),{buttonState:o,onConnect:s,onDisconnect:c,publicKey:l,walletIcon:u,walletName:h}=function({onSelectWallet:t}){const{connect:e,connected:r,connecting:i,disconnect:o,disconnecting:s,publicKey:a,select:c,wallet:l,wallets:u}=Fu();let h;h=i?"connecting":r?"connected":s?"disconnecting":l?"has-wallet":"no-wallet";const d=n.useCallback(()=>{e().catch(()=>{})},[e]),f=n.useCallback(()=>{o().catch(()=>{})},[o]);return{buttonState:h,onConnect:"has-wallet"===h?d:void 0,onDisconnect:"disconnecting"!==h&&"no-wallet"!==h?f:void 0,onSelectWallet:n.useCallback(()=>{t({onSelectWallet:c,wallets:u})},[t,c,u]),publicKey:a??void 0,walletIcon:l?.adapter.icon,walletName:l?.adapter.name}}({onSelectWallet(){i(!0)}}),[d,f]=n.useState(!1),[p,m]=n.useState(!1),g=n.useRef(null);n.useEffect(()=>{const t=t=>{const e=g.current;e&&!e.contains(t.target)&&m(!1)};return document.addEventListener("mousedown",t),document.addEventListener("touchstart",t),()=>{document.removeEventListener("mousedown",t),document.removeEventListener("touchstart",t)}},[]);const y=n.useMemo(()=>{if(t)return t;if(l){const t=l.toBase58();return t.slice(0,4)+".."+t.slice(-4)}return"connecting"===o||"has-wallet"===o?e[o]:e["no-wallet"]},[o,t,e,l]);return a.createElement("div",{className:"wallet-adapter-dropdown"},a.createElement(Sm,{...r,"aria-expanded":p,style:{pointerEvents:p?"none":"auto",...r.style},onClick:()=>{switch(o){case"no-wallet":i(!0);break;case"has-wallet":s&&s();break;case"connected":m(!0)}},walletIcon:u,walletName:h},y),a.createElement("ul",{"aria-label":"dropdown-list",className:`wallet-adapter-dropdown-list ${p&&"wallet-adapter-dropdown-list-active"}`,ref:g,role:"menu"},l?a.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:async()=>{await navigator.clipboard.writeText(l.toBase58()),f(!0),setTimeout(()=>f(!1),400)},role:"menuitem"},d?e.copied:e["copy-address"]):null,a.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{i(!0),m(!1)},role:"menuitem"},e["change-wallet"]),c?a.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{c(),m(!1)},role:"menuitem"},e.disconnect):null))}const km=({id:t,children:e,expanded:r=!1})=>{const i=n.useRef(null),o=n.useRef(!0);return n.useLayoutEffect(()=>{r?(()=>{const t=i.current;t&&requestAnimationFrame(()=>{t.style.height=t.scrollHeight+"px"})})():(()=>{const t=i.current;t&&requestAnimationFrame(()=>{t.style.height=t.offsetHeight+"px",t.style.overflow="hidden",requestAnimationFrame(()=>{t.style.height="0"})})})()},[r]),n.useLayoutEffect(()=>{const t=i.current;if(t)return o.current&&(e(),o.current=!1),t.addEventListener("transitionend",n),()=>t.removeEventListener("transitionend",n);function e(){t&&(t.style.overflow=r?"initial":"hidden",r&&(t.style.height="auto"))}function n(n){t&&n.target===t&&"height"===n.propertyName&&e()}},[r]),a.createElement("div",{className:"wallet-adapter-collapse",id:t,ref:i,role:"region",style:{height:0,transition:o.current?void 0:"height 250ms ease-out"}},e)},Im=({handleClick:t,tabIndex:e,wallet:n})=>a.createElement("li",null,a.createElement(Em,{onClick:t,startIcon:a.createElement(Mm,{wallet:n}),tabIndex:e},n.adapter.name,n.readyState===wu.Installed&&a.createElement("span",null,"Detected"))),Nm=()=>a.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),a.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),a.createElement("g",{clipPath:"url(#clip0_880_5115)"},a.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),a.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),a.createElement("defs",null,a.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#9945FF"}),a.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),a.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),a.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),a.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),a.createElement("stop",{offset:"1",stopColor:"#00D18C"})),a.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#9945FF"}),a.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),a.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),a.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),a.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),a.createElement("stop",{offset:"1",stopColor:"#00D18C"})),a.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#9945FF"}),a.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),a.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),a.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),a.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),a.createElement("stop",{offset:"1",stopColor:"#00D18C"})),a.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#9945FF"}),a.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),a.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),a.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),a.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),a.createElement("stop",{offset:"1",stopColor:"#00D18C"})),a.createElement("clipPath",{id:"clip0_880_5115"},a.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"})))),Lm=({className:t="",container:e="body"})=>{const i=n.useRef(null),{wallets:o,select:s}=Fu(),{setVisible:c}=xm(),[l,u]=n.useState(!1),[h,d]=n.useState(!1),[f,p]=n.useState(null),[m,g]=n.useMemo(()=>{const t=[],e=[];for(const n of o)n.readyState===wu.Installed?t.push(n):e.push(n);return t.length?[t,e]:[e,[]]},[o]),y=n.useCallback(()=>{d(!1),setTimeout(()=>c(!1),150)},[c]),w=n.useCallback(t=>{t.preventDefault(),y()},[y]),b=n.useCallback((t,e)=>{s(e),w(t)},[s,w]),v=n.useCallback(()=>u(!l),[l]),x=n.useCallback(t=>{const e=i.current;if(!e)return;const n=e.querySelectorAll("button"),r=n[0],o=n[n.length-1];t.shiftKey?document.activeElement===r&&(o.focus(),t.preventDefault()):document.activeElement===o&&(r.focus(),t.preventDefault())},[i]);return n.useLayoutEffect(()=>{const t=t=>{"Escape"===t.key?y():"Tab"===t.key&&x(t)},{overflow:e}=window.getComputedStyle(document.body);return setTimeout(()=>d(!0),0),document.body.style.overflow="hidden",window.addEventListener("keydown",t,!1),()=>{document.body.style.overflow=e,window.removeEventListener("keydown",t,!1)}},[y,x]),n.useLayoutEffect(()=>p(document.querySelector(e)),[e]),f&&r.createPortal(a.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:`wallet-adapter-modal ${h&&"wallet-adapter-modal-fade-in"} ${t}`,ref:i,role:"dialog"},a.createElement("div",{className:"wallet-adapter-modal-container"},a.createElement("div",{className:"wallet-adapter-modal-wrapper"},a.createElement("button",{onClick:w,className:"wallet-adapter-modal-button-close"},a.createElement("svg",{width:"14",height:"14"},a.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),m.length?a.createElement(a.Fragment,null,a.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),a.createElement("ul",{className:"wallet-adapter-modal-list"},m.map(t=>a.createElement(Im,{key:t.adapter.name,handleClick:e=>b(e,t.adapter.name),wallet:t})),g.length?a.createElement(km,{expanded:l,id:"wallet-adapter-modal-collapse"},g.map(t=>a.createElement(Im,{key:t.adapter.name,handleClick:e=>b(e,t.adapter.name),tabIndex:l?0:-1,wallet:t}))):null),g.length?a.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:v,tabIndex:0},a.createElement("span",null,l?"Less ":"More ","options"),a.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:""+(l?"wallet-adapter-modal-list-more-icon-rotate":"")},a.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):a.createElement(a.Fragment,null,a.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),a.createElement("div",{className:"wallet-adapter-modal-middle"},a.createElement(Nm,null)),g.length?a.createElement(a.Fragment,null,a.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:v,tabIndex:0},a.createElement("span",null,l?"Hide ":"Already have a wallet? View ","options"),a.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:""+(l?"wallet-adapter-modal-list-more-icon-rotate":"")},a.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),a.createElement(km,{expanded:l,id:"wallet-adapter-modal-collapse"},a.createElement("ul",{className:"wallet-adapter-modal-list"},g.map(t=>a.createElement(Im,{key:t.adapter.name,handleClick:e=>b(e,t.adapter.name),tabIndex:l?0:-1,wallet:t}))))):null))),a.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:w})),f)},Bm=({children:t,...e})=>{const[r,i]=n.useState(!1);return a.createElement(vm.Provider,{value:{visible:r,setVisible:i}},t,r&&a.createElement(Lm,{...e}))},jm={"change-wallet":"Change wallet",connecting:"Connecting ...","copy-address":"Copy address",copied:"Copied",disconnect:"Disconnect","has-wallet":"Connect","no-wallet":"Select Wallet"};function Cm(t){return a.createElement(Am,{...t,labels:jm})}const _m={},Tm=function(t,e,n){let r=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const t=document.querySelector("meta[property=csp-nonce]"),n=t?.nonce||t?.getAttribute("nonce");r=Promise.allSettled(e.map(t=>{if((t=function(t){return"/"+t}(t))in _m)return;_m[t]=!0;const e=t.endsWith(".css"),r=e?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${r}`))return;const i=document.createElement("link");return i.rel=e?"stylesheet":"modulepreload",e||(i.as="script"),i.crossOrigin="",i.href=t,n&&i.setAttribute("nonce",n),document.head.appendChild(i),e?new Promise((e,n)=>{i.addEventListener("load",e),i.addEventListener("error",()=>n(new Error(`Unable to preload CSS for ${t}`)))}):void 0}))}function i(t){const e=new Event("vite:preloadError",{cancelable:!0});if(e.payload=t,window.dispatchEvent(e),!e.defaultPrevented)throw t}return r.then(e=>{for(const t of e||[])"rejected"===t.status&&i(t.reason);return t().catch(i)})};class Rm extends Au{constructor(t={}){super(),this.name="Phantom",this.url="https://phantom.app",this.icon="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgZmlsbD0ibm9uZSI+CjxyZWN0IHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiByeD0iMjYiIGZpbGw9IiNBQjlGRjIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ni41MjY3IDY5LjkyMjlDNDIuMDA1NCA3Ni44NTA5IDM0LjQyOTIgODUuNjE4MiAyNC4zNDggODUuNjE4MkMxOS41ODI0IDg1LjYxODIgMTUgODMuNjU2MyAxNSA3NS4xMzQyQzE1IDUzLjQzMDUgNDQuNjMyNiAxOS44MzI3IDcyLjEyNjggMTkuODMyN0M4Ny43NjggMTkuODMyNyA5NCAzMC42ODQ2IDk0IDQzLjAwNzlDOTQgNTguODI1OCA4My43MzU1IDc2LjkxMjIgNzMuNTMyMSA3Ni45MTIyQzcwLjI5MzkgNzYuOTEyMiA2OC43MDUzIDc1LjEzNDIgNjguNzA1MyA3Mi4zMTRDNjguNzA1MyA3MS41NzgzIDY4LjgyNzUgNzAuNzgxMiA2OS4wNzE5IDY5LjkyMjlDNjUuNTg5MyA3NS44Njk5IDU4Ljg2ODUgODEuMzg3OCA1Mi41NzU0IDgxLjM4NzhDNDcuOTkzIDgxLjM4NzggNDUuNjcxMyA3OC41MDYzIDQ1LjY3MTMgNzQuNDU5OEM0NS42NzEzIDcyLjk4ODQgNDUuOTc2OCA3MS40NTU2IDQ2LjUyNjcgNjkuOTIyOVpNODMuNjc2MSA0Mi41Nzk0QzgzLjY3NjEgNDYuMTcwNCA4MS41NTc1IDQ3Ljk2NTggNzkuMTg3NSA0Ny45NjU4Qzc2Ljc4MTYgNDcuOTY1OCA3NC42OTg5IDQ2LjE3MDQgNzQuNjk4OSA0Mi41Nzk0Qzc0LjY5ODkgMzguOTg4NSA3Ni43ODE2IDM3LjE5MzEgNzkuMTg3NSAzNy4xOTMxQzgxLjU1NzUgMzcuMTkzMSA4My42NzYxIDM4Ljk4ODUgODMuNjc2MSA0Mi41Nzk0Wk03MC4yMTAzIDQyLjU3OTVDNzAuMjEwMyA0Ni4xNzA0IDY4LjA5MTYgNDcuOTY1OCA2NS43MjE2IDQ3Ljk2NThDNjMuMzE1NyA0Ny45NjU4IDYxLjIzMyA0Ni4xNzA0IDYxLjIzMyA0Mi41Nzk1QzYxLjIzMyAzOC45ODg1IDYzLjMxNTcgMzcuMTkzMSA2NS43MjE2IDM3LjE5MzFDNjguMDkxNiAzNy4xOTMxIDcwLjIxMDMgMzguOTg4NSA3MC4yMTAzIDQyLjU3OTVaIiBmaWxsPSIjRkZGREY4Ii8+Cjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState="undefined"==typeof window||"undefined"==typeof document?wu.Unsupported:wu.NotDetected,this._disconnected=()=>{const t=this._wallet;t&&(t.off("disconnect",this._disconnected),t.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null,this.emit("error",new lu),this.emit("disconnect"))},this._accountChanged=t=>{const e=this._publicKey;if(e){try{t=new va(t.toBytes())}catch(n){return void this.emit("error",new du(n?.message,n))}e.equals(t)||(this._publicKey=t,this.emit("connect",t))}},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==wu.Unsupported&&(Eu()?(this._readyState=wu.Loadable,this.emit("readyStateChange",this._readyState)):xu(()=>!(!window.phantom?.solana?.isPhantom&&!window.solana?.isPhantom)&&(this._readyState=wu.Installed,this.emit("readyStateChange",this._readyState),!0)))}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async autoConnect(){this.readyState===wu.Installed&&await this.connect()}async connect(){try{if(this.connected||this.connecting)return;if(this.readyState===wu.Loadable){const t=encodeURIComponent(window.location.href),e=encodeURIComponent(window.location.origin);return void(window.location.href=`https://phantom.app/ul/browse/${t}?ref=${e}`)}if(this.readyState!==wu.Installed)throw new ou;this._connecting=!0;const e=window.phantom?.solana||window.solana;if(!e.isConnected)try{await e.connect()}catch(t){throw new cu(t?.message,t)}if(!e.publicKey)throw new hu;let n;try{n=new va(e.publicKey.toBytes())}catch(t){throw new du(t?.message,t)}e.on("disconnect",this._disconnected),e.on("accountChanged",this._accountChanged),this._wallet=e,this._publicKey=n,this.emit("connect",n)}catch(t){throw this.emit("error",t),t}finally{this._connecting=!1}}async disconnect(){const t=this._wallet;if(t){t.off("disconnect",this._disconnected),t.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await t.disconnect()}catch(e){this.emit("error",new uu(e?.message,e))}}this.emit("disconnect")}async sendTransaction(t,e,n={}){try{const i=this._wallet;if(!i)throw new fu;try{const{signers:r,...o}=n;Mu(t)?r?.length&&t.sign(r):(t=await this.prepareTransaction(t,e,o),r?.length&&t.partialSign(...r)),o.preflightCommitment=o.preflightCommitment||e.commitment;const{signature:s}=await i.signAndSendTransaction(t,o);return s}catch(r){if(r instanceof iu)throw r;throw new pu(r?.message,r)}}catch(r){throw this.emit("error",r),r}}async signTransaction(t){try{const n=this._wallet;if(!n)throw new fu;try{return await n.signTransaction(t)||t}catch(e){throw new mu(e?.message,e)}}catch(e){throw this.emit("error",e),e}}async signAllTransactions(t){try{const n=this._wallet;if(!n)throw new fu;try{return await n.signAllTransactions(t)||t}catch(e){throw new mu(e?.message,e)}}catch(e){throw this.emit("error",e),e}}async signMessage(t){try{const n=this._wallet;if(!n)throw new fu;try{const{signature:e}=await n.signMessage(t);return e}catch(e){throw new gu(e?.message,e)}}catch(e){throw this.emit("error",e),e}}}var Om,Dm,zm,Um,Pm,Fm,Wm,qm,Km,Hm,$m,Vm,Zm,Ym,Gm=function(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)};class Qm{constructor(){Om.add(this),Dm.set(this,{}),zm.set(this,"1.0.0"),Um.set(this,"MetaMask"),Pm.set(this,"data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjMxIiB2aWV3Qm94PSIwIDAgMzEgMzEiIHdpZHRoPSIzMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjIwLjI1IiB4Mj0iMjYuNTcxIiB5MT0iMjcuMTczIiB5Mj0iMTkuODU4Ij48c3RvcCBvZmZzZXQ9Ii4wOCIgc3RvcC1jb2xvcj0iIzk5NDVmZiIvPjxzdG9wIG9mZnNldD0iLjMiIHN0b3AtY29sb3I9IiM4NzUyZjMiLz48c3RvcCBvZmZzZXQ9Ii41IiBzdG9wLWNvbG9yPSIjNTQ5N2Q1Ii8+PHN0b3Agb2Zmc2V0PSIuNiIgc3RvcC1jb2xvcj0iIzQzYjRjYSIvPjxzdG9wIG9mZnNldD0iLjcyIiBzdG9wLWNvbG9yPSIjMjhlMGI5Ii8+PHN0b3Agb2Zmc2V0PSIuOTciIHN0b3AtY29sb3I9IiMxOWZiOWIiLz48L2xpbmVhckdyYWRpZW50PjxnIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iLjA5NCI+PHBhdGggZD0ibTI2LjEwOSAzLjY0My05LjM2OSA2Ljk1OSAxLjczMy00LjEwNSA3LjYzNy0yLjg1M3oiIGZpbGw9IiNlMjc2MWIiIHN0cm9rZT0iI2UyNzYxYiIvPjxnIGZpbGw9IiNlNDc2MWIiIHN0cm9rZT0iI2U0NzYxYiI+PHBhdGggZD0ibTQuNDgxIDMuNjQzIDkuMjk0IDcuMDI0LTEuNjQ4LTQuMTcxem0xOC4yNTggMTYuMTMtMi40OTUgMy44MjMgNS4zMzkgMS40NjkgMS41MzUtNS4yMDctNC4zNzgtLjA4NXptLTE5LjI0Ny4wODUgMS41MjUgNS4yMDcgNS4zMzktMS40NjktMi40OTUtMy44MjN6Ii8+PHBhdGggZD0ibTEwLjA1NSAxMy4zMTMtMS40ODggMi4yNTEgNS4zMDEuMjM1LS4xODgtNS42OTd6bTEwLjQ4IDAtMy42NzItMy4yNzctLjEyMiA1Ljc2MyA1LjI5Mi0uMjM1LTEuNDk3LTIuMjUxem0tMTAuMTc4IDEwLjI4MyAzLjE4My0xLjU1NC0yLjc0OS0yLjE0Ny0uNDMzIDMuNzAxem02LjY5NS0xLjU1NCAzLjE5MiAxLjU1NC0uNDQzLTMuNzAxeiIvPjwvZz48cGF0aCBkPSJtMjAuMjQ0IDIzLjU5Ni0zLjE5Mi0xLjU1NC4yNTQgMi4wODEtLjAyOC44NzZ6bS05Ljg4NyAwIDIuOTY2IDEuNDAzLS4wMTktLjg3Ni4yMzUtMi4wODEtMy4xODMgMS41NTR6IiBmaWxsPSIjZDdjMWIzIiBzdHJva2U9IiNkN2MxYjMiLz48cGF0aCBkPSJtMTMuMzY5IDE4LjUyMS0yLjY1NS0uNzgxIDEuODc0LS44NTd6bTMuODUxIDAgLjc4MS0xLjYzOCAxLjg4My44NTctMi42NjUuNzgxeiIgZmlsbD0iIzIzMzQ0NyIgc3Ryb2tlPSIjMjMzNDQ3Ii8+PHBhdGggZD0ibTEwLjM1NyAyMy41OTYuNDUyLTMuODIzLTIuOTQ3LjA4NXptOS40MzUtMy44MjMuNDUyIDMuODIzIDIuNDk1LTMuNzM4em0yLjI0MS00LjIwOS01LjI5Mi4yMzUuNDkgMi43MjEuNzgyLTEuNjM4IDEuODgzLjg1N3ptLTExLjMxOCAyLjE3NSAxLjg4My0uODU3Ljc3MiAxLjYzOC40OTktMi43MjEtNS4zMDEtLjIzNXoiIGZpbGw9IiNjZDYxMTYiIHN0cm9rZT0iI2NkNjExNiIvPjxwYXRoIGQ9Im04LjU2NyAxNS41NjQgMi4yMjIgNC4zMzEtLjA3NS0yLjE1NnptMTEuMzI4IDIuMTc1LS4wOTQgMi4xNTYgMi4yMzItNC4zMzEtMi4xMzcgMi4xNzV6bS02LjAyNi0xLjk0LS40OTkgMi43MjEuNjIxIDMuMjExLjE0MS00LjIyOC0uMjY0LTEuNzA0em0yLjg3MiAwLS4yNTQgMS42OTUuMTEzIDQuMjM3LjYzMS0zLjIxMXoiIGZpbGw9IiNlNDc1MWYiIHN0cm9rZT0iI2U0NzUxZiIvPjxwYXRoIGQ9Im0xNy4yMyAxOC41Mi0uNjMxIDMuMjExLjQ1Mi4zMTEgMi43NS0yLjE0Ny4wOTQtMi4xNTZ6bS02LjUxNi0uNzgxLjA3NSAyLjE1NiAyLjc1IDIuMTQ3LjQ1Mi0uMzExLS42MjItMy4yMTF6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48cGF0aCBkPSJtMTcuMjc3IDI0Ljk5OS4wMjgtLjg3Ni0uMjM1LS4yMDdoLTMuNTVsLS4yMTcuMjA3LjAxOS44NzYtMi45NjYtMS40MDMgMS4wMzYuODQ4IDIuMSAxLjQ1OWgzLjYwNmwyLjEwOS0xLjQ1OSAxLjAzNi0uODQ4eiIgZmlsbD0iI2MwYWQ5ZSIgc3Ryb2tlPSIjYzBhZDllIi8+PHBhdGggZD0ibTE3LjA1MSAyMi4wNDItLjQ1Mi0uMzExaC0yLjYwOGwtLjQ1Mi4zMTEtLjIzNSAyLjA4MS4yMTctLjIwN2gzLjU1bC4yMzUuMjA3LS4yNTQtMi4wODF6IiBmaWxsPSIjMTYxNjE2IiBzdHJva2U9IiMxNjE2MTYiLz48cGF0aCBkPSJtMjYuNTA1IDExLjA1My44LTMuODQyLTEuMTk2LTMuNTY5LTkuMDU4IDYuNzIzIDMuNDg0IDIuOTQ3IDQuOTI1IDEuNDQxIDEuMDkyLTEuMjcxLS40NzEtLjMzOS43NTMtLjY4Ny0uNTg0LS40NTIuNzUzLS41NzQtLjQ5OS0uMzc3em0tMjMuMjExLTMuODQxLjggMy44NDItLjUwOC4zNzcuNzUzLjU3NC0uNTc0LjQ1Mi43NTMuNjg3LS40NzEuMzM5IDEuMDgzIDEuMjcxIDQuOTI1LTEuNDQxIDMuNDg0LTIuOTQ3LTkuMDU5LTYuNzIzeiIgZmlsbD0iIzc2M2QxNiIgc3Ryb2tlPSIjNzYzZDE2Ii8+PHBhdGggZD0ibTI1LjQ2IDE0Ljc1NC00LjkyNS0xLjQ0MSAxLjQ5NyAyLjI1MS0yLjIzMiA0LjMzMSAyLjkzOC0uMDM4aDQuMzc4bC0xLjY1Ny01LjEwNHptLTE1LjQwNS0xLjQ0MS00LjkyNSAxLjQ0MS0xLjYzOCA1LjEwNGg0LjM2OWwyLjkyOC4wMzgtMi4yMjItNC4zMzEgMS40ODgtMi4yNTF6bTYuNjg1IDIuNDg2LjMxMS01LjQzMyAxLjQzMS0zLjg3aC02LjM1NmwxLjQxMyAzLjg3LjMyOSA1LjQzMy4xMTMgMS43MTQuMDA5IDQuMjE5aDIuNjFsLjAxOS00LjIxOS4xMjItMS43MTR6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48L2c+PGNpcmNsZSBjeD0iMjMuNSIgY3k9IjIzLjUiIGZpbGw9IiMwMDAiIHI9IjYuNSIvPjxwYXRoIGQ9Im0yNy40NzMgMjUuNTQ1LTEuMzEgMS4zNjhjLS4wMjkuMDMtLjA2My4wNTMtLjEwMS4wN2EuMzEuMzEgMCAwIDEgLS4xMjEuMDI0aC02LjIwOWMtLjAzIDAtLjA1OS0uMDA4LS4wODMtLjAyNGEuMTUuMTUgMCAwIDEgLS4wNTYtLjA2NWMtLjAxMi0uMDI2LS4wMTUtLjA1Ni0uMDEtLjA4NHMuMDE4LS4wNTUuMDM5LS4wNzZsMS4zMTEtMS4zNjhjLjAyOC0uMDMuMDYzLS4wNTMuMTAxLS4wNjlhLjMxLjMxIDAgMCAxIC4xMjEtLjAyNWg2LjIwOGMuMDMgMCAuMDU5LjAwOC4wODMuMDI0YS4xNS4xNSAwIDAgMSAuMDU2LjA2NWMuMDEyLjAyNi4wMTUuMDU2LjAxLjA4NHMtLjAxOC4wNTUtLjAzOS4wNzZ6bS0xLjMxLTIuNzU2Yy0uMDI5LS4wMy0uMDYzLS4wNTMtLjEwMS0uMDdhLjMxLjMxIDAgMCAwIC0uMTIxLS4wMjRoLTYuMjA5Yy0uMDMgMC0uMDU5LjAwOC0uMDgzLjAyNHMtLjA0NC4wMzgtLjA1Ni4wNjUtLjAxNS4wNTYtLjAxLjA4NC4wMTguMDU1LjAzOS4wNzZsMS4zMTEgMS4zNjhjLjAyOC4wMy4wNjMuMDUzLjEwMS4wNjlhLjMxLjMxIDAgMCAwIC4xMjEuMDI1aDYuMjA4Yy4wMyAwIC4wNTktLjAwOC4wODMtLjAyNGEuMTUuMTUgMCAwIDAgLjA1Ni0uMDY1Yy4wMTItLjAyNi4wMTUtLjA1Ni4wMS0uMDg0cy0uMDE4LS4wNTUtLjAzOS0uMDc2em0tNi40MzEtLjk4M2g2LjIwOWEuMzEuMzEgMCAwIDAgLjEyMS0uMDI0Yy4wMzgtLjAxNi4wNzMtLjA0LjEwMS0uMDdsMS4zMS0xLjM2OGMuMDItLjAyMS4wMzQtLjA0Ny4wMzktLjA3NnMuMDAxLS4wNTgtLjAxLS4wODRhLjE1LjE1IDAgMCAwIC0uMDU2LS4wNjVjLS4wMjUtLjAxNi0uMDU0LS4wMjQtLjA4My0uMDI0aC02LjIwOGEuMzEuMzEgMCAwIDAgLS4xMjEuMDI1Yy0uMDM4LjAxNi0uMDcyLjA0LS4xMDEuMDY5bC0xLjMxIDEuMzY4Yy0uMDIuMDIxLS4wMzQuMDQ3LS4wMzkuMDc2cy0uMDAxLjA1OC4wMS4wODQuMDMxLjA0OS4wNTYuMDY1LjA1NC4wMjQuMDgzLjAyNHoiIGZpbGw9InVybCgjYSkiLz48L3N2Zz4="),Fm.set(this,null),Wm.set(this,(t,e)=>(Gm(this,Dm,"f")[t]?.push(e)||(Gm(this,Dm,"f")[t]=[e]),()=>Gm(this,Om,"m",Km).call(this,t,e))),Hm.set(this,async()=>{if(!Gm(this,Fm,"f")){let e;try{e=(await Tm(async()=>{const{default:t}=await import("./index-BRtt5sOf.js");return{default:t}},__vite__mapDeps([0,1]))).default}catch(t){throw new Error("Unable to load Solflare MetaMask SDK")}!function(t,e,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===r?i.call(t,n):i?i.value=n:e.set(t,n)}(this,Fm,new e,"f"),Gm(this,Fm,"f").on("standard_change",t=>Gm(this,Om,"m",qm).call(this,"change",t))}return this.accounts.length||await Gm(this,Fm,"f").connect(),{accounts:this.accounts}}),$m.set(this,async()=>{Gm(this,Fm,"f")&&await Gm(this,Fm,"f").disconnect()}),Vm.set(this,async(...t)=>{if(!Gm(this,Fm,"f"))throw new fu;return await Gm(this,Fm,"f").standardSignAndSendTransaction(...t)}),Zm.set(this,async(...t)=>{if(!Gm(this,Fm,"f"))throw new fu;return await Gm(this,Fm,"f").standardSignTransaction(...t)}),Ym.set(this,async(...t)=>{if(!Gm(this,Fm,"f"))throw new fu;return await Gm(this,Fm,"f").standardSignMessage(...t)})}get version(){return Gm(this,zm,"f")}get name(){return Gm(this,Um,"f")}get icon(){return Gm(this,Pm,"f")}get chains(){return[wd,bd,vd]}get features(){return{[ju]:{version:"1.0.0",connect:Gm(this,Hm,"f")},[Cu]:{version:"1.0.0",disconnect:Gm(this,$m,"f")},[_u]:{version:"1.0.0",on:Gm(this,Wm,"f")},[Iu]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:Gm(this,Vm,"f")},[Bu]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:Gm(this,Zm,"f")},[Lu]:{version:"1.0.0",signMessage:Gm(this,Ym,"f")}}}get accounts(){return Gm(this,Fm,"f")?Gm(this,Fm,"f").standardAccounts:[]}}Dm=new WeakMap,zm=new WeakMap,Um=new WeakMap,Pm=new WeakMap,Fm=new WeakMap,Wm=new WeakMap,Hm=new WeakMap,$m=new WeakMap,Vm=new WeakMap,Zm=new WeakMap,Ym=new WeakMap,Om=new WeakSet,qm=function(t,...e){Gm(this,Dm,"f")[t]?.forEach(t=>t.apply(null,e))},Km=function(t,e){Gm(this,Dm,"f")[t]=Gm(this,Dm,"f")[t]?.filter(t=>e!==t)};let Jm=!1;function Xm(){Jm||(!function(t){const e=({register:e})=>e(t);try{window.dispatchEvent(new Np(e))}catch(n){}try{window.addEventListener("wallet-standard:app-ready",({detail:t})=>e(t))}catch(n){}}(new Qm),Jm=!0)}class tg extends Au{constructor(t={}){super(),this.name="Solflare",this.url="https://solflare.com",this.icon="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGlkPSJTIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MCA1MCI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiMwMjA1MGE7c3Ryb2tlOiNmZmVmNDY7c3Ryb2tlLW1pdGVybGltaXQ6MTA7c3Ryb2tlLXdpZHRoOi41cHg7fS5jbHMtMntmaWxsOiNmZmVmNDY7fTwvc3R5bGU+PC9kZWZzPjxyZWN0IGNsYXNzPSJjbHMtMiIgeD0iMCIgd2lkdGg9IjUwIiBoZWlnaHQ9IjUwIiByeD0iMTIiIHJ5PSIxMiIvPjxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTI0LjIzLDI2LjQybDIuNDYtMi4zOCw0LjU5LDEuNWMzLjAxLDEsNC41MSwyLjg0LDQuNTEsNS40MywwLDEuOTYtLjc1LDMuMjYtMi4yNSw0LjkzbC0uNDYuNS4xNy0xLjE3Yy42Ny00LjI2LS41OC02LjA5LTQuNzItNy40M2wtNC4zLTEuMzhoMFpNMTguMDUsMTEuODVsMTIuNTIsNC4xNy0yLjcxLDIuNTktNi41MS0yLjE3Yy0yLjI1LS43NS0zLjAxLTEuOTYtMy4zLTQuNTF2LS4wOGgwWk0xNy4zLDMzLjA2bDIuODQtMi43MSw1LjM0LDEuNzVjMi44LjkyLDMuNzYsMi4xMywzLjQ2LDUuMThsLTExLjY1LTQuMjJoMFpNMTMuNzEsMjAuOTVjMC0uNzkuNDItMS41NCwxLjEzLTIuMTcuNzUsMS4wOSwyLjA1LDIuMDUsNC4wOSwyLjcxbDQuNDIsMS40Ni0yLjQ2LDIuMzgtNC4zNC0xLjQyYy0yLS42Ny0yLjg0LTEuNjctMi44NC0yLjk2TTI2LjgyLDQyLjg3YzkuMTgtNi4wOSwxNC4xMS0xMC4yMywxNC4xMS0xNS4zMiwwLTMuMzgtMi01LjI2LTYuNDMtNi43MmwtMy4zNC0xLjEzLDkuMTQtOC43Ny0xLjg0LTEuOTYtMi43MSwyLjM4LTEyLjgxLTQuMjJjLTMuOTcsMS4yOS04Ljk3LDUuMDktOC45Nyw4Ljg5LDAsLjQyLjA0LjgzLjE3LDEuMjktMy4zLDEuODgtNC42MywzLjYzLTQuNjMsNS44LDAsMi4wNSwxLjA5LDQuMDksNC41NSw1LjIybDIuNzUuOTItOS41Miw5LjE0LDEuODQsMS45NiwyLjk2LTIuNzEsMTQuNzMsNS4yMmgwWiIvPjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState="undefined"==typeof window||"undefined"==typeof document?wu.Unsupported:wu.Loadable,this._disconnected=()=>{const t=this._wallet;t&&(t.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new lu),this.emit("disconnect"))},this._accountChanged=t=>{if(!t)return;const e=this._publicKey;if(e){try{t=new va(t.toBytes())}catch(n){return void this.emit("error",new du(n?.message,n))}e.equals(t)||(this._publicKey=t,this.emit("connect",t))}},this._connecting=!1,this._publicKey=null,this._wallet=null,this._config=t,this._readyState!==wu.Unsupported&&(xu(()=>!(!window.solflare?.isSolflare&&!window.SolflareApp)&&(this._readyState=wu.Installed,this.emit("readyStateChange",this._readyState),!0)),async function(){const t="solflare-detect-metamask";function e(){window.postMessage({target:"metamask-contentscript",data:{name:"metamask-provider",data:{id:t,jsonrpc:"2.0",method:"wallet_getSnaps"}}},window.location.origin)}function n(r){const i=r.data;"metamask-inpage"===i?.target&&"metamask-provider"===i.data?.name&&(i.data.data?.id===t?(window.removeEventListener("message",n),i.data.data.error||Xm()):e())}window.addEventListener("message",n),window.setTimeout(()=>window.removeEventListener("message",n),5e3),e()}())}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){return!!this._wallet?.connected}get readyState(){return this._readyState}async autoConnect(){this.readyState===wu.Loadable&&Eu()||await this.connect()}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==wu.Loadable&&this._readyState!==wu.Installed)throw new ou;if(this.readyState===wu.Loadable&&Eu()){const t=encodeURIComponent(window.location.href),e=encodeURIComponent(window.location.origin);return void(window.location.href=`https://solflare.com/ul/v1/browse/${t}?ref=${e}`)}let e,n,r;try{e=(await Tm(async()=>{const{default:t}=await import("./index-CexNA7ea.js");return{default:t}},__vite__mapDeps([2,1]))).default}catch(t){throw new su(t?.message,t)}try{n=new e({network:this._config.network})}catch(t){throw new au(t?.message,t)}if(this._connecting=!0,!n.connected)try{await n.connect()}catch(t){throw new cu(t?.message,t)}if(!n.publicKey)throw new cu;try{r=new va(n.publicKey.toBytes())}catch(t){throw new du(t?.message,t)}n.on("disconnect",this._disconnected),n.on("accountChanged",this._accountChanged),this._wallet=n,this._publicKey=r,this.emit("connect",r)}catch(t){throw this.emit("error",t),t}finally{this._connecting=!1}}async disconnect(){const t=this._wallet;if(t){t.off("disconnect",this._disconnected),t.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await t.disconnect()}catch(e){this.emit("error",new uu(e?.message,e))}}this.emit("disconnect")}async sendTransaction(t,e,n={}){try{const i=this._wallet;if(!i)throw new fu;try{const{signers:r,...o}=n;return Mu(t)?r?.length&&t.sign(r):(t=await this.prepareTransaction(t,e,o),r?.length&&t.partialSign(...r)),o.preflightCommitment=o.preflightCommitment||e.commitment,await i.signAndSendTransaction(t,o)}catch(r){if(r instanceof iu)throw r;throw new pu(r?.message,r)}}catch(r){throw this.emit("error",r),r}}async signTransaction(t){try{const n=this._wallet;if(!n)throw new fu;try{return await n.signTransaction(t)||t}catch(e){throw new mu(e?.message,e)}}catch(e){throw this.emit("error",e),e}}async signAllTransactions(t){try{const n=this._wallet;if(!n)throw new fu;try{return await n.signAllTransactions(t)||t}catch(e){throw new mu(e?.message,e)}}catch(e){throw this.emit("error",e),e}}async signMessage(t){try{const n=this._wallet;if(!n)throw new fu;try{return await n.signMessage(t,"utf8")}catch(e){throw new gu(e?.message,e)}}catch(e){throw this.emit("error",e),e}}}function eg({src:t,alt:e,width:n=120,height:r=120,className:i=""}){return y.jsx("img",{src:t,alt:e,width:n,height:r,className:`${i} object-contain`,loading:"eager"})}const ng=()=>{const[t,e]=n.useState(!1);return y.jsx("header",{className:"fixed left-1/2 top-4 z-50 w-[95%] max-w-[800px] -translate-x-1/2",children:y.jsxs("div",{className:"relative w-full overflow-visible rounded-full bg-white/5 px-3 py-3 shadow-md backdrop-blur-lg sm:px-6 sm:py-4",children:[y.jsx("div",{className:"absolute left-0 top-0 h-[2px] w-full rounded-full bg-gradient-to-r from-transparent via-forge-steel/50 to-transparent"}),y.jsx("div",{className:"absolute left-0 top-[2px] h-[1px] w-full rounded-full bg-gradient-to-r from-transparent via-solana-purple/40 to-transparent"}),y.jsxs("div",{className:"relative flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx(eg,{src:"/assets/logo-DLbjMjf9.svg",alt:"Brokk Logo",width:20,height:20,className:"brightness-0 invert"}),y.jsx("a",{href:"#home",className:"group relative whitespace-nowrap font-title",children:y.jsxs("div",{className:"relative z-10 flex flex-col text-[8px] font-bold uppercase leading-none tracking-wider text-gray-300",children:[y.jsx("span",{className:"relative z-10",children:"BROKK"}),y.jsx("span",{className:"relative z-10",children:"POOLS"})]})})]}),y.jsxs("div",{className:"ml-auto flex items-center gap-3",children:[y.jsxs("a",{href:"/dashboard",className:"hidden items-center gap-2 rounded-full bg-solana-purple px-4 py-2 text-xs font-medium uppercase tracking-wider text-white transition-all duration-300 hover:bg-solana-purple/80 lg:flex",children:[y.jsx("span",{children:"Dashboard"}),y.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})]}),y.jsxs("div",{className:"hidden items-center gap-2 lg:flex",children:[y.jsx("a",{href:"https://twitter.com/brokkpools",target:"_blank",rel:"noopener noreferrer",className:"group relative flex h-8 w-8 items-center justify-center rounded-full bg-white/5 transition-all duration-300 hover:bg-white/10","aria-label":"Twitter",children:y.jsx("svg",{className:"h-4 w-4 text-gray-300 transition-colors duration-300 group-hover:text-gray-100",fill:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})}),y.jsx("a",{href:"https://discord.gg/brokkpools",target:"_blank",rel:"noopener noreferrer",className:"group relative flex h-8 w-8 items-center justify-center rounded-full bg-white/5 transition-all duration-300 hover:bg-white/10","aria-label":"Discord",children:y.jsx("svg",{className:"h-4 w-4 text-gray-300 transition-colors duration-300 group-hover:text-gray-100",fill:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{d:"M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515a.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0a12.64 12.64 0 0 0-.617-1.25a.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057a19.9 19.9 0 0 0 5.993 3.03a.078.078 0 0 0 .084-.028a14.09 14.09 0 0 0 1.226-1.994a.076.076 0 0 0-.041-.106a13.107 13.107 0 0 1-1.872-.892a.077.077 0 0 1-.008-.128a10.2 10.2 0 0 0 .372-.292a.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127a12.299 12.299 0 0 1-1.873.892a.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028a19.839 19.839 0 0 0 6.002-3.03a.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.956-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.955-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.946 2.418-2.157 2.418z"})})}),y.jsx("a",{href:"https://t.me/brokkpools",target:"_blank",rel:"noopener noreferrer",className:"group relative flex h-8 w-8 items-center justify-center rounded-full bg-white/5 transition-all duration-300 hover:bg-white/10","aria-label":"Telegram",children:y.jsx("svg",{className:"h-4 w-4 text-gray-300 transition-colors duration-300 group-hover:text-gray-100",fill:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12a12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472c-.18 1.898-.962 6.502-1.36 8.627c-.168.9-.499 1.201-.82 1.23c-.696.065-1.225-.46-1.9-.902c-1.056-.693-1.653-1.124-2.678-1.8c-1.185-.78-.417-1.21.258-1.91c.177-.184 3.247-2.977 3.307-3.23c.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345c-.48.33-.913.49-1.302.48c-.428-.008-1.252-.241-1.865-.44c-.752-.245-1.349-.374-1.297-.789c.027-.216.325-.437.893-.663c3.498-1.524 5.83-2.529 6.998-3.014c3.332-1.386 4.025-1.627 4.476-1.635z"})})})]}),y.jsxs("button",{onClick:()=>e(!t),className:"relative z-50 flex h-8 w-8 flex-col items-center justify-center gap-1.5 lg:hidden","aria-label":"Toggle menu",children:[y.jsx("span",{className:"block h-0.5 w-5 bg-gray-300 transition-all duration-300 "+(t?"translate-y-2 rotate-45":"")}),y.jsx("span",{className:"block h-0.5 w-5 bg-gray-300 transition-all duration-300 "+(t?"opacity-0":"")}),y.jsx("span",{className:"block h-0.5 w-5 bg-gray-300 transition-all duration-300 "+(t?"-translate-y-2 -rotate-45":"")})]})]})]}),t&&y.jsxs("nav",{className:"absolute left-0 right-0 top-full mt-2 rounded-3xl bg-gradient-to-br from-forge-metaldark/50         to-forge-deepblack/30\n        shadow-lg\n        backdrop-blur-xl lg:hidden",children:[y.jsx("div",{className:"absolute inset-0 rounded-3xl backdrop-blur-xl"}),y.jsxs("div",{className:"relative z-10 flex flex-col gap-1 rounded-2xl p-4 backdrop-blur-xl ",children:[y.jsx("a",{href:"/dashboard",onClick:()=>e(!1),className:"group relative rounded-xl bg-solana-purple px-4 py-3 text-center text-sm font-medium uppercase tracking-wider text-white transition-all duration-300 hover:bg-solana-purple/80",children:y.jsx("span",{className:"relative z-10",children:"Dashboard"})}),y.jsxs("div",{className:"mt-2 flex items-center justify-center gap-3",children:[y.jsx("a",{href:"https://twitter.com/brokkpools",target:"_blank",rel:"noopener noreferrer",className:"group relative flex h-10 w-10 items-center justify-center rounded-full bg-white/5 transition-all duration-300 hover:bg-white/10","aria-label":"Twitter",children:y.jsx("svg",{className:"h-5 w-5 text-gray-300 transition-colors duration-300 group-hover:text-gray-100",fill:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})}),y.jsx("a",{href:"https://discord.gg/brokkpools",target:"_blank",rel:"noopener noreferrer",className:"group relative flex h-10 w-10 items-center justify-center rounded-full bg-white/5 transition-all duration-300 hover:bg-white/10","aria-label":"Discord",children:y.jsx("svg",{className:"h-5 w-5 text-gray-300 transition-colors duration-300 group-hover:text-gray-100",fill:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{d:"M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515a.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0a12.64 12.64 0 0 0-.617-1.25a.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057a19.9 19.9 0 0 0 5.993 3.03a.078.078 0 0 0 .084-.028a14.09 14.09 0 0 0 1.226-1.994a.076.076 0 0 0-.041-.106a13.107 13.107 0 0 1-1.872-.892a.077.077 0 0 1-.008-.128a10.2 10.2 0 0 0 .372-.292a.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127a12.299 12.299 0 0 1-1.873.892a.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028a19.839 19.839 0 0 0 6.002-3.03a.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.956-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.955-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.946 2.418-2.157 2.418z"})})}),y.jsx("a",{href:"https://t.me/brokkpools",target:"_blank",rel:"noopener noreferrer",className:"group relative flex h-10 w-10 items-center justify-center rounded-full bg-white/5 transition-all duration-300 hover:bg-white/10","aria-label":"Telegram",children:y.jsx("svg",{className:"h-5 w-5 text-gray-300 transition-colors duration-300 group-hover:text-gray-100",fill:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12a12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472c-.18 1.898-.962 6.502-1.36 8.627c-.168.9-.499 1.201-.82 1.23c-.696.065-1.225-.46-1.9-.902c-1.056-.693-1.653-1.124-2.678-1.8c-1.185-.78-.417-1.21.258-1.91c.177-.184 3.247-2.977 3.307-3.23c.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345c-.48.33-.913.49-1.302.48c-.428-.008-1.252-.241-1.865-.44c-.752-.245-1.349-.374-1.297-.789c.027-.216.325-.437.893-.663c3.498-1.524 5.83-2.529 6.998-3.014c3.332-1.386 4.025-1.627 4.476-1.635z"})})})]})]})]})]})})},rg="BROKK POOLS",ig="Forge your liquidity. Master your yield.",og="Create, optimize, and rebalance your pools with the precision of a blacksmith forging divine tools.",sg="Forge Your Future on Solana",ag=[{text:"LAUNCH APP",href:"#",ariaLabel:"Launch Brokk Pools application"},{text:"LEARN MORE",href:"#",ariaLabel:"Learn more about Brokk Pools application"}];function cg({text:t,href:e,ariaLabel:n,className:r=""}){return y.jsxs("a",{href:e,"aria-label":n,className:`\n        ${r}\n        group\n        relative\n        inline-block\n        min-h-[44px]\n        overflow-hidden\n        rounded-lg\n        bg-gradient-to-br\n        from-forge-metaldark/70\n        to-forge-deepblack/40\n        px-8\n        py-3\n        font-display\n        text-lg\n        font-bold\n        text-gray-200\n        shadow-lg\n        backdrop-blur-xl\n        transition-all\n        duration-500\n        hover:scale-105\n        hover:text-gray-100\n        focus:outline-none\n        focus:ring-2\n        focus:ring-offset-2\n        focus:ring-offset-forge-deepblack\n      `,children:[y.jsx("div",{className:"absolute left-0 top-0 h-[2px] w-full bg-gradient-to-r from-transparent via-forge-steel/40 to-transparent"}),y.jsx("div",{className:"absolute left-0 top-[2px] h-[1px] w-full bg-gradient-to-r from-transparent via-solana-purple/50 to-transparent opacity-0 transition-opacity duration-500 group-hover:opacity-100"}),y.jsx("div",{className:"absolute bottom-0 left-0 h-[1px] w-0 bg-gradient-to-r from-solana-purple/20 to-solana-purple/40 transition-all duration-700 group-hover:w-full"}),y.jsx("span",{className:"relative font-display text-lg font-medium tracking-wide text-gray-300/70 group-hover:text-gray-100",children:t})]})}const lg=()=>y.jsxs("section",{id:"hero","aria-labelledby":"hero-title",className:"relative flex min-h-screen w-full flex-col items-center justify-center px-6 py-12 text-center md:px-12",children:[y.jsx("div",{className:"absolute inset-0 bg-[url('/assets/background3.png')] bg-cover bg-top bg-no-repeat"}),y.jsx("div",{className:"absolute inset-0 bg-black/15 backdrop-blur-[0.5px]"}),y.jsx("div",{className:"absolute inset-x-0 bottom-0 h-60 bg-gradient-to-b from-transparent via-solana-gray/70 to-solana-gray"}),y.jsxs("div",{className:"relative z-10 flex max-w-5xl flex-col items-center gap-8",children:[y.jsxs("div",{className:"animate-slide-in-bottom inline-flex  items-center gap-2 rounded-full border border-[rgba(245,242,237,0.2)] px-4 py-2 backdrop-blur-sm",style:{animationDelay:"0.1s"},children:[y.jsx("div",{className:"h-2 w-2 animate-pulse rounded-full bg-solana-green"}),y.jsx("span",{className:"text-sm",children:sg})]}),y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsx("h1",{id:"hero-title",className:"animate-fade-in-delayed font-title text-4xl font-bold leading-tight sm:text-6xl md:text-7xl lg:text-8xl xl:text-9xl",children:rg}),y.jsx("p",{className:"max-w-3xl animate-fade-in-delayed font-body text-xl font-medium leading-relaxed text-gray-300 sm:text-2xl md:text-3xl lg:text-4xl",children:ig}),y.jsx("p",{className:"max-w-xl animate-fade-in-delayed font-body text-base leading-relaxed text-gray-300 sm:text-lg",children:og})]}),y.jsxs("div",{className:"mt-4 flex animate-fade-in-delayed flex-col items-center justify-center gap-4 sm:flex-row sm:gap-6 md:gap-20",children:[y.jsx(cg,{text:ag[0].text,href:ag[0].href,ariaLabel:ag[0].ariaLabel}),y.jsx(cg,{text:ag[1].text,href:ag[1].href,ariaLabel:ag[1].ariaLabel})]})]}),y.jsx("div",{className:"absolute bottom-10 left-10 h-32 w-32 rounded-full bg-solana-purple/10 blur-3xl"}),y.jsx("div",{className:"absolute right-10 top-10 h-32 w-32 rounded-full bg-solana-green/10 blur-3xl"})]}),ug=[{id:"discover-pools",title:"Discover Pools",description:"Explore all Orca liquidity pools with real-time analytics, performance metrics, and historical data visualization.",icon:"analytics",order:1},{id:"your-dashboard",title:"Your Dashboard",description:"Track your positions, monitor yields, and calculate impermanent loss with precision-forged analytics.",icon:"security",order:2},{id:"top-positions",title:"Top Positions",description:"Discover the highest-performing positions and learn from the masters of DeFi liquidity provision.",icon:"yields",order:3}],hg=t=>{const e=(t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,n)=>n?n.toUpperCase():e.toLowerCase()))(t);return e.charAt(0).toUpperCase()+e.slice(1)},dg=(...t)=>t.filter((t,e,n)=>Boolean(t)&&""!==t.trim()&&n.indexOf(t)===e).join(" ").trim(),fg=t=>{for(const e in t)if(e.startsWith("aria-")||"role"===e||"title"===e)return!0};
/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
var pg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mg=n.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:i,className:o="",children:s,iconNode:a,...c},l)=>n.createElement("svg",{ref:l,...pg,width:e,height:e,stroke:t,strokeWidth:i?24*Number(r)/Number(e):r,className:dg("lucide",o),...!s&&!fg(c)&&{"aria-hidden":"true"},...c},[...a.map(([t,e])=>n.createElement(t,e)),...Array.isArray(s)?s:[s]])),gg=(t,e)=>{const r=n.forwardRef(({className:r,...i},o)=>{return n.createElement(mg,{ref:o,iconNode:e,className:dg(`lucide-${s=hg(t),s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${t}`,r),...i});var s});return r.displayName=hg(t),r},yg=gg("chart-line",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]),wg=gg("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),bg={analytics:yg,yields:gg("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),security:wg};
/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */function vg({feature:t}){const e=100*t.order+"ms",n=t.icon?bg[t.icon]:null;return y.jsxs("div",{className:"group relative flex flex-col items-center gap-4 overflow-hidden rounded-lg bg-gradient-to-br from-forge-metaldark/90 to-forge-deepblack/80 p-6 text-center shadow-md backdrop-blur-xl transition-all duration-500 hover:border-solana-purple/60 hover:shadow-lg sm:p-8",style:{animationDelay:e},children:[y.jsx("div",{className:"absolute left-0 top-0 h-[2px] w-full bg-gradient-to-r from-transparent via-forge-steel/40 to-transparent"}),y.jsx("div",{className:"absolute left-2 top-0 h-full w-[1px] bg-gradient-to-b from-transparent via-solana-purple/30 to-transparent opacity-0 transition-opacity duration-500 group-hover:opacity-100"}),y.jsx("div",{className:"absolute right-2 top-0 h-full w-[1px] bg-gradient-to-b from-transparent via-solana-purple/30 to-transparent opacity-0 transition-opacity duration-500 group-hover:opacity-100",style:{transitionDelay:"0.1s"}}),y.jsx("div",{className:"absolute -left-20 -top-20 h-40 w-40 rounded-full bg-solana-purple/15 opacity-0 blur-3xl transition-opacity duration-500 group-hover:opacity-100"}),n&&y.jsx("div",{className:"relative transition-transform duration-500 group-hover:scale-110",children:y.jsx(n,{className:"relative h-10 w-10 text-solana-purple transition-all duration-500",strokeWidth:.5})}),y.jsx("h3",{className:"relative font-body text-xl font-medium text-gray-200 transition-all duration-500 group-hover:text-gray-100 sm:text-2xl",children:t.title}),y.jsx("p",{className:"relative text-sm leading-relaxed text-gray-400 transition-colors duration-300 group-hover:text-gray-300 sm:text-base",children:t.description}),y.jsx("div",{className:"absolute bottom-0 left-0 h-[1px] w-0 bg-gradient-to-r from-solana-purple/10 to-solana-purple/60 transition-all duration-700 group-hover:w-full"})]})}const xg=()=>y.jsx("section",{id:"features","aria-labelledby":"features-title",className:"relative w-full px-6 py-20 md:px-12 lg:py-32",children:y.jsxs("div",{className:"relative z-10 mx-auto max-w-7xl",children:[y.jsx("h2",{id:"features-title",className:"mb-16 text-center font-title text-4xl font-bold drop-shadow-md md:text-5xl",children:"Forged Features"}),y.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 sm:gap-8 lg:grid-cols-3",children:ug.map(t=>y.jsx(vg,{feature:t},t.id))})]})}),Eg=[{id:"social-x",platform:"x",label:"X",url:"https://x.com/Brokkfinance",ariaLabel:"Follow Brokk Pools on X"},{id:"social-discord",platform:"discord",label:"Discord",url:"https://discord.gg/Brokkfinance",ariaLabel:"Join Brokk Pools Discord community"},{id:"social-docs",platform:"docs",label:"Documentation",url:"https://docs.Brokkfinance.com",ariaLabel:"Read Brokk Pools documentation"}];function Mg({platform:t}){const e="w-5 h-5 sm:w-6 sm:h-6 fill-current";return"x"===t?y.jsx("svg",{className:e,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})}):"discord"===t?y.jsx("svg",{className:e,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{d:"M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028c.462-.63.874-1.295 1.226-1.994a.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"})}):"docs"===t?y.jsx("svg",{className:e,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm4 18H6V4h7v5h5v11zM8 15h8v2H8v-2zm0-4h8v2H8v-2zm0-4h5v2H8V7z"})}):null}const Sg=()=>y.jsxs("footer",{id:"footer",className:"relative w-full border-t border-forge-steel/10 bg-gradient-to-b from-forge-deepblack/40 to-forge-deepblack/80 backdrop-blur-xl",children:[y.jsx("div",{className:"absolute left-0 top-0 h-[1px] w-full bg-gradient-to-r from-transparent via-solana-purple/40 to-transparent"}),y.jsx("div",{className:"relative mx-auto max-w-7xl px-6 py-6",children:y.jsxs("div",{className:"flex flex-col items-center justify-between gap-4 sm:flex-row",children:[y.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[y.jsxs("span",{className:"font-display",children:["Â© ",(new Date).getFullYear()," Brokk Pools"]}),y.jsx("span",{className:"hidden text-forge-steel/40 sm:inline",children:"â€¢"}),y.jsx("span",{className:"hidden text-xs sm:inline",children:"Forged in DeFi"})]}),y.jsx("div",{className:"flex items-center gap-3",children:Eg.map(t=>y.jsx("a",{href:t.url,target:"_blank",rel:"noopener noreferrer","aria-label":t.ariaLabel,className:"group relative",children:y.jsx("div",{className:"relative rounded-full bg-forge-metaldark/40 p-2 transition-all duration-300 hover:scale-110 hover:bg-forge-metaldark/60",children:y.jsx("div",{className:"relative",children:y.jsx(Mg,{platform:t.platform})})})},t.id))})]})})]}),Ag=[{id:"ancient-forge",title:"Ancient Forge",description:"In the ancient halls of SvartÃ¡lfheim, Brokk the dwarf forged legendary artifacts of immeasurable power. His hammer crafted Thor's MjÃ¶lnir, weapons that shaped the fate of gods.",order:1},{id:"cyberpunk-awakening",title:"Cyberpunk Awakening",description:"Millennia later, in a future where blockchain and mythology converge, Brokk awakens in a cyberpunk realm. His forge now glows with neon light, his anvil strikes echo across the Solana network.",order:2},{id:"new-masterwork",title:"The Masterwork",description:"His new mission: forge tools that empower mortals to navigate the decentralized cosmos. Brokk Pools is his masterworkâ€”where data is hammered into wisdom, and liquidity becomes lightning.",order:3}],kg=()=>y.jsx("section",{id:"about",className:"relative w-full px-6 py-20 md:px-12 lg:py-32",children:y.jsxs("div",{className:"relative z-10 mx-auto max-w-7xl",children:[y.jsx("h2",{id:"about-title",className:"mb-16 text-center font-title text-4xl font-bold drop-shadow-md md:text-5xl",children:"The Legend of Brokk"}),y.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 sm:gap-8 lg:grid-cols-3",children:Ag.map(t=>y.jsx(vg,{feature:t},t.id))})]})});function Ig(){const{wallet:t,publicKey:e,connected:r,connecting:i,connect:o,disconnect:s,select:a}=Fu(),c=n.useCallback(async()=>{try{await o()}catch(t){throw t}},[o]),l=n.useCallback(async()=>{try{await s()}catch(t){throw t}},[s]),u=n.useCallback(()=>{if(!e)return null;const t=e.toString();return t.length<=8?t:`${t.slice(0,4)}...${t.slice(-4)}`},[e]);return{wallet:t,publicKey:e,connected:r,connecting:i,connect:c,disconnect:l,select:a,displayAddress:u(),adapterName:t?.adapter.name||null}}const Ng={USD:2,PERCENTAGE:2};function Lg(t){const e=t;return"string"==typeof e?.id&&"string"==typeof e?.protocol&&"object"==typeof e?.tokenPair&&"object"==typeof e?.priceRange&&"object"==typeof e?.status&&"object"==typeof e?.pooledAssets&&"object"==typeof e?.metrics&&"object"==typeof e?.fees&&"object"==typeof e?.historicalData&&"string"==typeof e?.createdAt}const Bg={positions:[{id:"7xKXtg2CW2PnLzPvqmHZWRuDVBBwGMZvDJTLMBpWJHmj",protocol:"Orca",tokenPair:{tokenA:{symbol:"SOL",name:"Solana",mint:"So11111111111111111111111111111111111111112",decimals:9,logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/So11111111111111111111111111111111111111112/logo.png"},tokenB:{symbol:"USDC",name:"USD Coin",mint:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",decimals:6,logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v/logo.png"},currentPrice:152.34},priceRange:{min:140,max:180,current:152.34},status:{inRange:!0,autoCompound:!1},pooledAssets:{tokenAAmount:12.5,tokenBAmount:950.25,totalValueUSD:2854.5},initialAssets:{tokenAAmount:13,tokenBAmount:1e3,timestamp:"2024-09-15T10:30:00Z"},metrics:{totalPnL:124.75,roi:4.57,impermanentLoss:124.75,totalAPR:18.5,feeAPR:15.2,gasCosts:2.45,netProfit:256.8,ageInDays:88},fees:{totalEarned:259.25,uncollected:45.3,daily:2.95,weekly:20.65,monthly:88.5},historicalData:{prices:[],volume:[],fees:[],liquidityDistribution:[]},createdAt:"2024-09-15T10:30:00Z",updatedAt:"2025-10-12T08:15:00Z"},{id:"9mWRABPZj3K7Q4JxTYvHpFLd2nXwE6vZ8pqCkM5rL3Hn",protocol:"Orca",tokenPair:{tokenA:{symbol:"ETH",name:"Ethereum (Portal)",mint:"7vfCXTUXx5WJV5JADk17DUJ4ksgau7utNKj4b963voxs",decimals:8,logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/7vfCXTUXx5WJV5JADk17DUJ4ksgau7utNKj4b963voxs/logo.png"},tokenB:{symbol:"USDC",name:"USD Coin",mint:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",decimals:6},currentPrice:2847.92},priceRange:{min:3200,max:4e3,current:2847.92},status:{inRange:!1,autoCompound:!1},pooledAssets:{tokenAAmount:0,tokenBAmount:8547.83,totalValueUSD:8547.83},initialAssets:{tokenAAmount:3,tokenBAmount:1e3,timestamp:"2024-03-20T14:22:00Z"},metrics:{totalPnL:-1295.93,roi:-13.16,impermanentLoss:-1295.93,totalAPR:8.3,feeAPR:8.3,gasCosts:3.12,netProfit:-1115.45,ageInDays:206},fees:{totalEarned:183.6,uncollected:12.8,daily:.89,weekly:6.23,monthly:26.7},historicalData:{prices:[],volume:[],fees:[],liquidityDistribution:[]},createdAt:"2024-03-20T14:22:00Z",updatedAt:"2025-10-12T08:15:00Z"},{id:"BKipkearKqfNRu6y8yYGFrQTnTvChLR3fLqVz9vXTcHs",protocol:"Raydium",tokenPair:{tokenA:{symbol:"BONK",name:"Bonk",mint:"DezXAZ8z7PnrnRJjz3wXBoRgixCa6xjnB7YaB1pPB263",decimals:5},tokenB:{symbol:"SOL",name:"Solana",mint:"So11111111111111111111111111111111111111112",decimals:9},currentPrice:2847e-8},priceRange:{min:2e-5,max:35e-6,current:2847e-8},status:{inRange:!0,autoCompound:!0},pooledAssets:{tokenAAmount:52847621.35,tokenBAmount:9.823,totalValueUSD:2997.84},initialAssets:{tokenAAmount:5e7,tokenBAmount:10,timestamp:"2024-08-01T09:15:00Z"},metrics:{totalPnL:318.22,roi:11.87,impermanentLoss:318.22,totalAPR:52.3,feeAPR:42.1,gasCosts:4.65,netProfit:428.57,ageInDays:103},fees:{totalEarned:433.22,uncollected:89.5,daily:4.21,weekly:29.47,monthly:126.3},historicalData:{prices:[],volume:[],fees:[],liquidityDistribution:[]},createdAt:"2024-08-01T09:15:00Z",updatedAt:"2025-10-12T08:15:00Z"},{id:"4vJ9JU1bJJE96FWSJKvHsmmFADCg4gpZQff4P3bkLKi",protocol:"Orca",tokenPair:{tokenA:{symbol:"USDT",name:"Tether USD",mint:"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB",decimals:6},tokenB:{symbol:"USDC",name:"USD Coin",mint:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",decimals:6},currentPrice:1.0001},priceRange:{min:.998,max:1.002,current:1.0001},status:{inRange:!0,autoCompound:!1},pooledAssets:{tokenAAmount:5000.12,tokenBAmount:5000.08,totalValueUSD:10000.2},initialAssets:{tokenAAmount:5e3,tokenBAmount:5e3,timestamp:"2024-06-10T16:45:00Z"},metrics:{totalPnL:.03,roi:3e-4,impermanentLoss:.03,totalAPR:.12,feeAPR:.12,gasCosts:1.85,netProfit:-1.85,ageInDays:154},fees:{totalEarned:0,uncollected:0,daily:0,weekly:0,monthly:0},historicalData:{prices:[],volume:[],fees:[],liquidityDistribution:[]},createdAt:"2024-06-10T16:45:00Z",updatedAt:"2025-10-12T08:15:00Z"},{id:"HmZ7vYwvRW9pKjQ5nXyL3GfJ8tC2sV6uDpBkE4rNwFxA",protocol:"Raydium",tokenPair:{tokenA:{symbol:"SOL",name:"Solana",mint:"So11111111111111111111111111111111111111112",decimals:9},tokenB:{symbol:"USDC",name:"USD Coin",mint:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",decimals:6},currentPrice:152.34},priceRange:{min:145,max:160,current:152.34},status:{inRange:!0,autoCompound:!0},pooledAssets:{tokenAAmount:3284.56,tokenBAmount:250123.45,totalValueUSD:750456.78},initialAssets:{tokenAAmount:3200,tokenBAmount:24e4,timestamp:"2023-12-05T11:20:00Z"},metrics:{totalPnL:28952.34,roi:4.01,impermanentLoss:28952.34,totalAPR:15.8,feeAPR:12.5,gasCosts:8.92,netProfit:42847.42,ageInDays:312},fees:{totalEarned:42856.34,uncollected:1234.56,daily:137.35,weekly:961.45,monthly:4120.2},historicalData:{prices:[],volume:[],fees:[],liquidityDistribution:[]},createdAt:"2023-12-05T11:20:00Z",updatedAt:"2025-10-12T08:15:00Z"},{id:"2kYpJ9rXvL8nQcHfZbD3wMsPtG5uA7eV6iKdNx4Rm1Bq",protocol:"Orca",tokenPair:{tokenA:{symbol:"RAY",name:"Raydium",mint:"4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R",decimals:6},tokenB:{symbol:"USDC",name:"USD Coin",mint:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",decimals:6},currentPrice:3.47},priceRange:{min:2.8,max:4.2,current:3.47},status:{inRange:!0,autoCompound:!1},pooledAssets:{tokenAAmount:2.885,tokenBAmount:5,totalValueUSD:15.01},initialAssets:{tokenAAmount:2.5,tokenBAmount:5,timestamp:"2025-10-08T18:30:00Z"},metrics:{totalPnL:.96,roi:6.86,impermanentLoss:.96,totalAPR:627.4,feeAPR:547.2,gasCosts:.45,netProfit:.58,ageInDays:4},fees:{totalEarned:1.03,uncollected:.92,daily:.26,weekly:1.03,monthly:1.03},historicalData:{prices:[],volume:[],fees:[],liquidityDistribution:[]},createdAt:"2025-10-08T18:30:00Z",updatedAt:"2025-10-12T08:15:00Z"},{id:"8fBnX3TcRmLq9vKpY2sJ7DwHgN5eU4iCaV6tPxQ1oEzM",protocol:"Raydium",tokenPair:{tokenA:{symbol:"JUP",name:"Jupiter",mint:"JUPyiwrYJFskUPiHa7hkeR8VUtAeFoSYbKedZNsDvCN",decimals:6},tokenB:{symbol:"SOL",name:"Solana",mint:"So11111111111111111111111111111111111111112",decimals:9},currentPrice:.0068},priceRange:{min:.005,max:.009,current:.0068},status:{inRange:!0,autoCompound:!0},pooledAssets:{tokenAAmount:2458.32,tokenBAmount:109.6,totalValueUSD:33398},initialAssets:{tokenAAmount:15e3,tokenBAmount:50,timestamp:"2024-05-15T13:10:00Z"},metrics:{totalPnL:9847.12,roi:41.84,impermanentLoss:9847.12,totalAPR:32.7,feeAPR:28.4,gasCosts:6.23,netProfit:11245.89,ageInDays:180},fees:{totalEarned:11252.12,uncollected:456.78,daily:62.51,weekly:437.57,monthly:1875.35},historicalData:{prices:[],volume:[],fees:[],liquidityDistribution:[]},createdAt:"2024-05-15T13:10:00Z",updatedAt:"2025-10-12T08:15:00Z"},{id:"FnQ7vCpLxW2kM9jY8bR5sD3tHgN6eUoA4iVcP1zKmEx",protocol:"Orca",tokenPair:{tokenA:{symbol:"ORCA",name:"Orca",mint:"orcaEKTdK7LKz57vaAYr9QeNsVEPfiu6QeMU1kektZE",decimals:6},tokenB:{symbol:"USDC",name:"USD Coin",mint:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",decimals:6},currentPrice:4.23},priceRange:{min:3.5,max:5.5,current:4.23},status:{inRange:!0,autoCompound:!1},pooledAssets:{tokenAAmount:847.52,tokenBAmount:1789.34,totalValueUSD:5373.17},initialAssets:{tokenAAmount:850,tokenBAmount:1700,timestamp:"2024-07-22T10:05:00Z"},metrics:{totalPnL:78.92,roi:1.49,impermanentLoss:78.92,totalAPR:6.5,feeAPR:5.8,gasCosts:2.1,netProfit:156.82,ageInDays:112},fees:{totalEarned:158.92,uncollected:23.45,daily:1.42,weekly:9.94,monthly:42.6},historicalData:{prices:[],volume:[],fees:[],liquidityDistribution:[]},createdAt:"2024-07-22T10:05:00Z",updatedAt:"2025-10-12T08:15:00Z"},{id:"DpW8kZ5vQnR3xYcHfJ2mL7tS9gB6eUoA1iNdP4rKmXz",protocol:"Raydium",tokenPair:{tokenA:{symbol:"WIF",name:"dogwifhat",mint:"EKpQGSJtjMFqKZ9KQanSqYXRcF8fBopzLHYxdM65zcjm",decimals:6},tokenB:{symbol:"SOL",name:"Solana",mint:"So11111111111111111111111111111111111111112",decimals:9},currentPrice:.0134},priceRange:{min:.008,max:.025,current:.0134},status:{inRange:!0,autoCompound:!0},pooledAssets:{tokenAAmount:8452.76,tokenBAmount:743.28,totalValueUSD:226542.8},initialAssets:{tokenAAmount:5e4,tokenBAmount:335,timestamp:"2024-02-10T08:50:00Z"},metrics:{totalPnL:140238.94,roi:162.27,impermanentLoss:140238.94,totalAPR:78.4,feeAPR:65.3,gasCosts:12.56,netProfit:154872.3,ageInDays:245},fees:{totalEarned:154884.86,uncollected:8945.67,daily:632.18,weekly:4425.26,monthly:18965.4},historicalData:{prices:[],volume:[],fees:[],liquidityDistribution:[]},createdAt:"2024-02-10T08:50:00Z",updatedAt:"2025-10-12T08:15:00Z"},{id:"GkL3pW9vRnQ7xYcHfJ2mZ5tS8dB4eUoA6iKcP1zNmXy",protocol:"Orca",tokenPair:{tokenA:{symbol:"MSOL",name:"Marinade staked SOL",mint:"mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So",decimals:9},tokenB:{symbol:"SOL",name:"Solana",mint:"So11111111111111111111111111111111111111112",decimals:9},currentPrice:1.047},priceRange:{min:1.03,max:1.08,current:1.047},status:{inRange:!0,autoCompound:!1},pooledAssets:{tokenAAmount:52.34,tokenBAmount:54.76,totalValueUSD:16676.82},initialAssets:{tokenAAmount:52,tokenBAmount:54.5,timestamp:"2024-04-18T15:40:00Z"},metrics:{totalPnL:0,roi:0,impermanentLoss:0,totalAPR:2.1,feeAPR:2.1,gasCosts:1.95,netProfit:54.38,ageInDays:177},fees:{totalEarned:56.33,uncollected:8.9,daily:.32,weekly:2.24,monthly:9.6},historicalData:{prices:[],volume:[],fees:[],liquidityDistribution:[]},createdAt:"2024-04-18T15:40:00Z",updatedAt:"2025-10-12T08:15:00Z"},{id:"CmN8wZ3vPnR5xKcQfY2tL9jS6dB7eUoA4iVdG1zHmWx",protocol:"Raydium",tokenPair:{tokenA:{symbol:"PYTH",name:"Pyth Network",mint:"HZ1JovNiVvGrGNiiYvEozEVgZ58xaU3RKwX8eACQBCt3",decimals:6},tokenB:{symbol:"USDC",name:"USD Coin",mint:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",decimals:6},currentPrice:.42},priceRange:{min:.35,max:.55,current:.42},status:{inRange:!0,autoCompound:!1},pooledAssets:{tokenAAmount:8547.32,tokenBAmount:1789.45,totalValueUSD:5379.32},initialAssets:{tokenAAmount:1e4,tokenBAmount:2e3,timestamp:"2024-09-01T12:20:00Z"},metrics:{totalPnL:-820.68,roi:-13.24,impermanentLoss:-820.68,totalAPR:11.2,feeAPR:11.2,gasCosts:2.35,netProfit:-705.03,ageInDays:71},fees:{totalEarned:118,uncollected:15.6,daily:1.66,weekly:11.62,monthly:49.8},historicalData:{prices:[],volume:[],fees:[],liquidityDistribution:[]},createdAt:"2024-09-01T12:20:00Z",updatedAt:"2025-10-12T08:15:00Z"},{id:"BpT6kX9wQnM2vLcYfZ3rJ8sD5dH4eUoA7iNcG1zPmWy",protocol:"Orca",tokenPair:{tokenA:{symbol:"JTO",name:"Jito",mint:"jtojtomepa8beP8AuQc6eXt5FriJwfFMwQx2v2f9mCL",decimals:9},tokenB:{symbol:"SOL",name:"Solana",mint:"So11111111111111111111111111111111111111112",decimals:9},currentPrice:.0189},priceRange:{min:.015,max:.025,current:.0189},status:{inRange:!0,autoCompound:!0},pooledAssets:{tokenAAmount:1847.52,tokenBAmount:22.89,totalValueUSD:6977.58},initialAssets:{tokenAAmount:1800,tokenBAmount:23,timestamp:"2024-08-20T09:30:00Z"},metrics:{totalPnL:145.28,roi:2.13,impermanentLoss:145.28,totalAPR:14.9,feeAPR:12.6,gasCosts:3.45,netProfit:221.83,ageInDays:83},fees:{totalEarned:225.28,uncollected:34.56,daily:2.71,weekly:18.97,monthly:81.3},historicalData:{prices:[],volume:[],fees:[],liquidityDistribution:[]},createdAt:"2024-08-20T09:30:00Z",updatedAt:"2025-10-12T08:15:00Z"}],metadata:{}};function jg(t=!1){const[e,r]=n.useState([]),[i,o]=n.useState(null),[s,a]=n.useState(!1),[c,l]=n.useState(null),u=n.useCallback(async()=>{if(!t)return r([]),void o(null);a(!0),l(null);try{await new Promise(t=>setTimeout(t,300));const t=function(){const t=Bg;if(!t.metadata)throw new Error("Mock data file is missing required metadata");if(!Array.isArray(t.positions))throw new Error("Mock data file does not contain a valid positions array");const e=[],n=[];for(let r=0;r<t.positions.length;r++){const i=t.positions[r];Lg(i)?e.push(i):n.push(`Position at index ${r} (id: ${i?.id||"unknown"}) failed validation`)}if(n.length>0)throw new Error(`Mock data validation failed:\n${n.join("\n")}`);if(e.length<10||e.length>15)throw new Error(`Mock data must contain 10-15 positions, found ${e.length}`);return e}();r(t);const e=function(t){if(0===t.length)return{totalAssetsValue:0,totalPnL:0,totalUncollectedFees:0,positionCount:0,positionsInRange:0,positionsOutOfRange:0};const e=t.reduce((t,e)=>t+e.pooledAssets.totalValueUSD,0),n=t.reduce((t,e)=>t+e.metrics.totalPnL,0),r=t.reduce((t,e)=>t+e.fees.uncollected,0),i=t.filter(t=>t.status.inRange).length,o=t.filter(t=>!t.status.inRange).length;return{totalAssetsValue:e,totalPnL:n,totalUncollectedFees:r,positionCount:t.length,positionsInRange:i,positionsOutOfRange:o}}(t);o(e)}catch(e){const t=e instanceof Error?e.message:"Failed to load positions";l({hasError:!0,message:t,code:"LOAD_ERROR",retry:()=>u()}),r([]),o(null)}finally{a(!1)}},[t]),h=n.useCallback(()=>{u()},[u]);return n.useEffect(()=>{u()},[u]),{positions:e,summary:i,loading:s,error:c,refetch:h}}function Cg(){const{connected:t,displayAddress:e,adapterName:r}=Ig(),[i,o]=n.useState(!1),s=async()=>{if(e)try{await navigator.clipboard.writeText(e),o(!0),setTimeout(()=>o(!1),2e3)}catch(t){}};return y.jsxs("div",{className:"flex items-center gap-4",children:[t&&e&&y.jsxs("div",{className:"hidden cursor-pointer items-center gap-2 rounded-lg border border-solana-purple/20 bg-solana-dark px-4 py-2 transition-colors hover:border-solana-purple/40 md:flex",onClick:s,role:"button",tabIndex:0,onKeyDown:t=>{"Enter"!==t.key&&" "!==t.key||s()},children:[y.jsxs("div",{className:"flex flex-col items-end",children:[y.jsx("span",{className:"text-xs text-gray-400",children:r}),y.jsx("span",{className:"font-mono text-sm text-solana-cyan",children:e})]}),i&&y.jsx("span",{className:"text-xs text-solana-green",children:"Copied!"})]}),y.jsx(Cm,{className:"!rounded-lg !bg-solana-purple !transition-all hover:!bg-solana-purple/80",style:{backgroundColor:"var(--solana-purple)",height:"44px",fontSize:"14px",fontWeight:"600"}}),y.jsx("div",{role:"status",className:"sr-only",children:t?`Connected to ${r}`:"Not connected"})]})}function _g(t,e={}){const{currency:n="$",showPositiveSign:r=!1,minimumFractionDigits:i=Ng.USD,maximumFractionDigits:o=Ng.USD}=e;return`${t<0?"-":r&&t>0?"+":""}${n}${new Intl.NumberFormat("en-US",{minimumFractionDigits:i,maximumFractionDigits:o}).format(Math.abs(t))}`}function Tg(t,e={}){const{showPositiveSign:n=!1,minimumFractionDigits:r=Ng.PERCENTAGE,maximumFractionDigits:i=Ng.PERCENTAGE}=e;return`${t<0?"-":n&&t>0?"+":""}${new Intl.NumberFormat("en-US",{minimumFractionDigits:r,maximumFractionDigits:i}).format(Math.abs(t))}%`}function Rg({label:t,value:e,subtext:n,valueColor:r,loading:i}){return i?y.jsxs("article",{className:"space-y-3 rounded-lg border border-forge-steel bg-forge-metaldark p-6",role:"status","aria-label":`Loading ${t}`,children:[y.jsx("div",{className:"h-4 w-32 animate-pulse rounded bg-forge-steel","data-testid":"skeleton"}),y.jsx("div",{className:"h-8 w-full animate-pulse rounded bg-forge-steel","data-testid":"skeleton"}),n&&y.jsx("div",{className:"h-3 w-24 animate-pulse rounded bg-forge-steel","data-testid":"skeleton"})]}):y.jsxs("article",{className:"space-y-2 rounded-lg border border-forge-steel bg-forge-metaldark p-6 transition-colors hover:border-solana-purple/30","aria-labelledby":`${t.replace(/\s+/g,"-")}-label`,children:[y.jsx("div",{id:`${t.replace(/\s+/g,"-")}-label`,className:"text-sm uppercase tracking-wide text-gray-400",children:t}),y.jsx("div",{className:`text-3xl font-bold ${r||"text-white"}`,children:e}),n&&y.jsx("div",{className:"text-xs text-gray-500",children:n})]})}function Og({summary:t,loading:e=!1}){if(e)return y.jsxs("div",{className:"mb-8 grid grid-cols-1 gap-6 md:grid-cols-3",children:[y.jsx(Rg,{label:"Total Assets",value:"",loading:!0}),y.jsx(Rg,{label:"Total PnL",value:"",loading:!0}),y.jsx(Rg,{label:"Uncollected Fees",value:"",loading:!0})]});if(!t)return null;const n=_g(t.totalAssetsValue),r=_g(t.totalPnL,{showPositiveSign:!0}),i=t.totalPnL>0?"text-solana-green":t.totalPnL<0?"text-red-500":"text-white",o=_g(t.totalUncollectedFees);return y.jsxs("div",{className:"mb-8 grid grid-cols-1 gap-6 md:grid-cols-3",children:[y.jsx(Rg,{label:"Total Assets",value:n,subtext:`${t.positionCount} positions`}),y.jsx(Rg,{label:"Total PnL",value:r,valueColor:i,subtext:`${t.positionsInRange} in range â€¢ ${t.positionsOutOfRange} out of range`}),y.jsx(Rg,{label:"Uncollected Fees",value:o,subtext:"Available to claim"})]})}function Dg({message:t}){const e=t||"No liquidity positions found";return y.jsxs("div",{className:"flex flex-col items-center justify-center px-4 py-16",role:"status","aria-label":"Empty state",children:[y.jsx("div",{className:"mb-6 flex h-24 w-24 items-center justify-center rounded-full bg-forge-metalgray",role:"img","aria-hidden":"true",children:y.jsx("svg",{className:"h-12 w-12 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),y.jsx("h3",{className:"mb-2 text-xl font-semibold text-gray-400",children:e}),y.jsx("p",{className:"mb-6 max-w-md text-center text-sm text-gray-500",children:"Create your first concentrated liquidity position on Orca or Raydium to start tracking your portfolio."}),y.jsxs("div",{className:"flex gap-4",children:[y.jsx("a",{href:"https://www.orca.so/pools",target:"_blank",rel:"noopener noreferrer",className:"rounded-lg bg-solana-purple px-6 py-3 font-medium text-white transition-colors hover:bg-solana-purple/80",children:"Create Position on Orca"}),y.jsx("a",{href:"https://raydium.io/clmm/pools",target:"_blank",rel:"noopener noreferrer",className:"rounded-lg border border-forge-steel bg-forge-metalgray px-6 py-3 font-medium text-white transition-colors hover:bg-forge-steel",children:"Create Position on Raydium"})]})]})}function zg(t,e,n){let r,i=n.initialDeps??[];function o(){var o,s,a,c;let l;n.key&&(null==(o=n.debug)?void 0:o.call(n))&&(l=Date.now());const u=t();if(!(u.length!==i.length||u.some((t,e)=>i[e]!==t)))return r;let h;if(i=u,n.key&&(null==(s=n.debug)?void 0:s.call(n))&&(h=Date.now()),r=e(...u),n.key&&(null==(a=n.debug)?void 0:a.call(n))){Math.round(100*(Date.now()-l)),Math.round(100*(Date.now()-h))}return null==(c=null==n?void 0:n.onChange)||c.call(n,r),r}return o.updateDeps=t=>{i=t},o}function Ug(t,e){if(void 0===t)throw new Error("Unexpected undefined");return t}const Pg=(t,e,n)=>{let r;return function(...i){t.clearTimeout(r),r=t.setTimeout(()=>e.apply(this,i),n)}},Fg=t=>{const{offsetWidth:e,offsetHeight:n}=t;return{width:e,height:n}},Wg=t=>t,qg=t=>{const e=Math.max(t.startIndex-t.overscan,0),n=Math.min(t.endIndex+t.overscan,t.count-1),r=[];for(let i=e;i<=n;i++)r.push(i);return r},Kg=(t,e)=>{const n=t.scrollElement;if(!n)return;const r=t.targetWindow;if(!r)return;const i=t=>{const{width:n,height:r}=t;e({width:Math.round(n),height:Math.round(r)})};if(i(Fg(n)),!r.ResizeObserver)return()=>{};const o=new r.ResizeObserver(e=>{const r=()=>{const t=e[0];if(null==t?void 0:t.borderBoxSize){const e=t.borderBoxSize[0];if(e)return void i({width:e.inlineSize,height:e.blockSize})}i(Fg(n))};t.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(r):r()});return o.observe(n,{box:"border-box"}),()=>{o.unobserve(n)}},Hg={passive:!0},$g="undefined"==typeof window||"onscrollend"in window,Vg=(t,e)=>{const n=t.scrollElement;if(!n)return;const r=t.targetWindow;if(!r)return;let i=0;const o=t.options.useScrollendEvent&&$g?()=>{}:Pg(r,()=>{e(i,!1)},t.options.isScrollingResetDelay),s=r=>()=>{const{horizontal:s,isRtl:a}=t.options;i=s?n.scrollLeft*(a?-1:1):n.scrollTop,o(),e(i,r)},a=s(!0),c=s(!1);c(),n.addEventListener("scroll",a,Hg);const l=t.options.useScrollendEvent&&$g;return l&&n.addEventListener("scrollend",c,Hg),()=>{n.removeEventListener("scroll",a),l&&n.removeEventListener("scrollend",c)}},Zg=(t,e,n)=>{if(null==e?void 0:e.borderBoxSize){const t=e.borderBoxSize[0];if(t){return Math.round(t[n.options.horizontal?"inlineSize":"blockSize"])}}return t[n.options.horizontal?"offsetWidth":"offsetHeight"]},Yg=(t,{adjustments:e=0,behavior:n},r)=>{var i,o;const s=t+e;null==(o=null==(i=r.scrollElement)?void 0:i.scrollTo)||o.call(i,{[r.options.horizontal?"left":"top"]:s,behavior:n})};class Gg{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let t=null;const e=()=>t||(this.targetWindow&&this.targetWindow.ResizeObserver?t=new this.targetWindow.ResizeObserver(t=>{t.forEach(t=>{const e=()=>{this._measureElement(t.target,t)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(e):e()})}):null);return{disconnect:()=>{var n;null==(n=e())||n.disconnect(),t=null},observe:t=>{var n;return null==(n=e())?void 0:n.observe(t,{box:"border-box"})},unobserve:t=>{var n;return null==(n=e())?void 0:n.unobserve(t)}}})(),this.range=null,this.setOptions=t=>{Object.entries(t).forEach(([e,n])=>{void 0===n&&delete t[e]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Wg,rangeExtractor:qg,onChange:()=>{},measureElement:Zg,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...t}},this.notify=t=>{var e,n;null==(n=(e=this.options).onChange)||n.call(e,this,t)},this.maybeNotify=zg(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),t=>{this.notify(t)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(t=>t()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var t;const e=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==e){if(this.cleanup(),!e)return void this.maybeNotify();this.scrollElement=e,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=(null==(t=this.scrollElement)?void 0:t.window)??null,this.elementsCache.forEach(t=>{this.observer.observe(t)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,t=>{this.scrollRect=t,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(t,e)=>{this.scrollAdjustments=0,this.scrollDirection=e?this.getScrollOffset()<t?"forward":"backward":null,this.scrollOffset=t,this.isScrolling=e,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??("function"==typeof this.options.initialOffset?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(t,e)=>{const n=new Map,r=new Map;for(let i=e-1;i>=0;i--){const e=t[i];if(n.has(e.lane))continue;const o=r.get(e.lane);if(null==o||e.end>o.end?r.set(e.lane,e):e.end<o.end&&n.set(e.lane,!0),n.size===this.options.lanes)break}return r.size===this.options.lanes?Array.from(r.values()).sort((t,e)=>t.end===e.end?t.index-e.index:t.end-e.end)[0]:void 0},this.getMeasurementOptions=zg(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(t,e,n,r,i)=>(this.pendingMeasuredCacheIndexes=[],{count:t,paddingStart:e,scrollMargin:n,getItemKey:r,enabled:i}),{key:!1}),this.getMeasurements=zg(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:t,paddingStart:e,scrollMargin:n,getItemKey:r,enabled:i},o)=>{if(!i)return this.measurementsCache=[],this.itemSizeCache.clear(),[];0===this.measurementsCache.length&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(t=>{this.itemSizeCache.set(t.key,t.size)}));const s=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const a=this.measurementsCache.slice(0,s);for(let c=s;c<t;c++){const t=r(c),i=1===this.options.lanes?a[c-1]:this.getFurthestMeasurement(a,c),s=i?i.end+this.options.gap:e+n,l=o.get(t),u="number"==typeof l?l:this.options.estimateSize(c),h=s+u,d=i?i.lane:c%this.options.lanes;a[c]={index:c,start:s,size:u,end:h,key:t,lane:d}}return this.measurementsCache=a,a},{key:!1,debug:()=>this.options.debug}),this.calculateRange=zg(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(t,e,n,r)=>this.range=t.length>0&&e>0?function({measurements:t,outerSize:e,scrollOffset:n,lanes:r}){const i=t.length-1,o=e=>t[e].start;if(t.length<=r)return{startIndex:0,endIndex:i};let s=Qg(0,i,o,n),a=s;if(1===r)for(;a<i&&t[a].end<n+e;)a++;else if(r>1){const o=Array(r).fill(0);for(;a<i&&o.some(t=>t<n+e);){const e=t[a];o[e.lane]=e.end,a++}const c=Array(r).fill(n+e);for(;s>=0&&c.some(t=>t>=n);){const e=t[s];c[e.lane]=e.start,s--}s=Math.max(0,s-s%r),a=Math.min(i,a+(r-1-a%r))}return{startIndex:s,endIndex:a}}({measurements:t,outerSize:e,scrollOffset:n,lanes:r}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=zg(()=>{let t=null,e=null;const n=this.calculateRange();return n&&(t=n.startIndex,e=n.endIndex),this.maybeNotify.updateDeps([this.isScrolling,t,e]),[this.options.rangeExtractor,this.options.overscan,this.options.count,t,e]},(t,e,n,r,i)=>null===r||null===i?[]:t({startIndex:r,endIndex:i,overscan:e,count:n}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=t=>{const e=this.options.indexAttribute,n=t.getAttribute(e);return n?parseInt(n,10):-1},this._measureElement=(t,e)=>{const n=this.indexFromElement(t),r=this.measurementsCache[n];if(!r)return;const i=r.key,o=this.elementsCache.get(i);o!==t&&(o&&this.observer.unobserve(o),this.observer.observe(t),this.elementsCache.set(i,t)),t.isConnected&&this.resizeItem(n,this.options.measureElement(t,e,this))},this.resizeItem=(t,e)=>{const n=this.measurementsCache[t];if(!n)return;const r=e-(this.itemSizeCache.get(n.key)??n.size);0!==r&&((void 0!==this.shouldAdjustScrollPositionOnItemSizeChange?this.shouldAdjustScrollPositionOnItemSizeChange(n,r,this):n.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=r,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(n.index),this.itemSizeCache=new Map(this.itemSizeCache.set(n.key,e)),this.notify(!1))},this.measureElement=t=>{t?this._measureElement(t,void 0):this.elementsCache.forEach((t,e)=>{t.isConnected||(this.observer.unobserve(t),this.elementsCache.delete(e))})},this.getVirtualItems=zg(()=>[this.getVirtualIndexes(),this.getMeasurements()],(t,e)=>{const n=[];for(let r=0,i=t.length;r<i;r++){const i=e[t[r]];n.push(i)}return n},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=t=>{const e=this.getMeasurements();if(0!==e.length)return Ug(e[Qg(0,e.length-1,t=>Ug(e[t]).start,t)])},this.getOffsetForAlignment=(t,e,n=0)=>{const r=this.getSize(),i=this.getScrollOffset();"auto"===e&&(e=t>=i+r?"end":"start"),"center"===e?t+=(n-r)/2:"end"===e&&(t-=r);const o=this.getTotalSize()+this.options.scrollMargin-r;return Math.max(Math.min(o,t),0)},this.getOffsetForIndex=(t,e="auto")=>{t=Math.max(0,Math.min(t,this.options.count-1));const n=this.measurementsCache[t];if(!n)return;const r=this.getSize(),i=this.getScrollOffset();if("auto"===e)if(n.end>=i+r-this.options.scrollPaddingEnd)e="end";else{if(!(n.start<=i+this.options.scrollPaddingStart))return[i,e];e="start"}const o="end"===e?n.end+this.options.scrollPaddingEnd:n.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(o,e,n.size),e]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(t,{align:e="start",behavior:n}={})=>{"smooth"===n&&this.isDynamicMode(),this._scrollToOffset(this.getOffsetForAlignment(t,e),{adjustments:void 0,behavior:n})},this.scrollToIndex=(t,{align:e="auto",behavior:n}={})=>{"smooth"===n&&this.isDynamicMode(),t=Math.max(0,Math.min(t,this.options.count-1));let r=0;const i=e=>{if(!this.targetWindow)return;const r=this.getOffsetForIndex(t,e);if(!r)return;const[i,s]=r;this._scrollToOffset(i,{adjustments:void 0,behavior:n}),this.targetWindow.requestAnimationFrame(()=>{const e=this.getScrollOffset(),n=this.getOffsetForIndex(t,s);var r,i;n&&(r=n[0],i=e,Math.abs(r-i)<1.01||o(s))})},o=t=>{this.targetWindow&&(r++,r<10&&this.targetWindow.requestAnimationFrame(()=>i(t)))};i(e)},this.scrollBy=(t,{behavior:e}={})=>{"smooth"===e&&this.isDynamicMode(),this._scrollToOffset(this.getScrollOffset()+t,{adjustments:void 0,behavior:e})},this.getTotalSize=()=>{var t;const e=this.getMeasurements();let n;if(0===e.length)n=this.options.paddingStart;else if(1===this.options.lanes)n=(null==(t=e[e.length-1])?void 0:t.end)??0;else{const t=Array(this.options.lanes).fill(null);let r=e.length-1;for(;r>=0&&t.some(t=>null===t);){const n=e[r];null===t[n.lane]&&(t[n.lane]=n.end),r--}n=Math.max(...t.filter(t=>null!==t))}return Math.max(n-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(t,{adjustments:e,behavior:n})=>{this.options.scrollToFn(t,{behavior:n,adjustments:e},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(t)}}const Qg=(t,e,n,r)=>{for(;t<=e;){const i=(t+e)/2|0,o=n(i);if(o<r)t=i+1;else{if(!(o>r))return i;e=i-1}}return t>0?t-1:0};const Jg="undefined"!=typeof document?n.useLayoutEffect:n.useEffect;function Xg(t){return function(t){const e=n.useReducer(()=>({}),{})[1],i={...t,onChange:(n,i)=>{var o;i?r.flushSync(e):e(),null==(o=t.onChange)||o.call(t,n,i)}},[o]=n.useState(()=>new Gg(i));return o.setOptions(i),Jg(()=>o._didMount(),[]),Jg(()=>o._willUpdate()),o}({observeElementRect:Kg,observeElementOffset:Vg,scrollToFn:Yg,...t})}function ty({position:t,onClick:e}){const{tokenPair:n,protocol:r,priceRange:i,status:o,pooledAssets:s,metrics:a,fees:c}=t,l=a.totalPnL>0?"text-solana-green":a.totalPnL<0?"text-red-500":"text-white";return y.jsxs("div",{"data-testid":"position-card","data-position-id":t.id,onClick:e,className:`rounded-xl border border-forge-steel bg-forge-metaldark p-4 transition-all duration-200 hover:border-solana-purple hover:shadow-lg ${e?"cursor-pointer":""} md:p-6`,children:[y.jsxs("div",{className:"mb-4 flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsxs("h3",{className:"text-lg font-bold text-white",children:[n.tokenA.symbol,"/",n.tokenB.symbol]}),y.jsx("span",{className:"rounded-full bg-solana-purple/20 px-3 py-1 text-xs font-medium text-solana-purple",children:r})]}),y.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.inRange?y.jsx("span",{className:"rounded-full bg-solana-green/20 px-3 py-1 text-xs font-medium text-solana-green",children:"IN RANGE"}):y.jsx("span",{className:"rounded-full bg-red-500/20 px-3 py-1 text-xs font-medium text-red-500",children:"OUT OF RANGE"}),o.autoCompound&&y.jsx("span",{className:"rounded-full bg-solana-cyan/20 px-3 py-1 text-xs font-medium text-solana-cyan",children:"AUTO-COMPOUND"})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-4",children:[y.jsxs("div",{className:"flex flex-col",children:[y.jsx("span",{className:"mb-1 text-xs text-gray-400",children:"Pooled Assets"}),y.jsx("span",{className:"text-base font-semibold text-white",children:_g(s.totalValueUSD)})]}),y.jsxs("div",{className:"flex flex-col",children:[y.jsx("span",{className:"mb-1 text-xs text-gray-400",children:"PnL"}),y.jsx("span",{className:`text-base font-semibold ${l}`,children:_g(a.totalPnL,{showPositiveSign:!0})})]}),y.jsxs("div",{className:"flex flex-col",children:[y.jsx("span",{className:"mb-1 text-xs text-gray-400",children:"APR"}),y.jsx("span",{className:"text-base font-semibold text-white",children:Tg(a.totalAPR)})]}),y.jsxs("div",{className:"flex flex-col",children:[y.jsx("span",{className:"mb-1 text-xs text-gray-400",children:"Uncollected Fees"}),y.jsx("span",{className:"text-base font-semibold text-white",children:_g(c.uncollected)})]})]}),y.jsxs("div",{className:"mt-4 flex items-center justify-between border-t border-forge-steel pt-4 text-xs text-gray-400",children:[y.jsxs("span",{children:["Range: ",_g(i.min)," - ",_g(i.max)]}),y.jsxs("span",{children:["Current: ",_g(i.current)]})]})]})}function ey(){return y.jsxs("div",{"data-testid":"position-skeleton",className:"animate-pulse rounded-xl border border-forge-steel bg-forge-metaldark p-4 md:p-6",children:[y.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[y.jsx("div",{className:"h-6 w-32 rounded bg-forge-steel"}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("div",{className:"h-6 w-20 rounded-full bg-forge-steel"}),y.jsx("div",{className:"h-6 w-24 rounded-full bg-forge-steel"})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-4",children:[y.jsx("div",{className:"h-12 rounded bg-forge-steel"}),y.jsx("div",{className:"h-12 rounded bg-forge-steel"}),y.jsx("div",{className:"h-12 rounded bg-forge-steel"}),y.jsx("div",{className:"h-12 rounded bg-forge-steel"})]}),y.jsx("div",{className:"mt-4 h-8 rounded bg-forge-steel"})]})}function ny({positions:t,loading:e=!1,onPositionClick:r}){const i=n.useRef(null),o=n.useMemo(()=>[...t].sort((t,e)=>e.pooledAssets.totalValueUSD-t.pooledAssets.totalValueUSD),[t]),s=o.length>20,a=Xg({count:o.length,getScrollElement:()=>i.current,estimateSize:()=>200,overscan:5,enabled:s});return e?y.jsxs("div",{role:"status","aria-live":"polite",className:"space-y-4",children:[y.jsx("span",{className:"sr-only",children:"Loading positions..."}),y.jsx(ey,{}),y.jsx(ey,{}),y.jsx(ey,{})]}):0===o.length?null:s?y.jsx("div",{ref:i,"data-testid":"position-list","data-virtualized":"true",className:"h-[800px] overflow-y-auto",style:{overflowY:"auto"},children:y.jsx("div",{style:{height:`${a.getTotalSize()}px`,width:"100%",position:"relative"},children:a.getVirtualItems().map(t=>{const e=o[t.index];return y.jsx("div",{"data-index":t.index,style:{position:"absolute",top:0,left:0,width:"100%",height:`${t.size}px`,transform:`translateY(${t.start}px)`},children:y.jsx("div",{className:"pb-4",children:y.jsx(ty,{position:e,onClick:r?()=>r(e):void 0})})},e.id)})})}):y.jsx("div",{"data-testid":"position-list","data-virtualized":"false",className:"space-y-4",children:o.map(t=>y.jsx(ty,{position:t,onClick:r?()=>r(t):void 0},t.id))})}function ry(){const{connected:t}=Ig(),{positions:e,summary:n,loading:r,error:i}=jg(t);return y.jsxs("div",{className:"min-h-screen bg-forge-deepblack",children:[y.jsx("header",{className:"border-b border-forge-steel bg-forge-metaldark",children:y.jsx("div",{className:"mx-auto max-w-7xl px-4 py-4 sm:px-6 lg:px-8",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("h1",{className:"text-2xl font-bold text-white",children:"Brokkr Finance"}),y.jsx("span",{className:"text-sm text-gray-400",children:"Dashboard"})]}),y.jsx(Cg,{})]})})}),y.jsx("main",{className:"mx-auto max-w-7xl px-4 py-8 sm:px-6 lg:px-8",children:t?i?.hasError?y.jsxs("div",{className:"flex flex-col items-center justify-center py-16",role:"alert",children:[y.jsx("div",{className:"mb-6 flex h-24 w-24 items-center justify-center rounded-full bg-red-900/20",role:"img","aria-hidden":"true",children:y.jsx("svg",{className:"h-12 w-12 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),y.jsx("h2",{className:"mb-2 text-xl font-semibold text-red-400",children:"Error Loading Positions"}),y.jsx("p",{className:"mb-6 max-w-md text-center text-sm text-gray-400",children:i.message}),i.retry&&y.jsx("button",{onClick:i.retry,className:"rounded-lg bg-solana-purple px-6 py-3 font-medium text-white transition-colors hover:bg-solana-purple/80",children:"Try Again"})]}):y.jsxs(y.Fragment,{children:[n?y.jsx(Og,{summary:n,loading:r}):y.jsx(Og,{summary:{totalAssetsValue:0,totalPnL:0,totalUncollectedFees:0,positionCount:0,positionsInRange:0,positionsOutOfRange:0},loading:r}),r||0!==e.length?y.jsxs("div",{className:"mt-8",children:[y.jsxs("h2",{className:"mb-4 text-lg font-semibold text-white",children:["Your Positions (",e.length,")"]}),y.jsx(ny,{positions:e,loading:r})]}):y.jsx(Dg,{})]}):y.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[y.jsx("div",{className:"mb-6 flex h-24 w-24 items-center justify-center rounded-full bg-forge-metalgray",role:"img","aria-hidden":"true",children:y.jsx("svg",{className:"h-12 w-12 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})})}),y.jsx("h2",{className:"mb-2 text-xl font-semibold text-gray-400",children:"Connect Your Wallet"}),y.jsx("p",{className:"max-w-md text-center text-sm text-gray-500",children:"Connect your Solana wallet to view your concentrated liquidity positions and track your portfolio performance."})]})})]})}function iy(){return y.jsx("main",{className:"relative min-h-screen bg-solana-gray",children:y.jsxs("div",{className:"relative z-10",children:[y.jsx(ng,{}),y.jsx(lg,{}),y.jsx(xg,{}),y.jsx(kg,{}),y.jsx(Sg,{})]})})}function oy(){const t=Tu.Mainnet,e=n.useMemo(()=>function(t){const e="https";if(!t)return eu[e].devnet;const n=eu[e][t];if(!n)throw new Error(`Unknown ${e} cluster: ${t}`);return n}(t),[t]),r=n.useMemo(()=>[new Rm,new tg],[]);return y.jsx(ru,{endpoint:e,children:y.jsx(wm,{wallets:r,autoConnect:!1,children:y.jsx(Bm,{children:y.jsx(Kt,{children:y.jsxs(Et,{children:[y.jsx(vt,{path:"/",element:y.jsx(iy,{})}),y.jsx(vt,{path:"/dashboard",element:y.jsx(ry,{})})]})})})})})}w.createRoot(document.getElementById("root")).render(y.jsx(a.StrictMode,{children:y.jsx(oy,{})}));export{Os as E,va as P,Iu as S,Wa as T,qa as V,Bu as a,Xd as b,Lu as c};
