const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-iha0n-Ee.js","assets/react-vendor-Bon8Abu2.js","assets/index-D42FNAkI.js","assets/LiquidityChart-BkRe-Bj6.js","assets/index-foQP9qQ7.js","assets/PriceHistoryChart-DPHywUWq.js","assets/VolumeChart-ZOjuOyDS.js"])))=>i.map(i=>d[i]);
var t=Object.defineProperty,e=(e,n,i)=>((e,n,i)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i)(e,"symbol"!=typeof n?n+"":n,i);import{r as n,a as i,g as r,c as s,b as o,R as a}from"./react-vendor-Bon8Abu2.js";!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver(t=>{for(const n of t)if("childList"===n.type)for(const t of n.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)}).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),"use-credentials"===t.crossOrigin?e.credentials="include":"anonymous"===t.crossOrigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();var c={exports:{}},l={},u=n,h=Symbol.for("react.element"),d=Symbol.for("react.fragment"),m=Object.prototype.hasOwnProperty,f=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function g(t,e,n){var i,r={},s=null,o=null;for(i in void 0!==n&&(s=""+n),void 0!==e.key&&(s=""+e.key),void 0!==e.ref&&(o=e.ref),e)m.call(e,i)&&!p.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps)void 0===r[i]&&(r[i]=e[i]);return{$$typeof:h,type:t,key:s,ref:o,props:r,_owner:f.current}}l.Fragment=d,l.jsx=g,l.jsxs=g,c.exports=l;var y=c.exports,w={},v=i;w.createRoot=v.createRoot,w.hydrateRoot=v.hydrateRoot;
/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
var b="popstate";function x(t={}){return function(t,e,n,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a="POP",c=null,l=u();null==l&&(l=0,o.replaceState({...o.state,idx:l},""));function u(){return(o.state||{idx:null}).idx}function h(){a="POP";let t=u(),e=null==t?null:t-l;l=t,c&&c({action:a,location:p.location,delta:e})}function d(t,e){a="PUSH";let n=A(p.location,t,e);l=u()+1;let i=S(n,l),h=p.createHref(n);try{o.pushState(i,"",h)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;r.location.assign(h)}s&&c&&c({action:a,location:p.location,delta:1})}function m(t,e){a="REPLACE";let n=A(p.location,t,e);l=u();let i=S(n,l),r=p.createHref(n);o.replaceState(i,"",r),s&&c&&c({action:a,location:p.location,delta:0})}function f(t){return function(t,e=!1){let n="http://localhost";"undefined"!=typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href);E(n,"No window.location.(origin|href) available to create URL");let i="string"==typeof t?t:k(t);i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i);return new URL(i,n)}(t)}let p={get action(){return a},get location(){return t(r,o)},listen(t){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(b,h),c=t,()=>{r.removeEventListener(b,h),c=null}},createHref:t=>e(r,t),createURL:f,encodeLocation(t){let e=f(t);return{pathname:e.pathname,search:e.search,hash:e.hash}},push:d,replace:m,go:t=>o.go(t)};return p}(function(t,e){let{pathname:n,search:i,hash:r}=t.location;return A("",{pathname:n,search:i,hash:r},e.state&&e.state.usr||null,e.state&&e.state.key||"default")},function(t,e){return"string"==typeof e?e:k(e)},0,t)}function E(t,e){if(!1===t||null==t)throw new Error(e)}function M(t,e){if(!t)try{throw new Error(e)}catch(n){}}function S(t,e){return{usr:t.state,key:t.key,idx:e}}function A(t,e,n=null,i){return{pathname:"string"==typeof t?t:t.pathname,search:"",hash:"",..."string"==typeof e?I(e):e,state:n,key:e&&e.key||i||Math.random().toString(36).substring(2,10)}}function k({pathname:t="/",search:e="",hash:n=""}){return e&&"?"!==e&&(t+="?"===e.charAt(0)?e:"?"+e),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function I(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function N(t,e,n="/"){return function(t,e,n,i){let r="string"==typeof e?I(e):e,s=F(r.pathname||"/",n);if(null==s)return null;let o=L(t);!function(t){t.sort((t,e)=>t.score!==e.score?e.score-t.score:function(t,e){let n=t.length===e.length&&t.slice(0,-1).every((t,n)=>t===e[n]);return n?t[t.length-1]-e[e.length-1]:0}(t.routesMeta.map(t=>t.childrenIndex),e.routesMeta.map(t=>t.childrenIndex)))}(o);let a=null;for(let c=0;null==a&&c<o.length;++c){let t=q(s);a=P(o[c],t,i)}return a}(t,e,n,!1)}function L(t,e=[],n=[],i="",r=!1){let s=(t,s,o=r,a)=>{let c={relativePath:void 0===a?t.path||"":a,caseSensitive:!0===t.caseSensitive,childrenIndex:s,route:t};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(i)&&o)return;E(c.relativePath.startsWith(i),`Absolute route path "${c.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(i.length)}let l=$([i,c.relativePath]),u=n.concat(c);t.children&&t.children.length>0&&(E(!0!==t.index,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),L(t.children,e,u,l,o)),(null!=t.path||t.index)&&e.push({path:l,score:z(l,t.index),routesMeta:u})};return t.forEach((t,e)=>{if(""!==t.path&&t.path?.includes("?"))for(let n of j(t.path))s(t,e,!0,n);else s(t,e)}),e}function j(t){let e=t.split("/");if(0===e.length)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===i.length)return r?[s,""]:[s];let o=j(i.join("/")),a=[];return a.push(...o.map(t=>""===t?s:[s,t].join("/"))),r&&a.push(...o),a.map(e=>t.startsWith("/")&&""===e?"/":e)}var C=/^:[\w-]+$/,B=3,_=2,T=1,R=10,O=-2,D=t=>"*"===t;function z(t,e){let n=t.split("/"),i=n.length;return n.some(D)&&(i+=O),e&&(i+=_),n.filter(t=>!D(t)).reduce((t,e)=>t+(C.test(e)?B:""===e?T:R),i)}function P(t,e,n=!1){let{routesMeta:i}=t,r={},s="/",o=[];for(let a=0;a<i.length;++a){let t=i[a],c=a===i.length-1,l="/"===s?e:e.slice(s.length)||"/",u=U({path:t.relativePath,caseSensitive:t.caseSensitive,end:c},l),h=t.route;if(!u&&c&&n&&!i[i.length-1].route.index&&(u=U({path:t.relativePath,caseSensitive:t.caseSensitive,end:!1},l)),!u)return null;Object.assign(r,u.params),o.push({params:r,pathname:$([s,u.pathname]),pathnameBase:V($([s,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(s=$([s,u.pathnameBase]))}return o}function U(t,e){"string"==typeof t&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=function(t,e=!1,n=!0){M("*"===t||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(t,e,n)=>(i.push({paramName:e,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");t.endsWith("*")?(i.push({paramName:"*"}),r+="*"===t||"/*"===t?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==t&&"/"!==t&&(r+="(?:(?=\\/|$))");let s=new RegExp(r,e?void 0:"i");return[s,i]}(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((t,{paramName:e,isOptional:n},i)=>{if("*"===e){let t=a[i]||"";o=s.slice(0,s.length-t.length).replace(/(.)\/+$/,"$1")}const r=a[i];return t[e]=n&&!r?void 0:(r||"").replace(/%2F/g,"/"),t},{}),pathname:s,pathnameBase:o,pattern:t}}function q(t){try{return t.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(e){return M(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function F(t,e){if("/"===e)return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&"/"!==i?null:t.slice(n)||"/"}function W(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function K(t){let e=function(t){return t.filter((t,e)=>0===e||t.route.path&&t.route.path.length>0)}(t);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function H(t,e,n,i=!1){let r;"string"==typeof t?r=I(t):(r={...t},E(!r.pathname||!r.pathname.includes("?"),W("?","pathname","search",r)),E(!r.pathname||!r.pathname.includes("#"),W("#","pathname","hash",r)),E(!r.search||!r.search.includes("#"),W("#","search","hash",r)));let s,o=""===t||""===r.pathname,a=o?"/":r.pathname;if(null==a)s=n;else{let t=e.length-1;if(!i&&a.startsWith("..")){let e=a.split("/");for(;".."===e[0];)e.shift(),t-=1;r.pathname=e.join("/")}s=t>=0?e[t]:"/"}let c=function(t,e="/"){let{pathname:n,search:i="",hash:r=""}="string"==typeof t?I(t):t,s=n?n.startsWith("/")?n:function(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(t=>{".."===t?n.length>1&&n.pop():"."!==t&&n.push(t)}),n.length>1?n.join("/"):"/"}(n,e):e;return{pathname:s,search:Z(i),hash:Y(r)}}(r,s),l=a&&"/"!==a&&a.endsWith("/"),u=(o||"."===a)&&n.endsWith("/");return c.pathname.endsWith("/")||!l&&!u||(c.pathname+="/"),c}var $=t=>t.join("/").replace(/\/\/+/g,"/"),V=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Z=t=>t&&"?"!==t?t.startsWith("?")?t:"?"+t:"",Y=t=>t&&"#"!==t?t.startsWith("#")?t:"#"+t:"";var G=["POST","PUT","PATCH","DELETE"];new Set(G);var Q=["GET",...G];new Set(Q);var J=n.createContext(null);J.displayName="DataRouter";var X=n.createContext(null);X.displayName="DataRouterState",n.createContext(!1);var tt=n.createContext({isTransitioning:!1});tt.displayName="ViewTransition",n.createContext(new Map).displayName="Fetchers",n.createContext(null).displayName="Await";var et=n.createContext(null);et.displayName="Navigation";var nt=n.createContext(null);nt.displayName="Location";var it=n.createContext({outlet:null,matches:[],isDataRoute:!1});it.displayName="Route";var rt=n.createContext(null);function st(){return null!=n.useContext(nt)}function ot(){return E(st(),"useLocation() may be used only in the context of a <Router> component."),n.useContext(nt).location}rt.displayName="RouteError";var at="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ct(t){n.useContext(et).static||n.useLayoutEffect(t)}function lt(){let{isDataRoute:t}=n.useContext(it);return t?function(){let{router:t}=function(t){let e=n.useContext(J);return E(e,gt(t)),e}("useNavigate"),e=yt("useNavigate"),i=n.useRef(!1);return ct(()=>{i.current=!0}),n.useCallback(async(n,r={})=>{M(i.current,at),i.current&&("number"==typeof n?t.navigate(n):await t.navigate(n,{fromRouteId:e,...r}))},[t,e])}():function(){E(st(),"useNavigate() may be used only in the context of a <Router> component.");let t=n.useContext(J),{basename:e,navigator:i}=n.useContext(et),{matches:r}=n.useContext(it),{pathname:s}=ot(),o=JSON.stringify(K(r)),a=n.useRef(!1);return ct(()=>{a.current=!0}),n.useCallback((n,r={})=>{if(M(a.current,at),!a.current)return;if("number"==typeof n)return void i.go(n);let c=H(n,JSON.parse(o),s,"path"===r.relative);null==t&&"/"!==e&&(c.pathname="/"===c.pathname?e:$([e,c.pathname])),(r.replace?i.replace:i.push)(c,r.state,r)},[e,i,o,s,t])}()}function ut(t,{relative:e}={}){let{matches:i}=n.useContext(it),{pathname:r}=ot(),s=JSON.stringify(K(i));return n.useMemo(()=>H(t,JSON.parse(s),r,"path"===e),[t,s,r,e])}function ht(t,e,i,r,s){E(st(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=n.useContext(et),{matches:a}=n.useContext(it),c=a[a.length-1],l=c?c.params:{},u=c?c.pathname:"/",h=c?c.pathnameBase:"/",d=c&&c.route;{let t=d&&d.path||"";vt(u,!d||t.endsWith("*")||t.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${t}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${t}"> to <Route path="${"/"===t?"*":`${t}/*`}">.`)}let m,f=ot();if(e){let t="string"==typeof e?I(e):e;E("/"===h||t.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${t.pathname}" was given in the \`location\` prop.`),m=t}else m=f;let p=m.pathname||"/",g=p;if("/"!==h){let t=h.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(t.length).join("/")}let y=N(t,{pathname:g});M(d||null!=y,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),M(null==y||void 0!==y[y.length-1].route.element||void 0!==y[y.length-1].route.Component||void 0!==y[y.length-1].route.lazy,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=function(t,e=[],i=null,r=null){if(null==t){if(!i)return null;if(i.errors)t=i.matches;else{if(0!==e.length||i.initialized||!(i.matches.length>0))return null;t=i.matches}}let s=t,o=i?.errors;if(null!=o){let t=s.findIndex(t=>t.route.id&&void 0!==o?.[t.route.id]);E(t>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,t+1))}let a=!1,c=-1;if(i)for(let n=0;n<s.length;n++){let t=s[n];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(c=n),t.route.id){let{loaderData:e,errors:n}=i,r=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!n||void 0===n[t.route.id]);if(t.route.lazy||r){a=!0,s=c>=0?s.slice(0,c+1):[s[0]];break}}}return s.reduceRight((t,l,u)=>{let h,d=!1,m=null,f=null;i&&(h=o&&l.route.id?o[l.route.id]:void 0,m=l.route.errorElement||mt,a&&(c<0&&0===u?(vt("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,f=null):c===u&&(d=!0,f=l.route.hydrateFallbackElement||null)));let p=e.concat(s.slice(0,u+1)),g=()=>{let e;return e=h?m:d?f:l.route.Component?n.createElement(l.route.Component,null):l.route.element?l.route.element:t,n.createElement(pt,{match:l,routeContext:{outlet:t,matches:p,isDataRoute:null!=i},children:e})};return i&&(l.route.ErrorBoundary||l.route.errorElement||0===u)?n.createElement(ft,{location:i.location,revalidation:i.revalidation,component:m,error:h,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0},unstable_onError:r}):g()},null)}(y&&y.map(t=>Object.assign({},t,{params:Object.assign({},l,t.params),pathname:$([h,o.encodeLocation?o.encodeLocation(t.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:t.pathname]),pathnameBase:"/"===t.pathnameBase?h:$([h,o.encodeLocation?o.encodeLocation(t.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:t.pathnameBase])})),a,i,r,s);return e&&w?n.createElement(nt.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},w):w}function dt(){let t=function(){let t=n.useContext(rt),e=function(t){let e=n.useContext(X);return E(e,gt(t)),e}("useRouteError"),i=yt("useRouteError");if(void 0!==t)return t;return e.errors?.[i]}(),e=function(t){return null!=t&&"number"==typeof t.status&&"string"==typeof t.statusText&&"boolean"==typeof t.internal&&"data"in t}(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),i=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},a=null;return a=n.createElement(n.Fragment,null,n.createElement("p",null,"💿 Hey developer 👋"),n.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",n.createElement("code",{style:o},"ErrorBoundary")," or"," ",n.createElement("code",{style:o},"errorElement")," prop on your route.")),n.createElement(n.Fragment,null,n.createElement("h2",null,"Unexpected Application Error!"),n.createElement("h3",{style:{fontStyle:"italic"}},e),i?n.createElement("pre",{style:s},i):null,a)}n.createContext(null);var mt=n.createElement(dt,null),ft=class extends n.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||"idle"!==e.revalidation&&"idle"===t.revalidation?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:void 0!==t.error?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError&&this.props.unstable_onError(t,e)}render(){return void 0!==this.state.error?n.createElement(it.Provider,{value:this.props.routeContext},n.createElement(rt.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function pt({routeContext:t,match:e,children:i}){let r=n.useContext(J);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),n.createElement(it.Provider,{value:t},i)}function gt(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yt(t){let e=function(t){let e=n.useContext(it);return E(e,gt(t)),e}(t),i=e.matches[e.matches.length-1];return E(i.route.id,`${t} can only be used on routes that contain a unique "id"`),i.route.id}var wt={};function vt(t,e,n){e||wt[t]||(wt[t]=!0,M(!1,n))}function bt(t){E(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function xt({basename:t="/",children:e=null,location:i,navigationType:r="POP",navigator:s,static:o=!1}){E(!st(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),c=n.useMemo(()=>({basename:a,navigator:s,static:o,future:{}}),[a,s,o]);"string"==typeof i&&(i=I(i));let{pathname:l="/",search:u="",hash:h="",state:d=null,key:m="default"}=i,f=n.useMemo(()=>{let t=F(l,a);return null==t?null:{location:{pathname:t,search:u,hash:h,state:d,key:m},navigationType:r}},[a,l,u,h,d,m,r]);return M(null!=f,`<Router basename="${a}"> is not able to match the URL "${l}${u}${h}" because it does not start with the basename, so the <Router> won't render anything.`),null==f?null:n.createElement(et.Provider,{value:c},n.createElement(nt.Provider,{children:e,value:f}))}function Et({children:t,location:e}){return ht(Mt(t),e)}function Mt(t,e=[]){let i=[];return n.Children.forEach(t,(t,r)=>{if(!n.isValidElement(t))return;let s=[...e,r];if(t.type===n.Fragment)return void i.push.apply(i,Mt(t.props.children,s));E(t.type===bt,`[${"string"==typeof t.type?t.type:t.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),E(!t.props.index||!t.props.children,"An index route cannot have child routes.");let o={id:t.props.id||s.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,middleware:t.props.middleware,loader:t.props.loader,action:t.props.action,hydrateFallbackElement:t.props.hydrateFallbackElement,HydrateFallback:t.props.HydrateFallback,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:!0===t.props.hasErrorBoundary||null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(o.children=Mt(t.props.children,s)),i.push(o)}),i}n.memo(function({routes:t,future:e,state:n,unstable_onError:i}){return ht(t,void 0,n,i,e)});var St="get",At="application/x-www-form-urlencoded";function kt(t){return null!=t&&"string"==typeof t.tagName}var It=null;var Nt=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lt(t){return null==t||Nt.has(t)?t:(M(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${At}"`),null)}function jt(t,e){let n,i,r,s,o;if(kt(a=t)&&"form"===a.tagName.toLowerCase()){let o=t.getAttribute("action");i=o?F(o,e):null,n=t.getAttribute("method")||St,r=Lt(t.getAttribute("enctype"))||At,s=new FormData(t)}else if(function(t){return kt(t)&&"button"===t.tagName.toLowerCase()}(t)||function(t){return kt(t)&&"input"===t.tagName.toLowerCase()}(t)&&("submit"===t.type||"image"===t.type)){let o=t.form;if(null==o)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=t.getAttribute("formaction")||o.getAttribute("action");if(i=a?F(a,e):null,n=t.getAttribute("formmethod")||o.getAttribute("method")||St,r=Lt(t.getAttribute("formenctype"))||Lt(o.getAttribute("enctype"))||At,s=new FormData(o,t),!function(){if(null===It)try{new FormData(document.createElement("form"),0),It=!1}catch(t){It=!0}return It}()){let{name:e,type:n,value:i}=t;if("image"===n){let t=e?`${e}.`:"";s.append(`${t}x`,"0"),s.append(`${t}y`,"0")}else e&&s.append(e,i)}}else{if(kt(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=St,i=null,r=At,o=t}var a;return s&&"text/plain"===r&&(o=s,s=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:s,body:o}}function Ct(t,e){if(!1===t||null==t)throw new Error(e)}function Bt(t){return null!=t&&(null==t.href?"preload"===t.rel&&"string"==typeof t.imageSrcSet&&"string"==typeof t.imageSizes:"string"==typeof t.rel&&"string"==typeof t.href)}async function _t(t,e,n){return function(t,e){let n=new Set;return new Set(e),t.reduce((t,e)=>{let i=JSON.stringify(function(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}(e));return n.has(i)||(n.add(i),t.push({key:i,link:e})),t},[])}((await Promise.all(t.map(async t=>{let i=e.routes[t.route.id];if(i){let t=await async function(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}(i,n);return t.links?t.links():[]}return[]}))).flat(1).filter(Bt).filter(t=>"stylesheet"===t.rel||"preload"===t.rel).map(t=>"stylesheet"===t.rel?{...t,rel:"prefetch",as:"style"}:{...t,rel:"prefetch"}))}function Tt(t,e,n,i,r,s){let o=(t,e)=>!n[e]||t.route.id!==n[e].route.id,a=(t,e)=>n[e].pathname!==t.pathname||n[e].route.path?.endsWith("*")&&n[e].params["*"]!==t.params["*"];return"assets"===s?e.filter((t,e)=>o(t,e)||a(t,e)):"data"===s?e.filter((e,s)=>{let c=i.routes[e.route.id];if(!c||!c.hasLoader)return!1;if(o(e,s)||a(e,s))return!0;if(e.route.shouldRevalidate){let i=e.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:e.params,defaultShouldRevalidate:!0});if("boolean"==typeof i)return i}return!0}):[]}function Rt(t,e,{includeHydrateFallback:n}={}){return i=t.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let r=[i.module];return i.clientActionModule&&(r=r.concat(i.clientActionModule)),i.clientLoaderModule&&(r=r.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(r=r.concat(i.hydrateFallbackModule)),i.imports&&(r=r.concat(i.imports)),r}).flat(1),[...new Set(i)];var i}function Ot(){let t=n.useContext(J);return Ct(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Dt=n.createContext(void 0);function zt(){let t=n.useContext(Dt);return Ct(t,"You must render this element inside a <HydratedRouter> element"),t}function Pt(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Ut({page:t,...e}){let{router:i}=Ot(),r=n.useMemo(()=>N(i.routes,t,i.basename),[i.routes,t,i.basename]);return r?n.createElement(qt,{page:t,matches:r,...e}):null}function qt({page:t,matches:e,...i}){let r=ot(),{manifest:s,routeModules:o}=zt(),{basename:a}=Ot(),{loaderData:c,matches:l}=function(){let t=n.useContext(X);return Ct(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}(),u=n.useMemo(()=>Tt(t,e,l,s,r,"data"),[t,e,l,s,r]),h=n.useMemo(()=>Tt(t,e,l,s,r,"assets"),[t,e,l,s,r]),d=n.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let n=new Set,i=!1;if(e.forEach(t=>{let e=s.routes[t.route.id];e&&e.hasLoader&&(!u.some(e=>e.route.id===t.route.id)&&t.route.id in c&&o[t.route.id]?.shouldRevalidate||e.hasClientLoader?i=!0:n.add(t.route.id))}),0===n.size)return[];let l=function(t,e,n){let i="string"==typeof t?new URL(t,"undefined"==typeof window?"server://singlefetch/":window.location.origin):t;return"/"===i.pathname?i.pathname=`_root.${n}`:e&&"/"===F(i.pathname,e)?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}(t,a,"data");return i&&n.size>0&&l.searchParams.set("_routes",e.filter(t=>n.has(t.route.id)).map(t=>t.route.id).join(",")),[l.pathname+l.search]},[a,c,r,s,u,e,t,o]),m=n.useMemo(()=>Rt(h,s),[h,s]),f=function(t){let{manifest:e,routeModules:i}=zt(),[r,s]=n.useState([]);return n.useEffect(()=>{let n=!1;return _t(t,e,i).then(t=>{n||s(t)}),()=>{n=!0}},[t,e,i]),r}(h);return n.createElement(n.Fragment,null,d.map(t=>n.createElement("link",{key:t,rel:"prefetch",as:"fetch",href:t,...i})),m.map(t=>n.createElement("link",{key:t,rel:"modulepreload",href:t,...i})),f.map(({key:t,link:e})=>n.createElement("link",{key:t,nonce:i.nonce,...e})))}function Ft(...t){return e=>{t.forEach(t=>{"function"==typeof t?t(e):null!=t&&(t.current=e)})}}Dt.displayName="FrameworkContext";var Wt="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;try{Wt&&(window.__reactRouterVersion="7.9.4")}catch(dy){}function Kt({basename:t,children:e,window:i}){let r=n.useRef();null==r.current&&(r.current=x({window:i,v5Compat:!0}));let s=r.current,[o,a]=n.useState({action:s.action,location:s.location}),c=n.useCallback(t=>{n.startTransition(()=>a(t))},[a]);return n.useLayoutEffect(()=>s.listen(c),[s,c]),n.createElement(xt,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:s})}var Ht=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$t=n.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:r,reloadDocument:s,replace:o,state:a,target:c,to:l,preventScrollReset:u,viewTransition:h,...d},m){let f,{basename:p}=n.useContext(et),g="string"==typeof l&&Ht.test(l),y=!1;if("string"==typeof l&&g&&(f=l,Wt))try{let t=new URL(window.location.href),e=l.startsWith("//")?new URL(t.protocol+l):new URL(l),n=F(e.pathname,p);e.origin===t.origin&&null!=n?l=n+e.search+e.hash:y=!0}catch(dy){M(!1,`<Link to="${l}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=function(t,{relative:e}={}){E(st(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:r}=n.useContext(et),{hash:s,pathname:o,search:a}=ut(t,{relative:e}),c=o;return"/"!==i&&(c="/"===o?i:$([i,o])),r.createHref({pathname:c,search:a,hash:s})}(l,{relative:r}),[v,b,x]=function(t,e){let i=n.useContext(Dt),[r,s]=n.useState(!1),[o,a]=n.useState(!1),{onFocus:c,onBlur:l,onMouseEnter:u,onMouseLeave:h,onTouchStart:d}=e,m=n.useRef(null);n.useEffect(()=>{if("render"===t&&a(!0),"viewport"===t){let t=new IntersectionObserver(t=>{t.forEach(t=>{a(t.isIntersecting)})},{threshold:.5});return m.current&&t.observe(m.current),()=>{t.disconnect()}}},[t]),n.useEffect(()=>{if(r){let t=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(t)}}},[r]);let f=()=>{s(!0)},p=()=>{s(!1),a(!1)};return i?"intent"!==t?[o,m,{}]:[o,m,{onFocus:Pt(c,f),onBlur:Pt(l,p),onMouseEnter:Pt(u,f),onMouseLeave:Pt(h,p),onTouchStart:Pt(d,f)}]:[!1,m,{}]}(i,d),S=function(t,{target:e,replace:i,state:r,preventScrollReset:s,relative:o,viewTransition:a}={}){let c=lt(),l=ot(),u=ut(t,{relative:o});return n.useCallback(n=>{if(function(t,e){return!(0!==t.button||e&&"_self"!==e||function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t))}(n,e)){n.preventDefault();let e=void 0!==i?i:k(l)===k(u);c(t,{replace:e,state:r,preventScrollReset:s,relative:o,viewTransition:a})}},[l,c,u,i,r,e,t,s,o,a])}(l,{replace:o,state:a,target:c,preventScrollReset:u,relative:r,viewTransition:h});let A=n.createElement("a",{...d,...x,href:f||w,onClick:y||s?t:function(e){t&&t(e),e.defaultPrevented||S(e)},ref:Ft(m,b),target:c,"data-discover":g||"render"!==e?void 0:"true"});return v&&!g?n.createElement(n.Fragment,null,A,n.createElement(Ut,{page:w})):A});function Vt(t){let e=n.useContext(J);return E(e,function(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}(t)),e}$t.displayName="Link",n.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:r=!1,style:s,to:o,viewTransition:a,children:c,...l},u){let h=ut(o,{relative:l.relative}),d=ot(),m=n.useContext(X),{navigator:f,basename:p}=n.useContext(et),g=null!=m&&function(t,{relative:e}={}){let i=n.useContext(tt);E(null!=i,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Vt("useViewTransitionState"),s=ut(t,{relative:e});if(!i.isTransitioning)return!1;let o=F(i.currentLocation.pathname,r)||i.currentLocation.pathname,a=F(i.nextLocation.pathname,r)||i.nextLocation.pathname;return null!=U(s.pathname,a)||null!=U(s.pathname,o)}(h)&&!0===a,y=f.encodeLocation?f.encodeLocation(h).pathname:h.pathname,w=d.pathname,v=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;e||(w=w.toLowerCase(),v=v?v.toLowerCase():null,y=y.toLowerCase()),v&&p&&(v=F(v,p)||v);const b="/"!==y&&y.endsWith("/")?y.length-1:y.length;let x,M=w===y||!r&&w.startsWith(y)&&"/"===w.charAt(b),S=null!=v&&(v===y||!r&&v.startsWith(y)&&"/"===v.charAt(y.length)),A={isActive:M,isPending:S,isTransitioning:g},k=M?t:void 0;x="function"==typeof i?i(A):[i,M?"active":null,S?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let I="function"==typeof s?s(A):s;return n.createElement($t,{...l,"aria-current":k,className:x,ref:u,style:I,to:o,viewTransition:a},"function"==typeof c?c(A):c)}).displayName="NavLink",n.forwardRef(({discover:t="render",fetcherKey:e,navigate:i,reloadDocument:r,replace:s,state:o,method:a=St,action:c,onSubmit:l,relative:u,preventScrollReset:h,viewTransition:d,...m},f)=>{let p=function(){let{router:t}=Vt("useSubmit"),{basename:e}=n.useContext(et),i=yt("useRouteId");return n.useCallback(async(n,r={})=>{let{action:s,method:o,encType:a,formData:c,body:l}=jt(n,e);if(!1===r.navigate){let e=r.fetcherKey||Yt();await t.fetch(e,i,r.action||s,{preventScrollReset:r.preventScrollReset,formData:c,body:l,formMethod:r.method||o,formEncType:r.encType||a,flushSync:r.flushSync})}else await t.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:c,body:l,formMethod:r.method||o,formEncType:r.encType||a,replace:r.replace,state:r.state,fromRouteId:i,flushSync:r.flushSync,viewTransition:r.viewTransition})},[t,e,i])}(),g=function(t,{relative:e}={}){let{basename:i}=n.useContext(et),r=n.useContext(it);E(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...ut(t||".",{relative:e})},a=ot();if(null==t){o.search=a.search;let t=new URLSearchParams(o.search),e=t.getAll("index");if(e.some(t=>""===t)){t.delete("index"),e.filter(t=>t).forEach(e=>t.append("index",e));let n=t.toString();o.search=n?`?${n}`:""}}t&&"."!==t||!s.route.index||(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index");"/"!==i&&(o.pathname="/"===o.pathname?i:$([i,o.pathname]));return k(o)}(c,{relative:u}),y="get"===a.toLowerCase()?"get":"post",w="string"==typeof c&&Ht.test(c);return n.createElement("form",{ref:f,method:y,action:g,onSubmit:r?l:t=>{if(l&&l(t),t.defaultPrevented)return;t.preventDefault();let n=t.nativeEvent.submitter,r=n?.getAttribute("formmethod")||a;p(n||t.currentTarget,{fetcherKey:e,method:r,navigate:i,replace:s,state:o,relative:u,preventScrollReset:h,viewTransition:d})},...m,"data-discover":w||"render"!==t?void 0:"true"})}).displayName="Form";var Zt=0,Yt=()=>`__${String(++Zt)}__`;for(var Gt={},Qt={byteLength:function(t){var e=ie(t),n=e[0],i=e[1];return 3*(n+i)/4-i},toByteArray:function(t){var e,n,i=ie(t),r=i[0],s=i[1],o=new te(function(t,e,n){return 3*(e+n)/4-n}(0,r,s)),a=0,c=s>0?r-4:r;for(n=0;n<c;n+=4)e=Xt[t.charCodeAt(n)]<<18|Xt[t.charCodeAt(n+1)]<<12|Xt[t.charCodeAt(n+2)]<<6|Xt[t.charCodeAt(n+3)],o[a++]=e>>16&255,o[a++]=e>>8&255,o[a++]=255&e;2===s&&(e=Xt[t.charCodeAt(n)]<<2|Xt[t.charCodeAt(n+1)]>>4,o[a++]=255&e);1===s&&(e=Xt[t.charCodeAt(n)]<<10|Xt[t.charCodeAt(n+1)]<<4|Xt[t.charCodeAt(n+2)]>>2,o[a++]=e>>8&255,o[a++]=255&e);return o},fromByteArray:function(t){for(var e,n=t.length,i=n%3,r=[],s=16383,o=0,a=n-i;o<a;o+=s)r.push(se(t,o,o+s>a?a:o+s));1===i?(e=t[n-1],r.push(Jt[e>>2]+Jt[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],r.push(Jt[e>>10]+Jt[e>>4&63]+Jt[e<<2&63]+"="));return r.join("")}},Jt=[],Xt=[],te="undefined"!=typeof Uint8Array?Uint8Array:Array,ee="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ne=0;ne<64;++ne)Jt[ne]=ee[ne],Xt[ee.charCodeAt(ne)]=ne;function ie(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function re(t){return Jt[t>>18&63]+Jt[t>>12&63]+Jt[t>>6&63]+Jt[63&t]}function se(t,e,n){for(var i,r=[],s=e;s<n;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),r.push(re(i));return r.join("")}Xt["-".charCodeAt(0)]=62,Xt["_".charCodeAt(0)]=63;var oe={
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
read:function(t,e,n,i,r){var s,o,a=8*r-i-1,c=(1<<a)-1,l=c>>1,u=-7,h=n?r-1:0,d=n?-1:1,m=t[e+h];for(h+=d,s=m&(1<<-u)-1,m>>=-u,u+=a;u>0;s=256*s+t[e+h],h+=d,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=i;u>0;o=256*o+t[e+h],h+=d,u-=8);if(0===s)s=1-l;else{if(s===c)return o?NaN:1/0*(m?-1:1);o+=Math.pow(2,i),s-=l}return(m?-1:1)*o*Math.pow(2,s-i)},write:function(t,e,n,i,r,s){var o,a,c,l=8*s-r-1,u=(1<<l)-1,h=u>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,m=i?0:s-1,f=i?1:-1,p=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),(e+=o+h>=1?d/c:d*Math.pow(2,1-h))*c>=2&&(o++,c/=2),o+h>=u?(a=0,o=u):o+h>=1?(a=(e*c-1)*Math.pow(2,r),o+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,r),o=0));r>=8;t[n+m]=255&a,m+=f,a/=256,r-=8);for(o=o<<r|a,l+=r;l>0;t[n+m]=255&o,m+=f,o/=256,l-=8);t[n+m-f]|=128*p}};
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
!function(t){const e=Qt,n=oe,i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=o,t.SlowBuffer=function(t){+t!=t&&(t=0);return o.alloc(+t)},t.INSPECT_MAX_BYTES=50;const r=2147483647;function s(t){if(t>r)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,o.prototype),e}function o(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return l(t)}return a(t,e,n)}function a(t,e,n){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!o.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const n=0|m(t,e);let i=s(n);const r=i.write(t,e);r!==n&&(i=i.slice(0,r));return i}(t,e);if(ArrayBuffer.isView(t))return function(t){if(V(t,Uint8Array)){const e=new Uint8Array(t);return h(e.buffer,e.byteOffset,e.byteLength)}return u(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(V(t,ArrayBuffer)||t&&V(t.buffer,ArrayBuffer))return h(t,e,n);if("undefined"!=typeof SharedArrayBuffer&&(V(t,SharedArrayBuffer)||t&&V(t.buffer,SharedArrayBuffer)))return h(t,e,n);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const i=t.valueOf&&t.valueOf();if(null!=i&&i!==t)return o.from(i,e,n);const r=function(t){if(o.isBuffer(t)){const e=0|d(t.length),n=s(e);return 0===n.length||t.copy(n,0,0,e),n}if(void 0!==t.length)return"number"!=typeof t.length||Z(t.length)?s(0):u(t);if("Buffer"===t.type&&Array.isArray(t.data))return u(t.data)}(t);if(r)return r;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return o.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function l(t){return c(t),s(t<0?0:0|d(t))}function u(t){const e=t.length<0?0:0|d(t.length),n=s(e);for(let i=0;i<e;i+=1)n[i]=255&t[i];return n}function h(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');let i;return i=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),Object.setPrototypeOf(i,o.prototype),i}function d(t){if(t>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return 0|t}function m(t,e){if(o.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||V(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const n=t.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===n)return 0;let r=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return K(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return H(t).length;default:if(r)return i?-1:K(t).length;e=(""+e).toLowerCase(),r=!0}}function f(t,e,n){let i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return N(this,e,n);case"utf8":case"utf-8":return S(this,e,n);case"ascii":return k(this,e,n);case"latin1":case"binary":return I(this,e,n);case"base64":return M(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}function p(t,e,n){const i=t[e];t[e]=t[n],t[n]=i}function g(t,e,n,i,r){if(0===t.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),Z(n=+n)&&(n=r?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(r)return-1;n=t.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof e&&(e=o.from(e,i)),o.isBuffer(e))return 0===e.length?-1:y(t,e,n,i,r);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):y(t,[e],n,i,r);throw new TypeError("val must be string, number or Buffer")}function y(t,e,n,i,r){let s,o=1,a=t.length,c=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;o=2,a/=2,c/=2,n/=2}function l(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(r){let i=-1;for(s=n;s<a;s++)if(l(t,s)===l(e,-1===i?0:s-i)){if(-1===i&&(i=s),s-i+1===c)return i*o}else-1!==i&&(s-=s-i),i=-1}else for(n+c>a&&(n=a-c),s=n;s>=0;s--){let n=!0;for(let i=0;i<c;i++)if(l(t,s+i)!==l(e,i)){n=!1;break}if(n)return s}return-1}function w(t,e,n,i){n=Number(n)||0;const r=t.length-n;i?(i=Number(i))>r&&(i=r):i=r;const s=e.length;let o;for(i>s/2&&(i=s/2),o=0;o<i;++o){const i=parseInt(e.substr(2*o,2),16);if(Z(i))return o;t[n+o]=i}return o}function v(t,e,n,i){return $(K(e,t.length-n),t,n,i)}function b(t,e,n,i){return $(function(t){const e=[];for(let n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,i)}function x(t,e,n,i){return $(H(e),t,n,i)}function E(t,e,n,i){return $(function(t,e){let n,i,r;const s=[];for(let o=0;o<t.length&&!((e-=2)<0);++o)n=t.charCodeAt(o),i=n>>8,r=n%256,s.push(r),s.push(i);return s}(e,t.length-n),t,n,i)}function M(t,n,i){return 0===n&&i===t.length?e.fromByteArray(t):e.fromByteArray(t.slice(n,i))}function S(t,e,n){n=Math.min(t.length,n);const i=[];let r=e;for(;r<n;){const e=t[r];let s=null,o=e>239?4:e>223?3:e>191?2:1;if(r+o<=n){let n,i,a,c;switch(o){case 1:e<128&&(s=e);break;case 2:n=t[r+1],128==(192&n)&&(c=(31&e)<<6|63&n,c>127&&(s=c));break;case 3:n=t[r+1],i=t[r+2],128==(192&n)&&128==(192&i)&&(c=(15&e)<<12|(63&n)<<6|63&i,c>2047&&(c<55296||c>57343)&&(s=c));break;case 4:n=t[r+1],i=t[r+2],a=t[r+3],128==(192&n)&&128==(192&i)&&128==(192&a)&&(c=(15&e)<<18|(63&n)<<12|(63&i)<<6|63&a,c>65535&&c<1114112&&(s=c))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,i.push(s>>>10&1023|55296),s=56320|1023&s),i.push(s),r+=o}return function(t){const e=t.length;if(e<=A)return String.fromCharCode.apply(String,t);let n="",i=0;for(;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=A));return n}(i)}t.kMaxLength=r,o.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(dy){return!1}}(),!o.TYPED_ARRAY_SUPPORT&&"undefined"!=typeof console&&console.error,Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),o.poolSize=8192,o.from=function(t,e,n){return a(t,e,n)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array),o.alloc=function(t,e,n){return function(t,e,n){return c(t),t<=0?s(t):void 0!==e?"string"==typeof n?s(t).fill(e,n):s(t).fill(e):s(t)}(t,e,n)},o.allocUnsafe=function(t){return l(t)},o.allocUnsafeSlow=function(t){return l(t)},o.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==o.prototype},o.compare=function(t,e){if(V(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),V(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(t)||!o.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let n=t.length,i=e.length;for(let r=0,s=Math.min(n,i);r<s;++r)if(t[r]!==e[r]){n=t[r],i=e[r];break}return n<i?-1:i<n?1:0},o.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return o.alloc(0);let n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;const i=o.allocUnsafe(e);let r=0;for(n=0;n<t.length;++n){let e=t[n];if(V(e,Uint8Array))r+e.length>i.length?(o.isBuffer(e)||(e=o.from(e)),e.copy(i,r)):Uint8Array.prototype.set.call(i,e,r);else{if(!o.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(i,r)}r+=e.length}return i},o.byteLength=m,o.prototype._isBuffer=!0,o.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)p(this,e,e+1);return this},o.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)p(this,e,e+3),p(this,e+1,e+2);return this},o.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)p(this,e,e+7),p(this,e+1,e+6),p(this,e+2,e+5),p(this,e+3,e+4);return this},o.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?S(this,0,t):f.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(t){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===o.compare(this,t)},o.prototype.inspect=function(){let e="";const n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},i&&(o.prototype[i]=o.prototype.inspect),o.prototype.compare=function(t,e,n,i,r){if(V(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),e<0||n>t.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&e>=n)return 0;if(i>=r)return-1;if(e>=n)return 1;if(this===t)return 0;let s=(r>>>=0)-(i>>>=0),a=(n>>>=0)-(e>>>=0);const c=Math.min(s,a),l=this.slice(i,r),u=t.slice(e,n);for(let o=0;o<c;++o)if(l[o]!==u[o]){s=l[o],a=u[o];break}return s<a?-1:a<s?1:0},o.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},o.prototype.indexOf=function(t,e,n){return g(this,t,e,n,!0)},o.prototype.lastIndexOf=function(t,e,n){return g(this,t,e,n,!1)},o.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}const r=this.length-e;if((void 0===n||n>r)&&(n=r),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let s=!1;for(;;)switch(i){case"hex":return w(this,t,e,n);case"utf8":case"utf-8":return v(this,t,e,n);case"ascii":case"latin1":case"binary":return b(this,t,e,n);case"base64":return x(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,n);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const A=4096;function k(t,e,n){let i="";n=Math.min(t.length,n);for(let r=e;r<n;++r)i+=String.fromCharCode(127&t[r]);return i}function I(t,e,n){let i="";n=Math.min(t.length,n);for(let r=e;r<n;++r)i+=String.fromCharCode(t[r]);return i}function N(t,e,n){const i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);let r="";for(let s=e;s<n;++s)r+=Y[t[s]];return r}function L(t,e,n){const i=t.slice(e,n);let r="";for(let s=0;s<i.length-1;s+=2)r+=String.fromCharCode(i[s]+256*i[s+1]);return r}function j(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function C(t,e,n,i,r,s){if(!o.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<s)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function B(t,e,n,i,r){U(e,i,r,t,n,7);let s=Number(e&BigInt(4294967295));t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o,n}function _(t,e,n,i,r){U(e,i,r,t,n,7);let s=Number(e&BigInt(4294967295));t[n+7]=s,s>>=8,t[n+6]=s,s>>=8,t[n+5]=s,s>>=8,t[n+4]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[n+3]=o,o>>=8,t[n+2]=o,o>>=8,t[n+1]=o,o>>=8,t[n]=o,n+8}function T(t,e,n,i,r,s){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function R(t,e,i,r,s){return e=+e,i>>>=0,s||T(t,0,i,4),n.write(t,e,i,r,23,4),i+4}function O(t,e,i,r,s){return e=+e,i>>>=0,s||T(t,0,i,8),n.write(t,e,i,r,52,8),i+8}o.prototype.slice=function(t,e){const n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);const i=this.subarray(t,e);return Object.setPrototypeOf(i,o.prototype),i},o.prototype.readUintLE=o.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||j(t,e,this.length);let i=this[t],r=1,s=0;for(;++s<e&&(r*=256);)i+=this[t+s]*r;return i},o.prototype.readUintBE=o.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||j(t,e,this.length);let i=this[t+--e],r=1;for(;e>0&&(r*=256);)i+=this[t+--e]*r;return i},o.prototype.readUint8=o.prototype.readUInt8=function(t,e){return t>>>=0,e||j(t,1,this.length),this[t]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(t,e){return t>>>=0,e||j(t,2,this.length),this[t]|this[t+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(t,e){return t>>>=0,e||j(t,2,this.length),this[t]<<8|this[t+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(t,e){return t>>>=0,e||j(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(t,e){return t>>>=0,e||j(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},o.prototype.readBigUInt64LE=G(function(t){q(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||F(t,this.length-8);const i=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,r=this[++t]+256*this[++t]+65536*this[++t]+n*2**24;return BigInt(i)+(BigInt(r)<<BigInt(32))}),o.prototype.readBigUInt64BE=G(function(t){q(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||F(t,this.length-8);const i=e*2**24+65536*this[++t]+256*this[++t]+this[++t],r=this[++t]*2**24+65536*this[++t]+256*this[++t]+n;return(BigInt(i)<<BigInt(32))+BigInt(r)}),o.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||j(t,e,this.length);let i=this[t],r=1,s=0;for(;++s<e&&(r*=256);)i+=this[t+s]*r;return r*=128,i>=r&&(i-=Math.pow(2,8*e)),i},o.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||j(t,e,this.length);let i=e,r=1,s=this[t+--i];for(;i>0&&(r*=256);)s+=this[t+--i]*r;return r*=128,s>=r&&(s-=Math.pow(2,8*e)),s},o.prototype.readInt8=function(t,e){return t>>>=0,e||j(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},o.prototype.readInt16LE=function(t,e){t>>>=0,e||j(t,2,this.length);const n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(t,e){t>>>=0,e||j(t,2,this.length);const n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(t,e){return t>>>=0,e||j(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},o.prototype.readInt32BE=function(t,e){return t>>>=0,e||j(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},o.prototype.readBigInt64LE=G(function(t){q(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||F(t,this.length-8);const i=this[t+4]+256*this[t+5]+65536*this[t+6]+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)}),o.prototype.readBigInt64BE=G(function(t){q(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||F(t,this.length-8);const i=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(i)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+n)}),o.prototype.readFloatLE=function(t,e){return t>>>=0,e||j(t,4,this.length),n.read(this,t,!0,23,4)},o.prototype.readFloatBE=function(t,e){return t>>>=0,e||j(t,4,this.length),n.read(this,t,!1,23,4)},o.prototype.readDoubleLE=function(t,e){return t>>>=0,e||j(t,8,this.length),n.read(this,t,!0,52,8)},o.prototype.readDoubleBE=function(t,e){return t>>>=0,e||j(t,8,this.length),n.read(this,t,!1,52,8)},o.prototype.writeUintLE=o.prototype.writeUIntLE=function(t,e,n,i){if(t=+t,e>>>=0,n>>>=0,!i){C(this,t,e,n,Math.pow(2,8*n)-1,0)}let r=1,s=0;for(this[e]=255&t;++s<n&&(r*=256);)this[e+s]=t/r&255;return e+n},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(t,e,n,i){if(t=+t,e>>>=0,n>>>=0,!i){C(this,t,e,n,Math.pow(2,8*n)-1,0)}let r=n-1,s=1;for(this[e+r]=255&t;--r>=0&&(s*=256);)this[e+r]=t/s&255;return e+n},o.prototype.writeUint8=o.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,1,255,0),this[e]=255&t,e+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},o.prototype.writeBigUInt64LE=G(function(t,e=0){return B(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=G(function(t,e=0){return _(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e>>>=0,!i){const i=Math.pow(2,8*n-1);C(this,t,e,n,i-1,-i)}let r=0,s=1,o=0;for(this[e]=255&t;++r<n&&(s*=256);)t<0&&0===o&&0!==this[e+r-1]&&(o=1),this[e+r]=(t/s|0)-o&255;return e+n},o.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e>>>=0,!i){const i=Math.pow(2,8*n-1);C(this,t,e,n,i-1,-i)}let r=n-1,s=1,o=0;for(this[e+r]=255&t;--r>=0&&(s*=256);)t<0&&0===o&&0!==this[e+r+1]&&(o=1),this[e+r]=(t/s|0)-o&255;return e+n},o.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},o.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},o.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},o.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},o.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},o.prototype.writeBigInt64LE=G(function(t,e=0){return B(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=G(function(t,e=0){return _(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeFloatLE=function(t,e,n){return R(this,t,e,!0,n)},o.prototype.writeFloatBE=function(t,e,n){return R(this,t,e,!1,n)},o.prototype.writeDoubleLE=function(t,e,n){return O(this,t,e,!0,n)},o.prototype.writeDoubleBE=function(t,e,n){return O(this,t,e,!1,n)},o.prototype.copy=function(t,e,n,i){if(!o.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);const r=i-n;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,n,i):Uint8Array.prototype.set.call(t,this.subarray(n,i),e),r},o.prototype.fill=function(t,e,n,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!o.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(1===t.length){const e=t.charCodeAt(0);("utf8"===i&&e<128||"latin1"===i)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;let r;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(r=e;r<n;++r)this[r]=t;else{const s=o.isBuffer(t)?t:o.from(t,i),a=s.length;if(0===a)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(r=0;r<n-e;++r)this[r+e]=s[r%a]}return this};const D={};function z(t,e,n){D[t]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function P(t){let e="",n=t.length;const i="-"===t[0]?1:0;for(;n>=i+4;n-=3)e=`_${t.slice(n-3,n)}${e}`;return`${t.slice(0,n)}${e}`}function U(t,e,n,i,r,s){if(t>n||t<e){const n="bigint"==typeof e?"n":"";let i;throw i=0===e||e===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(s+1)}${n}`:`>= -(2${n} ** ${8*(s+1)-1}${n}) and < 2 ** ${8*(s+1)-1}${n}`,new D.ERR_OUT_OF_RANGE("value",i,t)}!function(t,e,n){q(e,"offset"),void 0!==t[e]&&void 0!==t[e+n]||F(e,t.length-(n+1))}(i,r,s)}function q(t,e){if("number"!=typeof t)throw new D.ERR_INVALID_ARG_TYPE(e,"number",t)}function F(t,e,n){if(Math.floor(t)!==t)throw q(t,n),new D.ERR_OUT_OF_RANGE("offset","an integer",t);if(e<0)throw new D.ERR_BUFFER_OUT_OF_BOUNDS;throw new D.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${e}`,t)}z("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),z("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError),z("ERR_OUT_OF_RANGE",function(t,e,n){let i=`The value of "${t}" is out of range.`,r=n;return Number.isInteger(n)&&Math.abs(n)>2**32?r=P(String(n)):"bigint"==typeof n&&(r=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(r=P(r)),r+="n"),i+=` It must be ${e}. Received ${r}`,i},RangeError);const W=/[^+/0-9A-Za-z-_]/g;function K(t,e){let n;e=e||1/0;const i=t.length;let r=null;const s=[];for(let o=0;o<i;++o){if(n=t.charCodeAt(o),n>55295&&n<57344){if(!r){if(n>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(o+1===i){(e-=3)>-1&&s.push(239,191,189);continue}r=n;continue}if(n<56320){(e-=3)>-1&&s.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(e-=3)>-1&&s.push(239,191,189);if(r=null,n<128){if((e-=1)<0)break;s.push(n)}else if(n<2048){if((e-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return s}function H(t){return e.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(W,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function $(t,e,n,i){let r;for(r=0;r<i&&!(r+n>=e.length||r>=t.length);++r)e[r+n]=t[r];return r}function V(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function Z(t){return t!=t}const Y=function(){const t="0123456789abcdef",e=new Array(256);for(let n=0;n<16;++n){const i=16*n;for(let r=0;r<16;++r)e[i+r]=t[n]+t[r]}return e}();function G(t){return"undefined"==typeof BigInt?Q:t}function Q(){throw new Error("BigInt not supported")}}(Gt);const ae="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ce(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&"Uint8Array"===t.constructor.name}function le(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function ue(t,...e){if(!ce(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function he(t){if("function"!=typeof t||"function"!=typeof t.create)throw new Error("Hash should be wrapped by utils.createHasher");le(t.outputLen),le(t.blockLen)}function de(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function me(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function fe(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function pe(t,e){return t<<32-e|t>>>e}const ge=(()=>"function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex)(),ye=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function we(t){if(ue(t),ge)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=ye[t[n]];return e}const ve=48,be=57,xe=65,Ee=70,Me=97,Se=102;function Ae(t){return t>=ve&&t<=be?t-ve:t>=xe&&t<=Ee?t-(xe-10):t>=Me&&t<=Se?t-(Me-10):void 0}function ke(t){if("string"!=typeof t)throw new Error("hex string expected, got "+typeof t);if(ge)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const i=new Uint8Array(n);for(let r=0,s=0;r<n;r++,s+=2){const e=Ae(t.charCodeAt(s)),n=Ae(t.charCodeAt(s+1));if(void 0===e||void 0===n){const e=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+e+'" at index '+s)}i[r]=16*e+n}return i}function Ie(t){return"string"==typeof t&&(t=function(t){if("string"!=typeof t)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(t))}(t)),ue(t),t}function Ne(...t){let e=0;for(let i=0;i<t.length;i++){const n=t[i];ue(n),e+=n.length}const n=new Uint8Array(e);for(let i=0,r=0;i<t.length;i++){const e=t[i];n.set(e,r),r+=e.length}return n}class Le{}function je(t){const e=e=>t().update(Ie(e)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Ce(t=32){if(ae&&"function"==typeof ae.getRandomValues)return ae.getRandomValues(new Uint8Array(t));if(ae&&"function"==typeof ae.randomBytes)return Uint8Array.from(ae.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}function Be(t,e,n){return t&e^~t&n}function _e(t,e,n){return t&e^t&n^e&n}class Te extends Le{constructor(t,e,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=e,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(t),this.view=fe(this.buffer)}update(t){de(this),ue(t=Ie(t));const{view:e,buffer:n,blockLen:i}=this,r=t.length;for(let s=0;s<r;){const o=Math.min(i-this.pos,r-s);if(o===i){const e=fe(t);for(;i<=r-s;s+=i)this.process(e,s);continue}n.set(t.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===i&&(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){de(this),function(t,e){ue(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}(t,this),this.finished=!0;const{buffer:e,view:n,blockLen:i,isLE:r}=this;let{pos:s}=this;e[s++]=128,me(this.buffer.subarray(s)),this.padOffset>i-s&&(this.process(n,0),s=0);for(let u=s;u<i;u++)e[u]=0;!function(t,e,n,i){if("function"==typeof t.setBigUint64)return t.setBigUint64(e,n,i);const r=BigInt(32),s=BigInt(4294967295),o=Number(n>>r&s),a=Number(n&s),c=i?4:0,l=i?0:4;t.setUint32(e+c,o,i),t.setUint32(e+l,a,i)}(n,i-8,BigInt(8*this.length),r),this.process(n,0);const o=fe(t),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,l=this.get();if(c>l.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<c;u++)o.setUint32(4*u,l[u],r)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const n=t.slice(0,e);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:n,length:i,finished:r,destroyed:s,pos:o}=this;return t.destroyed=s,t.finished=r,t.length=i,t.pos=o,i%e&&t.buffer.set(n),t}clone(){return this._cloneInto()}}const Re=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Oe=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),De=BigInt(2**32-1),ze=BigInt(32);function Pe(t,e=!1){return e?{h:Number(t&De),l:Number(t>>ze&De)}:{h:0|Number(t>>ze&De),l:0|Number(t&De)}}const Ue=(t,e,n)=>t>>>n,qe=(t,e,n)=>t<<32-n|e>>>n,Fe=(t,e,n)=>t>>>n|e<<32-n,We=(t,e,n)=>t<<32-n|e>>>n,Ke=(t,e,n)=>t<<64-n|e>>>n-32,He=(t,e,n)=>t>>>n-32|e<<64-n;function $e(t,e,n,i){const r=(e>>>0)+(i>>>0);return{h:t+n+(r/2**32|0)|0,l:0|r}}const Ve=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),Ze=(t,e,n,i)=>e+n+i+(t/2**32|0)|0,Ye=(t,e,n,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(i>>>0),Ge=(t,e,n,i,r)=>e+n+i+r+(t/2**32|0)|0,Qe=(t,e,n,i,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(i>>>0)+(r>>>0),Je=(t,e,n,i,r,s)=>e+n+i+r+s+(t/2**32|0)|0,Xe=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),tn=new Uint32Array(64);class en extends Te{constructor(t=32){super(64,t,8,!1),this.A=0|Re[0],this.B=0|Re[1],this.C=0|Re[2],this.D=0|Re[3],this.E=0|Re[4],this.F=0|Re[5],this.G=0|Re[6],this.H=0|Re[7]}get(){const{A:t,B:e,C:n,D:i,E:r,F:s,G:o,H:a}=this;return[t,e,n,i,r,s,o,a]}set(t,e,n,i,r,s,o,a){this.A=0|t,this.B=0|e,this.C=0|n,this.D=0|i,this.E=0|r,this.F=0|s,this.G=0|o,this.H=0|a}process(t,e){for(let u=0;u<16;u++,e+=4)tn[u]=t.getUint32(e,!1);for(let u=16;u<64;u++){const t=tn[u-15],e=tn[u-2],n=pe(t,7)^pe(t,18)^t>>>3,i=pe(e,17)^pe(e,19)^e>>>10;tn[u]=i+tn[u-7]+n+tn[u-16]|0}let{A:n,B:i,C:r,D:s,E:o,F:a,G:c,H:l}=this;for(let u=0;u<64;u++){const t=l+(pe(o,6)^pe(o,11)^pe(o,25))+Be(o,a,c)+Xe[u]+tn[u]|0,e=(pe(n,2)^pe(n,13)^pe(n,22))+_e(n,i,r)|0;l=c,c=a,a=o,o=s+t|0,s=r,r=i,i=n,n=t+e|0}n=n+this.A|0,i=i+this.B|0,r=r+this.C|0,s=s+this.D|0,o=o+this.E|0,a=a+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(n,i,r,s,o,a,c,l)}roundClean(){me(tn)}destroy(){this.set(0,0,0,0,0,0,0,0),me(this.buffer)}}const nn=(()=>function(t,e=!1){const n=t.length;let i=new Uint32Array(n),r=new Uint32Array(n);for(let s=0;s<n;s++){const{h:n,l:o}=Pe(t[s],e);[i[s],r[s]]=[n,o]}return[i,r]}(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))))(),rn=(()=>nn[0])(),sn=(()=>nn[1])(),on=new Uint32Array(80),an=new Uint32Array(80);class cn extends Te{constructor(t=64){super(128,t,16,!1),this.Ah=0|Oe[0],this.Al=0|Oe[1],this.Bh=0|Oe[2],this.Bl=0|Oe[3],this.Ch=0|Oe[4],this.Cl=0|Oe[5],this.Dh=0|Oe[6],this.Dl=0|Oe[7],this.Eh=0|Oe[8],this.El=0|Oe[9],this.Fh=0|Oe[10],this.Fl=0|Oe[11],this.Gh=0|Oe[12],this.Gl=0|Oe[13],this.Hh=0|Oe[14],this.Hl=0|Oe[15]}get(){const{Ah:t,Al:e,Bh:n,Bl:i,Ch:r,Cl:s,Dh:o,Dl:a,Eh:c,El:l,Fh:u,Fl:h,Gh:d,Gl:m,Hh:f,Hl:p}=this;return[t,e,n,i,r,s,o,a,c,l,u,h,d,m,f,p]}set(t,e,n,i,r,s,o,a,c,l,u,h,d,m,f,p){this.Ah=0|t,this.Al=0|e,this.Bh=0|n,this.Bl=0|i,this.Ch=0|r,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|c,this.El=0|l,this.Fh=0|u,this.Fl=0|h,this.Gh=0|d,this.Gl=0|m,this.Hh=0|f,this.Hl=0|p}process(t,e){for(let w=0;w<16;w++,e+=4)on[w]=t.getUint32(e),an[w]=t.getUint32(e+=4);for(let w=16;w<80;w++){const t=0|on[w-15],e=0|an[w-15],n=Fe(t,e,1)^Fe(t,e,8)^Ue(t,0,7),i=We(t,e,1)^We(t,e,8)^qe(t,e,7),r=0|on[w-2],s=0|an[w-2],o=Fe(r,s,19)^Ke(r,s,61)^Ue(r,0,6),a=We(r,s,19)^He(r,s,61)^qe(r,s,6),c=Ye(i,a,an[w-7],an[w-16]),l=Ge(c,n,o,on[w-7],on[w-16]);on[w]=0|l,an[w]=0|c}let{Ah:n,Al:i,Bh:r,Bl:s,Ch:o,Cl:a,Dh:c,Dl:l,Eh:u,El:h,Fh:d,Fl:m,Gh:f,Gl:p,Hh:g,Hl:y}=this;for(let w=0;w<80;w++){const t=Fe(u,h,14)^Fe(u,h,18)^Ke(u,h,41),e=We(u,h,14)^We(u,h,18)^He(u,h,41),v=u&d^~u&f,b=Qe(y,e,h&m^~h&p,sn[w],an[w]),x=Je(b,g,t,v,rn[w],on[w]),E=0|b,M=Fe(n,i,28)^Ke(n,i,34)^Ke(n,i,39),S=We(n,i,28)^He(n,i,34)^He(n,i,39),A=n&r^n&o^r&o,k=i&s^i&a^s&a;g=0|f,y=0|p,f=0|d,p=0|m,d=0|u,m=0|h,({h:u,l:h}=$e(0|c,0|l,0|x,0|E)),c=0|o,l=0|a,o=0|r,a=0|s,r=0|n,s=0|i;const I=Ve(E,S,k);n=Ze(I,x,M,A),i=0|I}({h:n,l:i}=$e(0|this.Ah,0|this.Al,0|n,0|i)),({h:r,l:s}=$e(0|this.Bh,0|this.Bl,0|r,0|s)),({h:o,l:a}=$e(0|this.Ch,0|this.Cl,0|o,0|a)),({h:c,l:l}=$e(0|this.Dh,0|this.Dl,0|c,0|l)),({h:u,l:h}=$e(0|this.Eh,0|this.El,0|u,0|h)),({h:d,l:m}=$e(0|this.Fh,0|this.Fl,0|d,0|m)),({h:f,l:p}=$e(0|this.Gh,0|this.Gl,0|f,0|p)),({h:g,l:y}=$e(0|this.Hh,0|this.Hl,0|g,0|y)),this.set(n,i,r,s,o,a,c,l,u,h,d,m,f,p,g,y)}roundClean(){me(on,an)}destroy(){me(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const ln=je(()=>new en),un=je(()=>new cn),hn=BigInt(0),dn=BigInt(1);function mn(t,e=""){if("boolean"!=typeof t){throw new Error((e&&`"${e}"`)+"expected boolean, got type="+typeof t)}return t}function fn(t,e,n=""){const i=ce(t),r=t?.length,s=void 0!==e;if(!i||s&&r!==e){throw new Error((n&&`"${n}" `)+"expected Uint8Array"+(s?` of length ${e}`:"")+", got "+(i?`length=${r}`:"type="+typeof t))}return t}function pn(t){const e=t.toString(16);return 1&e.length?"0"+e:e}function gn(t){if("string"!=typeof t)throw new Error("hex string expected, got "+typeof t);return""===t?hn:BigInt("0x"+t)}function yn(t){return gn(we(t))}function wn(t){return ue(t),gn(we(Uint8Array.from(t).reverse()))}function vn(t,e){return ke(t.toString(16).padStart(2*e,"0"))}function bn(t,e){return vn(t,e).reverse()}function xn(t,e,n){let i;if("string"==typeof e)try{i=ke(e)}catch(dy){throw new Error(t+" must be hex string or Uint8Array, cause: "+dy)}else{if(!ce(e))throw new Error(t+" must be hex string or Uint8Array");i=Uint8Array.from(e)}const r=i.length;if("number"==typeof n&&r!==n)throw new Error(t+" of length "+n+" expected, got "+r);return i}function En(t){return Uint8Array.from(t)}const Mn=t=>"bigint"==typeof t&&hn<=t;function Sn(t,e,n,i){if(!function(t,e,n){return Mn(t)&&Mn(e)&&Mn(n)&&e<=t&&t<n}(e,n,i))throw new Error("expected valid "+t+": "+n+" <= n < "+i+", got "+e)}function An(t){let e;for(e=0;t>hn;t>>=dn,e+=1);return e}const kn=t=>(dn<<BigInt(t))-dn;function In(t,e,n={}){if(!t||"object"!=typeof t)throw new Error("expected valid options object");function i(e,n,i){const r=t[e];if(i&&void 0===r)return;const s=typeof r;if(s!==n||null===r)throw new Error(`param "${e}" is invalid: expected ${n}, got ${s}`)}Object.entries(e).forEach(([t,e])=>i(t,e,!1)),Object.entries(n).forEach(([t,e])=>i(t,e,!0))}function Nn(t){const e=new WeakMap;return(n,...i)=>{const r=e.get(n);if(void 0!==r)return r;const s=t(n,...i);return e.set(n,s),s}}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ln=BigInt(0),jn=BigInt(1),Cn=BigInt(2),Bn=BigInt(3),_n=BigInt(4),Tn=BigInt(5),Rn=BigInt(7),On=BigInt(8),Dn=BigInt(9),zn=BigInt(16);function Pn(t,e){const n=t%e;return n>=Ln?n:e+n}function Un(t,e,n){let i=t;for(;e-- >Ln;)i*=i,i%=n;return i}function qn(t,e){if(t===Ln)throw new Error("invert: expected non-zero number");if(e<=Ln)throw new Error("invert: expected positive modulus, got "+e);let n=Pn(t,e),i=e,r=Ln,s=jn;for(;n!==Ln;){const t=i%n,e=r-s*(i/n);i=n,n=t,r=s,s=e}if(i!==jn)throw new Error("invert: does not exist");return Pn(r,e)}function Fn(t,e,n){if(!t.eql(t.sqr(e),n))throw new Error("Cannot find square root")}function Wn(t,e){const n=(t.ORDER+jn)/_n,i=t.pow(e,n);return Fn(t,i,e),i}function Kn(t,e){const n=(t.ORDER-Tn)/On,i=t.mul(e,Cn),r=t.pow(i,n),s=t.mul(e,r),o=t.mul(t.mul(s,Cn),r),a=t.mul(s,t.sub(o,t.ONE));return Fn(t,a,e),a}function Hn(t){if(t<Bn)throw new Error("sqrt is not defined for small field");let e=t-jn,n=0;for(;e%Cn===Ln;)e/=Cn,n++;let i=Cn;const r=Qn(t);for(;1===Yn(r,i);)if(i++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(1===n)return Wn;let s=r.pow(i,e);const o=(e+jn)/Cn;return function(t,i){if(t.is0(i))return i;if(1!==Yn(t,i))throw new Error("Cannot find square root");let r=n,a=t.mul(t.ONE,s),c=t.pow(i,e),l=t.pow(i,o);for(;!t.eql(c,t.ONE);){if(t.is0(c))return t.ZERO;let e=1,n=t.sqr(c);for(;!t.eql(n,t.ONE);)if(e++,n=t.sqr(n),e===r)throw new Error("Cannot find square root");const i=jn<<BigInt(r-e-1),s=t.pow(a,i);r=e,a=t.sqr(s),c=t.mul(c,a),l=t.mul(l,s)}return l}}function $n(t){return t%_n===Bn?Wn:t%On===Tn?Kn:t%zn===Dn?function(t){const e=Qn(t),n=Hn(t),i=n(e,e.neg(e.ONE)),r=n(e,i),s=n(e,e.neg(i)),o=(t+Rn)/zn;return(t,e)=>{let n=t.pow(e,o),a=t.mul(n,i);const c=t.mul(n,r),l=t.mul(n,s),u=t.eql(t.sqr(a),e),h=t.eql(t.sqr(c),e);n=t.cmov(n,a,u),a=t.cmov(l,c,h);const d=t.eql(t.sqr(a),e),m=t.cmov(n,a,d);return Fn(t,m,e),m}}(t):Hn(t)}const Vn=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Zn(t,e,n=!1){const i=new Array(e.length).fill(n?t.ZERO:void 0),r=e.reduce((e,n,r)=>t.is0(n)?e:(i[r]=e,t.mul(e,n)),t.ONE),s=t.inv(r);return e.reduceRight((e,n,r)=>t.is0(n)?e:(i[r]=t.mul(e,i[r]),t.mul(e,n)),s),i}function Yn(t,e){const n=(t.ORDER-jn)/Cn,i=t.pow(e,n),r=t.eql(i,t.ONE),s=t.eql(i,t.ZERO),o=t.eql(i,t.neg(t.ONE));if(!r&&!s&&!o)throw new Error("invalid Legendre symbol result");return r?1:s?0:-1}function Gn(t,e){void 0!==e&&le(e);const n=void 0!==e?e:t.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function Qn(t,e,n=!1,i={}){if(t<=Ln)throw new Error("invalid field: expected ORDER > 0, got "+t);let r,s,o,a=!1;if("object"==typeof e&&null!=e){if(i.sqrt||n)throw new Error("cannot specify opts in two arguments");const t=e;t.BITS&&(r=t.BITS),t.sqrt&&(s=t.sqrt),"boolean"==typeof t.isLE&&(n=t.isLE),"boolean"==typeof t.modFromBytes&&(a=t.modFromBytes),o=t.allowedLengths}else"number"==typeof e&&(r=e),i.sqrt&&(s=i.sqrt);const{nBitLength:c,nByteLength:l}=Gn(t,r);if(l>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let u;const h=Object.freeze({ORDER:t,isLE:n,BITS:c,BYTES:l,MASK:kn(c),ZERO:Ln,ONE:jn,allowedLengths:o,create:e=>Pn(e,t),isValid:e=>{if("bigint"!=typeof e)throw new Error("invalid field element: expected bigint, got "+typeof e);return Ln<=e&&e<t},is0:t=>t===Ln,isValidNot0:t=>!h.is0(t)&&h.isValid(t),isOdd:t=>(t&jn)===jn,neg:e=>Pn(-e,t),eql:(t,e)=>t===e,sqr:e=>Pn(e*e,t),add:(e,n)=>Pn(e+n,t),sub:(e,n)=>Pn(e-n,t),mul:(e,n)=>Pn(e*n,t),pow:(t,e)=>function(t,e,n){if(n<Ln)throw new Error("invalid exponent, negatives unsupported");if(n===Ln)return t.ONE;if(n===jn)return e;let i=t.ONE,r=e;for(;n>Ln;)n&jn&&(i=t.mul(i,r)),r=t.sqr(r),n>>=jn;return i}(h,t,e),div:(e,n)=>Pn(e*qn(n,t),t),sqrN:t=>t*t,addN:(t,e)=>t+e,subN:(t,e)=>t-e,mulN:(t,e)=>t*e,inv:e=>qn(e,t),sqrt:s||(e=>(u||(u=$n(t)),u(h,e))),toBytes:t=>n?bn(t,l):vn(t,l),fromBytes:(e,i=!0)=>{if(o){if(!o.includes(e.length)||e.length>l)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+e.length);const t=new Uint8Array(l);t.set(e,n?0:t.length-e.length),e=t}if(e.length!==l)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+e.length);let r=n?wn(e):yn(e);if(a&&(r=Pn(r,t)),!i&&!h.isValid(r))throw new Error("invalid field element: outside of range 0..ORDER");return r},invertBatch:t=>Zn(h,t),cmov:(t,e,n)=>n?e:t});return Object.freeze(h)}function Jn(t){if("bigint"!=typeof t)throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Xn(t){const e=Jn(t);return e+Math.ceil(e/2)}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const ti=BigInt(0),ei=BigInt(1);function ni(t,e){const n=e.negate();return t?n:e}function ii(t,e){const n=Zn(t.Fp,e.map(t=>t.Z));return e.map((e,i)=>t.fromAffine(e.toAffine(n[i])))}function ri(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function si(t,e){ri(t,e);const n=2**t;return{windows:Math.ceil(e/t)+1,windowSize:2**(t-1),mask:kn(t),maxNumber:n,shiftBy:BigInt(t)}}function oi(t,e,n){const{windowSize:i,mask:r,maxNumber:s,shiftBy:o}=n;let a=Number(t&r),c=t>>o;a>i&&(a-=s,c+=ei);const l=e*i;return{nextN:c,offset:l+Math.abs(a)-1,isZero:0===a,isNeg:a<0,isNegF:e%2!=0,offsetF:l}}const ai=new WeakMap,ci=new WeakMap;function li(t){return ci.get(t)||1}function ui(t){if(t!==ti)throw new Error("invalid wNAF")}class hi{constructor(t,e){this.BASE=t.BASE,this.ZERO=t.ZERO,this.Fn=t.Fn,this.bits=e}_unsafeLadder(t,e,n=this.ZERO){let i=t;for(;e>ti;)e&ei&&(n=n.add(i)),i=i.double(),e>>=ei;return n}precomputeWindow(t,e){const{windows:n,windowSize:i}=si(e,this.bits),r=[];let s=t,o=s;for(let a=0;a<n;a++){o=s,r.push(o);for(let t=1;t<i;t++)o=o.add(s),r.push(o);s=o.double()}return r}wNAF(t,e,n){if(!this.Fn.isValid(n))throw new Error("invalid scalar");let i=this.ZERO,r=this.BASE;const s=si(t,this.bits);for(let o=0;o<s.windows;o++){const{nextN:t,offset:a,isZero:c,isNeg:l,isNegF:u,offsetF:h}=oi(n,o,s);n=t,c?r=r.add(ni(u,e[h])):i=i.add(ni(l,e[a]))}return ui(n),{p:i,f:r}}wNAFUnsafe(t,e,n,i=this.ZERO){const r=si(t,this.bits);for(let s=0;s<r.windows&&n!==ti;s++){const{nextN:t,offset:o,isZero:a,isNeg:c}=oi(n,s,r);if(n=t,!a){const t=e[o];i=i.add(c?t.negate():t)}}return ui(n),i}getPrecomputes(t,e,n){let i=ai.get(e);return i||(i=this.precomputeWindow(e,t),1!==t&&("function"==typeof n&&(i=n(i)),ai.set(e,i))),i}cached(t,e,n){const i=li(t);return this.wNAF(i,this.getPrecomputes(i,t,n),e)}unsafe(t,e,n,i){const r=li(t);return 1===r?this._unsafeLadder(t,e,i):this.wNAFUnsafe(r,this.getPrecomputes(r,t,n),e,i)}createCache(t,e){ri(e,this.bits),ci.set(t,e),ai.delete(t)}hasCache(t){return 1!==li(t)}}function di(t,e,n,i){!function(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((t,n)=>{if(!(t instanceof e))throw new Error("invalid point at index "+n)})}(n,t),function(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((t,n)=>{if(!e.isValid(t))throw new Error("invalid scalar at index "+n)})}(i,e);const r=n.length,s=i.length;if(r!==s)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=An(BigInt(r));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=kn(c),u=new Array(Number(l)+1).fill(o);let h=o;for(let d=Math.floor((e.BITS-1)/c)*c;d>=0;d-=c){u.fill(o);for(let e=0;e<s;e++){const t=i[e],r=Number(t>>BigInt(d)&l);u[r]=u[r].add(n[e])}let t=o;for(let e=u.length-1,n=o;e>0;e--)n=n.add(u[e]),t=t.add(n);if(h=h.add(t),0!==d)for(let e=0;e<c;e++)h=h.double()}return h}function mi(t,e,n){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return function(t){In(t,Vn.reduce((t,e)=>(t[e]="function",t),{ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"}))}(e),e}return Qn(t,{isLE:n})}function fi(t,e,n={},i){if(void 0===i&&(i="edwards"===t),!e||"object"!=typeof e)throw new Error(`expected valid ${t} CURVE object`);for(const a of["p","n","h"]){const t=e[a];if(!("bigint"==typeof t&&t>ti))throw new Error(`CURVE.${a} must be positive bigint`)}const r=mi(e.p,n.Fp,i),s=mi(e.n,n.Fn,i),o=["Gx","Gy","a","weierstrass"===t?"b":"d"];for(const a of o)if(!r.isValid(e[a]))throw new Error(`CURVE.${a} must be valid field element of CURVE.Fp`);return{CURVE:e=Object.freeze(Object.assign({},e)),Fp:r,Fn:s}}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const pi=BigInt(0),gi=BigInt(1),yi=BigInt(2),wi=BigInt(8);function vi(t,e,n={}){if("function"!=typeof e)throw new Error('"hash" function param is required');In(n,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:i}=n,{BASE:r,Fp:s,Fn:o}=t,a=n.randomBytes||Ce,c=n.adjustScalarBytes||(t=>t),l=n.domain||((t,e,n)=>{if(mn(n,"phflag"),e.length||n)throw new Error("Contexts/pre-hash are not supported");return t});function u(t){return o.create(wn(t))}function h(t){const{head:n,prefix:i,scalar:s}=function(t){const n=g.secretKey;t=xn("private key",t,n);const i=xn("hashed private key",e(t),2*n),r=c(i.slice(0,n));return{head:r,prefix:i.slice(n,2*n),scalar:u(r)}}(t),o=r.multiply(s),a=o.toBytes();return{head:n,prefix:i,scalar:s,point:o,pointBytes:a}}function d(t){return h(t).pointBytes}function m(t=Uint8Array.of(),...n){const r=Ne(...n);return u(e(l(r,xn("context",t),!!i)))}const f={zip215:!0};const p=s.BYTES,g={secretKey:p,publicKey:p,signature:2*p,seed:p};function y(t=a(g.seed)){return fn(t,g.seed,"seed")}const w={getExtendedPublicKey:h,randomSecretKey:y,isValidSecretKey:function(t){return ce(t)&&t.length===o.BYTES},isValidPublicKey:function(e,n){try{return!!t.fromBytes(e,n)}catch(i){return!1}},toMontgomery(e){const{y:n}=t.fromBytes(e),i=g.publicKey,r=32===i;if(!r&&57!==i)throw new Error("only defined for 25519 and 448");const o=r?s.div(gi+n,gi-n):s.div(n-gi,n+gi);return s.toBytes(o)},toMontgomerySecret(t){const n=g.secretKey;fn(t,n);const i=e(t.subarray(0,n));return c(i).subarray(0,n)},randomPrivateKey:y,precompute:(e=8,n=t.BASE)=>n.precompute(e,!1)};return Object.freeze({keygen:function(t){const e=w.randomSecretKey(t);return{secretKey:e,publicKey:d(e)}},getPublicKey:d,sign:function(t,e,n={}){t=xn("message",t),i&&(t=i(t));const{prefix:s,scalar:a,pointBytes:c}=h(e),l=m(n.context,s,t),u=r.multiply(l).toBytes(),d=m(n.context,u,c,t),f=o.create(l+d*a);if(!o.isValid(f))throw new Error("sign failed: invalid s");return fn(Ne(u,o.toBytes(f)),g.signature,"result")},verify:function(e,n,s,o=f){const{context:a,zip215:c}=o,l=g.signature;e=xn("signature",e,l),n=xn("message",n),s=xn("publicKey",s,g.publicKey),void 0!==c&&mn(c,"zip215"),i&&(n=i(n));const u=l/2,h=e.subarray(0,u),d=wn(e.subarray(u,l));let p,y,w;try{p=t.fromBytes(s,c),y=t.fromBytes(h,c),w=r.multiplyUnsafe(d)}catch(b){return!1}if(!c&&p.isSmallOrder())return!1;const v=m(a,y.toBytes(),p.toBytes(),n);return y.add(p.multiplyUnsafe(v)).subtract(w).clearCofactor().is0()},utils:w,Point:t,lengths:g})}function bi(t){const{CURVE:e,curveOpts:n,hash:i,eddsaOpts:r}=function(t){const e={a:t.a,d:t.d,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n={Fp:t.Fp,Fn:Qn(e.n,t.nBitLength,!0),uvRatio:t.uvRatio},i={randomBytes:t.randomBytes,adjustScalarBytes:t.adjustScalarBytes,domain:t.domain,prehash:t.prehash,mapToCurve:t.mapToCurve};return{CURVE:e,curveOpts:n,hash:t.hash,eddsaOpts:i}}(t),s=function(t,e={}){const n=fi("edwards",t,e,e.FpFnLE),{Fp:i,Fn:r}=n;let s=n.CURVE;const{h:o}=s;In(e,{},{uvRatio:"function"});const a=yi<<BigInt(8*r.BYTES)-gi,c=t=>i.create(t),l=e.uvRatio||((t,e)=>{try{return{isValid:!0,value:i.sqrt(i.div(t,e))}}catch(dy){return{isValid:!1,value:pi}}});if(!function(t,e,n,i){const r=t.sqr(n),s=t.sqr(i),o=t.add(t.mul(e.a,r),s),a=t.add(t.ONE,t.mul(e.d,t.mul(r,s)));return t.eql(o,a)}(i,s,s.Gx,s.Gy))throw new Error("bad curve params: generator point");function u(t,e,n=!1){return Sn("coordinate "+t,e,n?gi:pi,a),e}function h(t){if(!(t instanceof f))throw new Error("ExtendedPoint expected")}const d=Nn((t,e)=>{const{X:n,Y:r,Z:s}=t,o=t.is0();null==e&&(e=o?wi:i.inv(s));const a=c(n*e),l=c(r*e),u=i.mul(s,e);if(o)return{x:pi,y:gi};if(u!==gi)throw new Error("invZ was invalid");return{x:a,y:l}}),m=Nn(t=>{const{a:e,d:n}=s;if(t.is0())throw new Error("bad point: ZERO");const{X:i,Y:r,Z:o,T:a}=t,l=c(i*i),u=c(r*r),h=c(o*o),d=c(h*h),m=c(l*e);if(c(h*c(m+u))!==c(d+c(n*c(l*u))))throw new Error("bad point: equation left != right (1)");if(c(i*r)!==c(o*a))throw new Error("bad point: equation left != right (2)");return!0});class f{constructor(t,e,n,i){this.X=u("x",t),this.Y=u("y",e),this.Z=u("z",n,!0),this.T=u("t",i),Object.freeze(this)}static CURVE(){return s}static fromAffine(t){if(t instanceof f)throw new Error("extended point not allowed");const{x:e,y:n}=t||{};return u("x",e),u("y",n),new f(e,n,gi,c(e*n))}static fromBytes(t,e=!1){const n=i.BYTES,{a:r,d:o}=s;t=En(fn(t,n,"point")),mn(e,"zip215");const u=En(t),h=t[n-1];u[n-1]=-129&h;const d=wn(u),m=e?a:i.ORDER;Sn("point.y",d,pi,m);const p=c(d*d),g=c(p-gi),y=c(o*p-r);let{isValid:w,value:v}=l(g,y);if(!w)throw new Error("bad point: invalid y coordinate");const b=(v&gi)===gi,x=!!(128&h);if(!e&&v===pi&&x)throw new Error("bad point: x=0 and x_0=1");return x!==b&&(v=c(-v)),f.fromAffine({x:v,y:d})}static fromHex(t,e=!1){return f.fromBytes(xn("point",t),e)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(t=8,e=!0){return p.createCache(this,t),e||this.multiply(yi),this}assertValidity(){m(this)}equals(t){h(t);const{X:e,Y:n,Z:i}=this,{X:r,Y:s,Z:o}=t,a=c(e*o),l=c(r*i),u=c(n*o),d=c(s*i);return a===l&&u===d}is0(){return this.equals(f.ZERO)}negate(){return new f(c(-this.X),this.Y,this.Z,c(-this.T))}double(){const{a:t}=s,{X:e,Y:n,Z:i}=this,r=c(e*e),o=c(n*n),a=c(yi*c(i*i)),l=c(t*r),u=e+n,h=c(c(u*u)-r-o),d=l+o,m=d-a,p=l-o,g=c(h*m),y=c(d*p),w=c(h*p),v=c(m*d);return new f(g,y,v,w)}add(t){h(t);const{a:e,d:n}=s,{X:i,Y:r,Z:o,T:a}=this,{X:l,Y:u,Z:d,T:m}=t,p=c(i*l),g=c(r*u),y=c(a*n*m),w=c(o*d),v=c((i+r)*(l+u)-p-g),b=w-y,x=w+y,E=c(g-e*p),M=c(v*b),S=c(x*E),A=c(v*E),k=c(b*x);return new f(M,S,k,A)}subtract(t){return this.add(t.negate())}multiply(t){if(!r.isValidNot0(t))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:e,f:n}=p.cached(this,t,t=>ii(f,t));return ii(f,[e,n])[0]}multiplyUnsafe(t,e=f.ZERO){if(!r.isValid(t))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return t===pi?f.ZERO:this.is0()||t===gi?this:p.unsafe(this,t,t=>ii(f,t),e)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}isTorsionFree(){return p.unsafe(this,s.n).is0()}toAffine(t){return d(this,t)}clearCofactor(){return o===gi?this:this.multiplyUnsafe(o)}toBytes(){const{x:t,y:e}=this.toAffine(),n=i.toBytes(e);return n[n.length-1]|=t&gi?128:0,n}toHex(){return we(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(t){return ii(f,t)}static msm(t,e){return di(f,r,t,e)}_setWindowSize(t){this.precompute(t)}toRawBytes(){return this.toBytes()}}f.BASE=new f(s.Gx,s.Gy,gi,c(s.Gx*s.Gy)),f.ZERO=new f(pi,gi,gi,pi),f.Fp=i,f.Fn=r;const p=new hi(f,r.BITS);return f.BASE.precompute(8),f}(e,n);return function(t,e){const n=e.Point;return Object.assign({},e,{ExtendedPoint:n,CURVE:t,nBitLength:n.Fn.BITS,nByteLength:n.Fn.BYTES})}(t,vi(s,i,r))}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const xi=BigInt(1),Ei=BigInt(2);BigInt(3);const Mi=BigInt(5),Si=BigInt(8),Ai=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),ki=(()=>({p:Ai,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:Si,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")}))();function Ii(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const Ni=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function Li(t,e){const n=Ai,i=Pn(e*e*e,n),r=function(t){const e=BigInt(10),n=BigInt(20),i=BigInt(40),r=BigInt(80),s=Ai,o=t*t%s*t%s,a=Un(o,Ei,s)*o%s,c=Un(a,xi,s)*t%s,l=Un(c,Mi,s)*c%s,u=Un(l,e,s)*l%s,h=Un(u,n,s)*u%s,d=Un(h,i,s)*h%s,m=Un(d,r,s)*d%s,f=Un(m,r,s)*d%s,p=Un(f,e,s)*l%s;return{pow_p_5_8:Un(p,Ei,s)*t%s,b2:o}}(t*Pn(i*i*e,n)).pow_p_5_8;let s=Pn(t*i*r,n);const o=Pn(e*s*s,n),a=s,c=Pn(s*Ni,n),l=o===t,u=o===Pn(-t,n),h=o===Pn(-t*Ni,n);return l&&(s=a),(u||h)&&(s=c),(Pn(s,n)&jn)===jn&&(s=Pn(-s,n)),{isValid:l||u,value:s}}const ji=(()=>Qn(ki.p,{isLE:!0}))(),Ci=(()=>({...ki,Fp:ji,hash:un,adjustScalarBytes:Ii,uvRatio:Li}))(),Bi=(()=>bi(Ci))();var _i={exports:{}};const Ti=r(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));!function(t,e){function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function r(t,e,n){if(r.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var s;"object"==typeof t?t.exports=r:e.BN=r,r.BN=r,r.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:Ti.Buffer}catch(dy){}function o(t,e){var i=t.charCodeAt(e);return i>=48&&i<=57?i-48:i>=65&&i<=70?i-55:i>=97&&i<=102?i-87:void n(!1,"Invalid character in "+t)}function a(t,e,n){var i=o(t,n);return n-1>=e&&(i|=o(t,n-1)<<4),i}function c(t,e,i,r){for(var s=0,o=0,a=Math.min(t.length,i),c=e;c<a;c++){var l=t.charCodeAt(c)-48;s*=r,o=l>=49?l-49+10:l>=17?l-17+10:l,n(l>=0&&o<r,"Invalid character"),s+=o}return s}function l(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(r.isBN=function(t){return t instanceof r||null!==t&&"object"==typeof t&&t.constructor.wordSize===r.wordSize&&Array.isArray(t.words)},r.max=function(t,e){return t.cmp(e)>0?t:e},r.min=function(t,e){return t.cmp(e)<0?t:e},r.prototype._init=function(t,e,i){if("number"==typeof t)return this._initNumber(t,e,i);if("object"==typeof t)return this._initArray(t,e,i);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var r=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(r++,this.negative=1),r<t.length&&(16===e?this._parseHex(t,r,i):(this._parseBase(t,e,r),"le"===i&&this._initArray(this.toArray(),e,i)))},r.prototype._initNumber=function(t,e,i){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),e,i)},r.prototype._initArray=function(t,e,i){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var s,o,a=0;if("be"===i)for(r=t.length-1,s=0;r>=0;r-=3)o=t[r]|t[r-1]<<8|t[r-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===i)for(r=0,s=0;r<t.length;r+=3)o=t[r]|t[r+1]<<8|t[r+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this._strip()},r.prototype._parseHex=function(t,e,n){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var r,s=0,o=0;if("be"===n)for(i=t.length-1;i>=e;i-=2)r=a(t,e,i)<<s,this.words[o]|=67108863&r,s>=18?(s-=18,o+=1,this.words[o]|=r>>>26):s+=8;else for(i=(t.length-e)%2==0?e+1:e;i<t.length;i+=2)r=a(t,e,i)<<s,this.words[o]|=67108863&r,s>=18?(s-=18,o+=1,this.words[o]|=r>>>26):s+=8;this._strip()},r.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var i=0,r=1;r<=67108863;r*=e)i++;i--,r=r/e|0;for(var s=t.length-n,o=s%i,a=Math.min(s,s-o)+n,l=0,u=n;u<a;u+=i)l=c(t,u,u+i,e),this.imuln(r),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(0!==o){var h=1;for(l=c(t,u,t.length,e),u=0;u<o;u++)h*=e;this.imuln(h),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this._strip()},r.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},r.prototype._move=function(t){l(t,this)},r.prototype.clone=function(){var t=new r(null);return this.copy(t),t},r.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},r.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},r.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{r.prototype[Symbol.for("nodejs.util.inspect.custom")]=u}catch(dy){r.prototype.inspect=u}else r.prototype.inspect=u;function u(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(t,e,n){n.negative=e.negative^t.negative;var i=t.length+e.length|0;n.length=i,i=i-1|0;var r=0|t.words[0],s=0|e.words[0],o=r*s,a=67108863&o,c=o/67108864|0;n.words[0]=a;for(var l=1;l<i;l++){for(var u=c>>>26,h=67108863&c,d=Math.min(l,e.length-1),m=Math.max(0,l-t.length+1);m<=d;m++){var f=l-m|0;u+=(o=(r=0|t.words[f])*(s=0|e.words[m])+h)/67108864|0,h=67108863&o}n.words[l]=0|h,c=0|u}return 0!==c?n.words[l]=0|c:n.length--,n._strip()}r.prototype.toString=function(t,e){var i;if(e=0|e||1,16===(t=t||10)||"hex"===t){i="";for(var r=0,s=0,o=0;o<this.length;o++){var a=this.words[o],c=(16777215&(a<<r|s)).toString(16);s=a>>>24-r&16777215,(r+=2)>=26&&(r-=26,o--),i=0!==s||o!==this.length-1?h[6-c.length]+c+i:c+i}for(0!==s&&(i=s.toString(16)+i);i.length%e!==0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(t===(0|t)&&t>=2&&t<=36){var l=d[t],u=m[t];i="";var f=this.clone();for(f.negative=0;!f.isZero();){var p=f.modrn(u).toString(t);i=(f=f.idivn(u)).isZero()?p+i:h[l-p.length]+p+i}for(this.isZero()&&(i="0"+i);i.length%e!==0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}n(!1,"Base should be between 2 and 36")},r.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},r.prototype.toJSON=function(){return this.toString(16,2)},s&&(r.prototype.toBuffer=function(t,e){return this.toArrayLike(s,t,e)}),r.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},r.prototype.toArrayLike=function(t,e,i){this._strip();var r=this.byteLength(),s=i||Math.max(1,r);n(r<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0");var o=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,s);return this["_toArrayLike"+("le"===e?"LE":"BE")](o,r),o},r.prototype._toArrayLikeLE=function(t,e){for(var n=0,i=0,r=0,s=0;r<this.length;r++){var o=this.words[r]<<s|i;t[n++]=255&o,n<t.length&&(t[n++]=o>>8&255),n<t.length&&(t[n++]=o>>16&255),6===s?(n<t.length&&(t[n++]=o>>24&255),i=0,s=0):(i=o>>>24,s+=2)}if(n<t.length)for(t[n++]=i;n<t.length;)t[n++]=0},r.prototype._toArrayLikeBE=function(t,e){for(var n=t.length-1,i=0,r=0,s=0;r<this.length;r++){var o=this.words[r]<<s|i;t[n--]=255&o,n>=0&&(t[n--]=o>>8&255),n>=0&&(t[n--]=o>>16&255),6===s?(n>=0&&(t[n--]=o>>24&255),i=0,s=0):(i=o>>>24,s+=2)}if(n>=0)for(t[n--]=i;n>=0;)t[n--]=0},Math.clz32?r.prototype._countBits=function(t){return 32-Math.clz32(t)}:r.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},r.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 8191&e||(n+=13,e>>>=13),127&e||(n+=7,e>>>=7),15&e||(n+=4,e>>>=4),3&e||(n+=2,e>>>=2),1&e||n++,n},r.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},r.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},r.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},r.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},r.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},r.prototype.isNeg=function(){return 0!==this.negative},r.prototype.neg=function(){return this.clone().ineg()},r.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},r.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},r.prototype.ior=function(t){return n(0===(this.negative|t.negative)),this.iuor(t)},r.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},r.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},r.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this._strip()},r.prototype.iand=function(t){return n(0===(this.negative|t.negative)),this.iuand(t)},r.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},r.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},r.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var i=0;i<n.length;i++)this.words[i]=e.words[i]^n.words[i];if(this!==e)for(;i<e.length;i++)this.words[i]=e.words[i];return this.length=e.length,this._strip()},r.prototype.ixor=function(t){return n(0===(this.negative|t.negative)),this.iuxor(t)},r.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},r.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},r.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),i=t%26;this._expand(e),i>0&&e--;for(var r=0;r<e;r++)this.words[r]=67108863&~this.words[r];return i>0&&(this.words[r]=~this.words[r]&67108863>>26-i),this._strip()},r.prototype.notn=function(t){return this.clone().inotn(t)},r.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var i=t/26|0,r=t%26;return this._expand(i+1),this.words[i]=e?this.words[i]|1<<r:this.words[i]&~(1<<r),this._strip()},r.prototype.iadd=function(t){var e,n,i;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(n=this,i=t):(n=t,i=this);for(var r=0,s=0;s<i.length;s++)e=(0|n.words[s])+(0|i.words[s])+r,this.words[s]=67108863&e,r=e>>>26;for(;0!==r&&s<n.length;s++)e=(0|n.words[s])+r,this.words[s]=67108863&e,r=e>>>26;if(this.length=n.length,0!==r)this.words[this.length]=r,this.length++;else if(n!==this)for(;s<n.length;s++)this.words[s]=n.words[s];return this},r.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},r.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,i,r=this.cmp(t);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;r>0?(n=this,i=t):(n=t,i=this);for(var s=0,o=0;o<i.length;o++)s=(e=(0|n.words[o])-(0|i.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<n.length;o++)s=(e=(0|n.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<n.length&&n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this.length=Math.max(this.length,o),n!==this&&(this.negative=1),this._strip()},r.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,n){var i,r,s,o=t.words,a=e.words,c=n.words,l=0,u=0|o[0],h=8191&u,d=u>>>13,m=0|o[1],f=8191&m,p=m>>>13,g=0|o[2],y=8191&g,w=g>>>13,v=0|o[3],b=8191&v,x=v>>>13,E=0|o[4],M=8191&E,S=E>>>13,A=0|o[5],k=8191&A,I=A>>>13,N=0|o[6],L=8191&N,j=N>>>13,C=0|o[7],B=8191&C,_=C>>>13,T=0|o[8],R=8191&T,O=T>>>13,D=0|o[9],z=8191&D,P=D>>>13,U=0|a[0],q=8191&U,F=U>>>13,W=0|a[1],K=8191&W,H=W>>>13,$=0|a[2],V=8191&$,Z=$>>>13,Y=0|a[3],G=8191&Y,Q=Y>>>13,J=0|a[4],X=8191&J,tt=J>>>13,et=0|a[5],nt=8191&et,it=et>>>13,rt=0|a[6],st=8191&rt,ot=rt>>>13,at=0|a[7],ct=8191&at,lt=at>>>13,ut=0|a[8],ht=8191&ut,dt=ut>>>13,mt=0|a[9],ft=8191&mt,pt=mt>>>13;n.negative=t.negative^e.negative,n.length=19;var gt=(l+(i=Math.imul(h,q))|0)+((8191&(r=(r=Math.imul(h,F))+Math.imul(d,q)|0))<<13)|0;l=((s=Math.imul(d,F))+(r>>>13)|0)+(gt>>>26)|0,gt&=67108863,i=Math.imul(f,q),r=(r=Math.imul(f,F))+Math.imul(p,q)|0,s=Math.imul(p,F);var yt=(l+(i=i+Math.imul(h,K)|0)|0)+((8191&(r=(r=r+Math.imul(h,H)|0)+Math.imul(d,K)|0))<<13)|0;l=((s=s+Math.imul(d,H)|0)+(r>>>13)|0)+(yt>>>26)|0,yt&=67108863,i=Math.imul(y,q),r=(r=Math.imul(y,F))+Math.imul(w,q)|0,s=Math.imul(w,F),i=i+Math.imul(f,K)|0,r=(r=r+Math.imul(f,H)|0)+Math.imul(p,K)|0,s=s+Math.imul(p,H)|0;var wt=(l+(i=i+Math.imul(h,V)|0)|0)+((8191&(r=(r=r+Math.imul(h,Z)|0)+Math.imul(d,V)|0))<<13)|0;l=((s=s+Math.imul(d,Z)|0)+(r>>>13)|0)+(wt>>>26)|0,wt&=67108863,i=Math.imul(b,q),r=(r=Math.imul(b,F))+Math.imul(x,q)|0,s=Math.imul(x,F),i=i+Math.imul(y,K)|0,r=(r=r+Math.imul(y,H)|0)+Math.imul(w,K)|0,s=s+Math.imul(w,H)|0,i=i+Math.imul(f,V)|0,r=(r=r+Math.imul(f,Z)|0)+Math.imul(p,V)|0,s=s+Math.imul(p,Z)|0;var vt=(l+(i=i+Math.imul(h,G)|0)|0)+((8191&(r=(r=r+Math.imul(h,Q)|0)+Math.imul(d,G)|0))<<13)|0;l=((s=s+Math.imul(d,Q)|0)+(r>>>13)|0)+(vt>>>26)|0,vt&=67108863,i=Math.imul(M,q),r=(r=Math.imul(M,F))+Math.imul(S,q)|0,s=Math.imul(S,F),i=i+Math.imul(b,K)|0,r=(r=r+Math.imul(b,H)|0)+Math.imul(x,K)|0,s=s+Math.imul(x,H)|0,i=i+Math.imul(y,V)|0,r=(r=r+Math.imul(y,Z)|0)+Math.imul(w,V)|0,s=s+Math.imul(w,Z)|0,i=i+Math.imul(f,G)|0,r=(r=r+Math.imul(f,Q)|0)+Math.imul(p,G)|0,s=s+Math.imul(p,Q)|0;var bt=(l+(i=i+Math.imul(h,X)|0)|0)+((8191&(r=(r=r+Math.imul(h,tt)|0)+Math.imul(d,X)|0))<<13)|0;l=((s=s+Math.imul(d,tt)|0)+(r>>>13)|0)+(bt>>>26)|0,bt&=67108863,i=Math.imul(k,q),r=(r=Math.imul(k,F))+Math.imul(I,q)|0,s=Math.imul(I,F),i=i+Math.imul(M,K)|0,r=(r=r+Math.imul(M,H)|0)+Math.imul(S,K)|0,s=s+Math.imul(S,H)|0,i=i+Math.imul(b,V)|0,r=(r=r+Math.imul(b,Z)|0)+Math.imul(x,V)|0,s=s+Math.imul(x,Z)|0,i=i+Math.imul(y,G)|0,r=(r=r+Math.imul(y,Q)|0)+Math.imul(w,G)|0,s=s+Math.imul(w,Q)|0,i=i+Math.imul(f,X)|0,r=(r=r+Math.imul(f,tt)|0)+Math.imul(p,X)|0,s=s+Math.imul(p,tt)|0;var xt=(l+(i=i+Math.imul(h,nt)|0)|0)+((8191&(r=(r=r+Math.imul(h,it)|0)+Math.imul(d,nt)|0))<<13)|0;l=((s=s+Math.imul(d,it)|0)+(r>>>13)|0)+(xt>>>26)|0,xt&=67108863,i=Math.imul(L,q),r=(r=Math.imul(L,F))+Math.imul(j,q)|0,s=Math.imul(j,F),i=i+Math.imul(k,K)|0,r=(r=r+Math.imul(k,H)|0)+Math.imul(I,K)|0,s=s+Math.imul(I,H)|0,i=i+Math.imul(M,V)|0,r=(r=r+Math.imul(M,Z)|0)+Math.imul(S,V)|0,s=s+Math.imul(S,Z)|0,i=i+Math.imul(b,G)|0,r=(r=r+Math.imul(b,Q)|0)+Math.imul(x,G)|0,s=s+Math.imul(x,Q)|0,i=i+Math.imul(y,X)|0,r=(r=r+Math.imul(y,tt)|0)+Math.imul(w,X)|0,s=s+Math.imul(w,tt)|0,i=i+Math.imul(f,nt)|0,r=(r=r+Math.imul(f,it)|0)+Math.imul(p,nt)|0,s=s+Math.imul(p,it)|0;var Et=(l+(i=i+Math.imul(h,st)|0)|0)+((8191&(r=(r=r+Math.imul(h,ot)|0)+Math.imul(d,st)|0))<<13)|0;l=((s=s+Math.imul(d,ot)|0)+(r>>>13)|0)+(Et>>>26)|0,Et&=67108863,i=Math.imul(B,q),r=(r=Math.imul(B,F))+Math.imul(_,q)|0,s=Math.imul(_,F),i=i+Math.imul(L,K)|0,r=(r=r+Math.imul(L,H)|0)+Math.imul(j,K)|0,s=s+Math.imul(j,H)|0,i=i+Math.imul(k,V)|0,r=(r=r+Math.imul(k,Z)|0)+Math.imul(I,V)|0,s=s+Math.imul(I,Z)|0,i=i+Math.imul(M,G)|0,r=(r=r+Math.imul(M,Q)|0)+Math.imul(S,G)|0,s=s+Math.imul(S,Q)|0,i=i+Math.imul(b,X)|0,r=(r=r+Math.imul(b,tt)|0)+Math.imul(x,X)|0,s=s+Math.imul(x,tt)|0,i=i+Math.imul(y,nt)|0,r=(r=r+Math.imul(y,it)|0)+Math.imul(w,nt)|0,s=s+Math.imul(w,it)|0,i=i+Math.imul(f,st)|0,r=(r=r+Math.imul(f,ot)|0)+Math.imul(p,st)|0,s=s+Math.imul(p,ot)|0;var Mt=(l+(i=i+Math.imul(h,ct)|0)|0)+((8191&(r=(r=r+Math.imul(h,lt)|0)+Math.imul(d,ct)|0))<<13)|0;l=((s=s+Math.imul(d,lt)|0)+(r>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,i=Math.imul(R,q),r=(r=Math.imul(R,F))+Math.imul(O,q)|0,s=Math.imul(O,F),i=i+Math.imul(B,K)|0,r=(r=r+Math.imul(B,H)|0)+Math.imul(_,K)|0,s=s+Math.imul(_,H)|0,i=i+Math.imul(L,V)|0,r=(r=r+Math.imul(L,Z)|0)+Math.imul(j,V)|0,s=s+Math.imul(j,Z)|0,i=i+Math.imul(k,G)|0,r=(r=r+Math.imul(k,Q)|0)+Math.imul(I,G)|0,s=s+Math.imul(I,Q)|0,i=i+Math.imul(M,X)|0,r=(r=r+Math.imul(M,tt)|0)+Math.imul(S,X)|0,s=s+Math.imul(S,tt)|0,i=i+Math.imul(b,nt)|0,r=(r=r+Math.imul(b,it)|0)+Math.imul(x,nt)|0,s=s+Math.imul(x,it)|0,i=i+Math.imul(y,st)|0,r=(r=r+Math.imul(y,ot)|0)+Math.imul(w,st)|0,s=s+Math.imul(w,ot)|0,i=i+Math.imul(f,ct)|0,r=(r=r+Math.imul(f,lt)|0)+Math.imul(p,ct)|0,s=s+Math.imul(p,lt)|0;var St=(l+(i=i+Math.imul(h,ht)|0)|0)+((8191&(r=(r=r+Math.imul(h,dt)|0)+Math.imul(d,ht)|0))<<13)|0;l=((s=s+Math.imul(d,dt)|0)+(r>>>13)|0)+(St>>>26)|0,St&=67108863,i=Math.imul(z,q),r=(r=Math.imul(z,F))+Math.imul(P,q)|0,s=Math.imul(P,F),i=i+Math.imul(R,K)|0,r=(r=r+Math.imul(R,H)|0)+Math.imul(O,K)|0,s=s+Math.imul(O,H)|0,i=i+Math.imul(B,V)|0,r=(r=r+Math.imul(B,Z)|0)+Math.imul(_,V)|0,s=s+Math.imul(_,Z)|0,i=i+Math.imul(L,G)|0,r=(r=r+Math.imul(L,Q)|0)+Math.imul(j,G)|0,s=s+Math.imul(j,Q)|0,i=i+Math.imul(k,X)|0,r=(r=r+Math.imul(k,tt)|0)+Math.imul(I,X)|0,s=s+Math.imul(I,tt)|0,i=i+Math.imul(M,nt)|0,r=(r=r+Math.imul(M,it)|0)+Math.imul(S,nt)|0,s=s+Math.imul(S,it)|0,i=i+Math.imul(b,st)|0,r=(r=r+Math.imul(b,ot)|0)+Math.imul(x,st)|0,s=s+Math.imul(x,ot)|0,i=i+Math.imul(y,ct)|0,r=(r=r+Math.imul(y,lt)|0)+Math.imul(w,ct)|0,s=s+Math.imul(w,lt)|0,i=i+Math.imul(f,ht)|0,r=(r=r+Math.imul(f,dt)|0)+Math.imul(p,ht)|0,s=s+Math.imul(p,dt)|0;var At=(l+(i=i+Math.imul(h,ft)|0)|0)+((8191&(r=(r=r+Math.imul(h,pt)|0)+Math.imul(d,ft)|0))<<13)|0;l=((s=s+Math.imul(d,pt)|0)+(r>>>13)|0)+(At>>>26)|0,At&=67108863,i=Math.imul(z,K),r=(r=Math.imul(z,H))+Math.imul(P,K)|0,s=Math.imul(P,H),i=i+Math.imul(R,V)|0,r=(r=r+Math.imul(R,Z)|0)+Math.imul(O,V)|0,s=s+Math.imul(O,Z)|0,i=i+Math.imul(B,G)|0,r=(r=r+Math.imul(B,Q)|0)+Math.imul(_,G)|0,s=s+Math.imul(_,Q)|0,i=i+Math.imul(L,X)|0,r=(r=r+Math.imul(L,tt)|0)+Math.imul(j,X)|0,s=s+Math.imul(j,tt)|0,i=i+Math.imul(k,nt)|0,r=(r=r+Math.imul(k,it)|0)+Math.imul(I,nt)|0,s=s+Math.imul(I,it)|0,i=i+Math.imul(M,st)|0,r=(r=r+Math.imul(M,ot)|0)+Math.imul(S,st)|0,s=s+Math.imul(S,ot)|0,i=i+Math.imul(b,ct)|0,r=(r=r+Math.imul(b,lt)|0)+Math.imul(x,ct)|0,s=s+Math.imul(x,lt)|0,i=i+Math.imul(y,ht)|0,r=(r=r+Math.imul(y,dt)|0)+Math.imul(w,ht)|0,s=s+Math.imul(w,dt)|0;var kt=(l+(i=i+Math.imul(f,ft)|0)|0)+((8191&(r=(r=r+Math.imul(f,pt)|0)+Math.imul(p,ft)|0))<<13)|0;l=((s=s+Math.imul(p,pt)|0)+(r>>>13)|0)+(kt>>>26)|0,kt&=67108863,i=Math.imul(z,V),r=(r=Math.imul(z,Z))+Math.imul(P,V)|0,s=Math.imul(P,Z),i=i+Math.imul(R,G)|0,r=(r=r+Math.imul(R,Q)|0)+Math.imul(O,G)|0,s=s+Math.imul(O,Q)|0,i=i+Math.imul(B,X)|0,r=(r=r+Math.imul(B,tt)|0)+Math.imul(_,X)|0,s=s+Math.imul(_,tt)|0,i=i+Math.imul(L,nt)|0,r=(r=r+Math.imul(L,it)|0)+Math.imul(j,nt)|0,s=s+Math.imul(j,it)|0,i=i+Math.imul(k,st)|0,r=(r=r+Math.imul(k,ot)|0)+Math.imul(I,st)|0,s=s+Math.imul(I,ot)|0,i=i+Math.imul(M,ct)|0,r=(r=r+Math.imul(M,lt)|0)+Math.imul(S,ct)|0,s=s+Math.imul(S,lt)|0,i=i+Math.imul(b,ht)|0,r=(r=r+Math.imul(b,dt)|0)+Math.imul(x,ht)|0,s=s+Math.imul(x,dt)|0;var It=(l+(i=i+Math.imul(y,ft)|0)|0)+((8191&(r=(r=r+Math.imul(y,pt)|0)+Math.imul(w,ft)|0))<<13)|0;l=((s=s+Math.imul(w,pt)|0)+(r>>>13)|0)+(It>>>26)|0,It&=67108863,i=Math.imul(z,G),r=(r=Math.imul(z,Q))+Math.imul(P,G)|0,s=Math.imul(P,Q),i=i+Math.imul(R,X)|0,r=(r=r+Math.imul(R,tt)|0)+Math.imul(O,X)|0,s=s+Math.imul(O,tt)|0,i=i+Math.imul(B,nt)|0,r=(r=r+Math.imul(B,it)|0)+Math.imul(_,nt)|0,s=s+Math.imul(_,it)|0,i=i+Math.imul(L,st)|0,r=(r=r+Math.imul(L,ot)|0)+Math.imul(j,st)|0,s=s+Math.imul(j,ot)|0,i=i+Math.imul(k,ct)|0,r=(r=r+Math.imul(k,lt)|0)+Math.imul(I,ct)|0,s=s+Math.imul(I,lt)|0,i=i+Math.imul(M,ht)|0,r=(r=r+Math.imul(M,dt)|0)+Math.imul(S,ht)|0,s=s+Math.imul(S,dt)|0;var Nt=(l+(i=i+Math.imul(b,ft)|0)|0)+((8191&(r=(r=r+Math.imul(b,pt)|0)+Math.imul(x,ft)|0))<<13)|0;l=((s=s+Math.imul(x,pt)|0)+(r>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,i=Math.imul(z,X),r=(r=Math.imul(z,tt))+Math.imul(P,X)|0,s=Math.imul(P,tt),i=i+Math.imul(R,nt)|0,r=(r=r+Math.imul(R,it)|0)+Math.imul(O,nt)|0,s=s+Math.imul(O,it)|0,i=i+Math.imul(B,st)|0,r=(r=r+Math.imul(B,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,i=i+Math.imul(L,ct)|0,r=(r=r+Math.imul(L,lt)|0)+Math.imul(j,ct)|0,s=s+Math.imul(j,lt)|0,i=i+Math.imul(k,ht)|0,r=(r=r+Math.imul(k,dt)|0)+Math.imul(I,ht)|0,s=s+Math.imul(I,dt)|0;var Lt=(l+(i=i+Math.imul(M,ft)|0)|0)+((8191&(r=(r=r+Math.imul(M,pt)|0)+Math.imul(S,ft)|0))<<13)|0;l=((s=s+Math.imul(S,pt)|0)+(r>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,i=Math.imul(z,nt),r=(r=Math.imul(z,it))+Math.imul(P,nt)|0,s=Math.imul(P,it),i=i+Math.imul(R,st)|0,r=(r=r+Math.imul(R,ot)|0)+Math.imul(O,st)|0,s=s+Math.imul(O,ot)|0,i=i+Math.imul(B,ct)|0,r=(r=r+Math.imul(B,lt)|0)+Math.imul(_,ct)|0,s=s+Math.imul(_,lt)|0,i=i+Math.imul(L,ht)|0,r=(r=r+Math.imul(L,dt)|0)+Math.imul(j,ht)|0,s=s+Math.imul(j,dt)|0;var jt=(l+(i=i+Math.imul(k,ft)|0)|0)+((8191&(r=(r=r+Math.imul(k,pt)|0)+Math.imul(I,ft)|0))<<13)|0;l=((s=s+Math.imul(I,pt)|0)+(r>>>13)|0)+(jt>>>26)|0,jt&=67108863,i=Math.imul(z,st),r=(r=Math.imul(z,ot))+Math.imul(P,st)|0,s=Math.imul(P,ot),i=i+Math.imul(R,ct)|0,r=(r=r+Math.imul(R,lt)|0)+Math.imul(O,ct)|0,s=s+Math.imul(O,lt)|0,i=i+Math.imul(B,ht)|0,r=(r=r+Math.imul(B,dt)|0)+Math.imul(_,ht)|0,s=s+Math.imul(_,dt)|0;var Ct=(l+(i=i+Math.imul(L,ft)|0)|0)+((8191&(r=(r=r+Math.imul(L,pt)|0)+Math.imul(j,ft)|0))<<13)|0;l=((s=s+Math.imul(j,pt)|0)+(r>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,i=Math.imul(z,ct),r=(r=Math.imul(z,lt))+Math.imul(P,ct)|0,s=Math.imul(P,lt),i=i+Math.imul(R,ht)|0,r=(r=r+Math.imul(R,dt)|0)+Math.imul(O,ht)|0,s=s+Math.imul(O,dt)|0;var Bt=(l+(i=i+Math.imul(B,ft)|0)|0)+((8191&(r=(r=r+Math.imul(B,pt)|0)+Math.imul(_,ft)|0))<<13)|0;l=((s=s+Math.imul(_,pt)|0)+(r>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,i=Math.imul(z,ht),r=(r=Math.imul(z,dt))+Math.imul(P,ht)|0,s=Math.imul(P,dt);var _t=(l+(i=i+Math.imul(R,ft)|0)|0)+((8191&(r=(r=r+Math.imul(R,pt)|0)+Math.imul(O,ft)|0))<<13)|0;l=((s=s+Math.imul(O,pt)|0)+(r>>>13)|0)+(_t>>>26)|0,_t&=67108863;var Tt=(l+(i=Math.imul(z,ft))|0)+((8191&(r=(r=Math.imul(z,pt))+Math.imul(P,ft)|0))<<13)|0;return l=((s=Math.imul(P,pt))+(r>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,c[0]=gt,c[1]=yt,c[2]=wt,c[3]=vt,c[4]=bt,c[5]=xt,c[6]=Et,c[7]=Mt,c[8]=St,c[9]=At,c[10]=kt,c[11]=It,c[12]=Nt,c[13]=Lt,c[14]=jt,c[15]=Ct,c[16]=Bt,c[17]=_t,c[18]=Tt,0!==l&&(c[19]=l,n.length++),n};function g(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var i=0,r=0,s=0;s<n.length-1;s++){var o=r;r=0;for(var a=67108863&i,c=Math.min(s,e.length-1),l=Math.max(0,s-t.length+1);l<=c;l++){var u=s-l,h=(0|t.words[u])*(0|e.words[l]),d=67108863&h;a=67108863&(d=d+a|0),r+=(o=(o=o+(h/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}n.words[s]=a,i=o,o=r}return 0!==i?n.words[s]=i:n.length--,n._strip()}function y(t,e,n){return g(t,e,n)}Math.imul||(p=f),r.prototype.mulTo=function(t,e){var n=this.length+t.length;return 10===this.length&&10===t.length?p(this,t,e):n<63?f(this,t,e):n<1024?g(this,t,e):y(this,t,e)},r.prototype.mul=function(t){var e=new r(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},r.prototype.mulf=function(t){var e=new r(null);return e.words=new Array(this.length+t.length),y(this,t,e)},r.prototype.imul=function(t){return this.clone().mulTo(t,this)},r.prototype.imuln=function(t){var e=t<0;e&&(t=-t),n("number"==typeof t),n(t<67108864);for(var i=0,r=0;r<this.length;r++){var s=(0|this.words[r])*t,o=(67108863&s)+(67108863&i);i>>=26,i+=s/67108864|0,i+=o>>>26,this.words[r]=67108863&o}return 0!==i&&(this.words[r]=i,this.length++),this.length=0===t?1:this.length,e?this.ineg():this},r.prototype.muln=function(t){return this.clone().imuln(t)},r.prototype.sqr=function(){return this.mul(this)},r.prototype.isqr=function(){return this.imul(this.clone())},r.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var i=n/26|0,r=n%26;e[n]=t.words[i]>>>r&1}return e}(t);if(0===e.length)return new r(1);for(var n=this,i=0;i<e.length&&0===e[i];i++,n=n.sqr());if(++i<e.length)for(var s=n.sqr();i<e.length;i++,s=s.sqr())0!==e[i]&&(n=n.mul(s));return n},r.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,i=t%26,r=(t-i)/26,s=67108863>>>26-i<<26-i;if(0!==i){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,c=(0|this.words[e])-a<<i;this.words[e]=c|o,o=a>>>26-i}o&&(this.words[e]=o,this.length++)}if(0!==r){for(e=this.length-1;e>=0;e--)this.words[e+r]=this.words[e];for(e=0;e<r;e++)this.words[e]=0;this.length+=r}return this._strip()},r.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},r.prototype.iushrn=function(t,e,i){var r;n("number"==typeof t&&t>=0),r=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,c=i;if(r-=o,r=Math.max(0,r),c){for(var l=0;l<o;l++)c.words[l]=this.words[l];c.length=o}if(0===o);else if(this.length>o)for(this.length-=o,l=0;l<this.length;l++)this.words[l]=this.words[l+o];else this.words[0]=0,this.length=1;var u=0;for(l=this.length-1;l>=0&&(0!==u||l>=r);l--){var h=0|this.words[l];this.words[l]=u<<26-s|h>>>s,u=h&a}return c&&0!==u&&(c.words[c.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},r.prototype.ishrn=function(t,e,i){return n(0===this.negative),this.iushrn(t,e,i)},r.prototype.shln=function(t){return this.clone().ishln(t)},r.prototype.ushln=function(t){return this.clone().iushln(t)},r.prototype.shrn=function(t){return this.clone().ishrn(t)},r.prototype.ushrn=function(t){return this.clone().iushrn(t)},r.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26,r=1<<e;return!(this.length<=i||!(this.words[i]&r))},r.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==e&&i++,this.length=Math.min(i,this.length),0!==e){var r=67108863^67108863>>>e<<e;this.words[this.length-1]&=r}return this._strip()},r.prototype.maskn=function(t){return this.clone().imaskn(t)},r.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},r.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},r.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},r.prototype.addn=function(t){return this.clone().iaddn(t)},r.prototype.subn=function(t){return this.clone().isubn(t)},r.prototype.iabs=function(){return this.negative=0,this},r.prototype.abs=function(){return this.clone().iabs()},r.prototype._ishlnsubmul=function(t,e,i){var r,s,o=t.length+i;this._expand(o);var a=0;for(r=0;r<t.length;r++){s=(0|this.words[r+i])+a;var c=(0|t.words[r])*e;a=((s-=67108863&c)>>26)-(c/67108864|0),this.words[r+i]=67108863&s}for(;r<this.length-i;r++)a=(s=(0|this.words[r+i])+a)>>26,this.words[r+i]=67108863&s;if(0===a)return this._strip();for(n(-1===a),a=0,r=0;r<this.length;r++)a=(s=-(0|this.words[r])+a)>>26,this.words[r]=67108863&s;return this.negative=1,this._strip()},r.prototype._wordDiv=function(t,e){var n=(this.length,t.length),i=this.clone(),s=t,o=0|s.words[s.length-1];0!=(n=26-this._countBits(o))&&(s=s.ushln(n),i.iushln(n),o=0|s.words[s.length-1]);var a,c=i.length-s.length;if("mod"!==e){(a=new r(null)).length=c+1,a.words=new Array(a.length);for(var l=0;l<a.length;l++)a.words[l]=0}var u=i.clone()._ishlnsubmul(s,1,c);0===u.negative&&(i=u,a&&(a.words[c]=1));for(var h=c-1;h>=0;h--){var d=67108864*(0|i.words[s.length+h])+(0|i.words[s.length+h-1]);for(d=Math.min(d/o|0,67108863),i._ishlnsubmul(s,d,h);0!==i.negative;)d--,i.negative=0,i._ishlnsubmul(s,1,h),i.isZero()||(i.negative^=1);a&&(a.words[h]=d)}return a&&a._strip(),i._strip(),"div"!==e&&0!==n&&i.iushrn(n),{div:a||null,mod:i}},r.prototype.divmod=function(t,e,i){return n(!t.isZero()),this.isZero()?{div:new r(0),mod:new r(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(s=a.div.neg()),"div"!==e&&(o=a.mod.neg(),i&&0!==o.negative&&o.iadd(t)),{div:s,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(s=a.div.neg()),{div:s,mod:a.mod}):0!==(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),i&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new r(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new r(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new r(this.modrn(t.words[0]))}:this._wordDiv(t,e);var s,o,a},r.prototype.div=function(t){return this.divmod(t,"div",!1).div},r.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},r.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},r.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,i=t.ushrn(1),r=t.andln(1),s=n.cmp(i);return s<0||1===r&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},r.prototype.modrn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var i=(1<<26)%t,r=0,s=this.length-1;s>=0;s--)r=(i*r+(0|this.words[s]))%t;return e?-r:r},r.prototype.modn=function(t){return this.modrn(t)},r.prototype.idivn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var i=0,r=this.length-1;r>=0;r--){var s=(0|this.words[r])+67108864*i;this.words[r]=s/t|0,i=s%t}return this._strip(),e?this.ineg():this},r.prototype.divn=function(t){return this.clone().idivn(t)},r.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var s=new r(1),o=new r(0),a=new r(0),c=new r(1),l=0;e.isEven()&&i.isEven();)e.iushrn(1),i.iushrn(1),++l;for(var u=i.clone(),h=e.clone();!e.isZero();){for(var d=0,m=1;0===(e.words[0]&m)&&d<26;++d,m<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(s.isOdd()||o.isOdd())&&(s.iadd(u),o.isub(h)),s.iushrn(1),o.iushrn(1);for(var f=0,p=1;0===(i.words[0]&p)&&f<26;++f,p<<=1);if(f>0)for(i.iushrn(f);f-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(u),c.isub(h)),a.iushrn(1),c.iushrn(1);e.cmp(i)>=0?(e.isub(i),s.isub(a),o.isub(c)):(i.isub(e),a.isub(s),c.isub(o))}return{a:a,b:c,gcd:i.iushln(l)}},r.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var s,o=new r(1),a=new r(0),c=i.clone();e.cmpn(1)>0&&i.cmpn(1)>0;){for(var l=0,u=1;0===(e.words[0]&u)&&l<26;++l,u<<=1);if(l>0)for(e.iushrn(l);l-- >0;)o.isOdd()&&o.iadd(c),o.iushrn(1);for(var h=0,d=1;0===(i.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(i.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);e.cmp(i)>=0?(e.isub(i),o.isub(a)):(i.isub(e),a.isub(o))}return(s=0===e.cmpn(1)?o:a).cmpn(0)<0&&s.iadd(t),s},r.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var i=0;e.isEven()&&n.isEven();i++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var r=e.cmp(n);if(r<0){var s=e;e=n,n=s}else if(0===r||0===n.cmpn(1))break;e.isub(n)}return n.iushln(i)},r.prototype.invm=function(t){return this.egcd(t).a.umod(t)},r.prototype.isEven=function(){return!(1&this.words[0])},r.prototype.isOdd=function(){return!(1&~this.words[0])},r.prototype.andln=function(t){return this.words[0]&t},r.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,i=(t-e)/26,r=1<<e;if(this.length<=i)return this._expand(i+1),this.words[i]|=r,this;for(var s=r,o=i;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},r.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},r.prototype.cmpn=function(t){var e,i=t<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this._strip(),this.length>1)e=1;else{i&&(t=-t),n(t<=67108863,"Number is too big");var r=0|this.words[0];e=r===t?0:r<t?-1:1}return 0!==this.negative?0|-e:e},r.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},r.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var i=0|this.words[n],r=0|t.words[n];if(i!==r){i<r?e=-1:i>r&&(e=1);break}}return e},r.prototype.gtn=function(t){return 1===this.cmpn(t)},r.prototype.gt=function(t){return 1===this.cmp(t)},r.prototype.gten=function(t){return this.cmpn(t)>=0},r.prototype.gte=function(t){return this.cmp(t)>=0},r.prototype.ltn=function(t){return-1===this.cmpn(t)},r.prototype.lt=function(t){return-1===this.cmp(t)},r.prototype.lten=function(t){return this.cmpn(t)<=0},r.prototype.lte=function(t){return this.cmp(t)<=0},r.prototype.eqn=function(t){return 0===this.cmpn(t)},r.prototype.eq=function(t){return 0===this.cmp(t)},r.red=function(t){return new S(t)},r.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},r.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},r.prototype._forceRed=function(t){return this.red=t,this},r.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},r.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},r.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},r.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},r.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},r.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},r.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},r.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},r.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},r.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},r.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},r.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},r.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},r.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var w={k256:null,p224:null,p192:null,p25519:null};function v(t,e){this.name=t,this.p=new r(e,16),this.n=this.p.bitLength(),this.k=new r(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function x(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function E(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(t){if("string"==typeof t){var e=r._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function A(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new r(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var t=new r(null);return t.words=new Array(Math.ceil(this.n/13)),t},v.prototype.ireduce=function(t){var e,n=t;do{this.split(n,this.tmp),e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(e>this.n);var i=e<this.n?-1:n.ucmp(this.p);return 0===i?(n.words[0]=0,n.length=1):i>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},v.prototype.split=function(t,e){t.iushrn(this.n,0,e)},v.prototype.imulK=function(t){return t.imul(this.k)},i(b,v),b.prototype.split=function(t,e){for(var n=4194303,i=Math.min(t.length,9),r=0;r<i;r++)e.words[r]=t.words[r];if(e.length=i,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&n,r=10;r<t.length;r++){var o=0|t.words[r];t.words[r-10]=(o&n)<<4|s>>>22,s=o}s>>>=22,t.words[r-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var i=0|t.words[n];e+=977*i,t.words[n]=67108863&e,e=64*i+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(x,v),i(E,v),i(M,v),M.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var i=19*(0|t.words[n])+e,r=67108863&i;i>>>=26,t.words[n]=r,e=i}return 0!==e&&(t.words[t.length++]=e),t},r._prime=function(t){if(w[t])return w[t];var e;if("k256"===t)e=new b;else if("p224"===t)e=new x;else if("p192"===t)e=new E;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new M}return w[t]=e,e},S.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},S.prototype._verify2=function(t,e){n(0===(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(l(t,t.umod(this.m)._forceRed(this)),t)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},S.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var i=this.m.add(new r(1)).iushrn(2);return this.pow(t,i)}for(var s=this.m.subn(1),o=0;!s.isZero()&&0===s.andln(1);)o++,s.iushrn(1);n(!s.isZero());var a=new r(1).toRed(this),c=a.redNeg(),l=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new r(2*u*u).toRed(this);0!==this.pow(u,l).cmp(c);)u.redIAdd(c);for(var h=this.pow(u,s),d=this.pow(t,s.addn(1).iushrn(1)),m=this.pow(t,s),f=o;0!==m.cmp(a);){for(var p=m,g=0;0!==p.cmp(a);g++)p=p.redSqr();n(g<f);var y=this.pow(h,new r(1).iushln(f-g-1));d=d.redMul(y),h=y.redSqr(),m=m.redMul(h),f=g}return d},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new r(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new r(1).toRed(this),n[1]=t;for(var i=2;i<n.length;i++)n[i]=this.mul(n[i-1],t);var s=n[0],o=0,a=0,c=e.bitLength()%26;for(0===c&&(c=26),i=e.length-1;i>=0;i--){for(var l=e.words[i],u=c-1;u>=0;u--){var h=l>>u&1;s!==n[0]&&(s=this.sqr(s)),0!==h||0!==o?(o<<=1,o|=h,(4===++a||0===i&&0===u)&&(s=this.mul(s,n[o]),a=0,o=0)):a=0}c=26}return s},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},r.mont=function(t){return new A(t)},i(A,S),A.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},A.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},A.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=n.isub(i).iushrn(this.shift),s=r;return r.cmp(this.m)>=0?s=r.isub(this.m):r.cmpn(0)<0&&(s=r.iadd(this.m)),s._forceRed(this)},A.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new r(0)._forceRed(this);var n=t.mul(e),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=n.isub(i).iushrn(this.shift),o=s;return s.cmp(this.m)>=0?o=s.isub(this.m):s.cmpn(0)<0&&(o=s.iadd(this.m)),o._forceRed(this)},A.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(_i,s);var Ri=_i.exports;const Oi=o(Ri);var Di={exports:{}};
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */!function(t,e){var n=Gt,i=n.Buffer;function r(t,e){for(var n in t)e[n]=t[n]}function s(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(r(n,e),e.Buffer=s),s.prototype=Object.create(i.prototype),r(i,s),s.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},s.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}}(Di,Di.exports);var zi=Di.exports,Pi=zi.Buffer;var Ui=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var i=0;i<t.length;i++){var r=t.charAt(i),s=r.charCodeAt(0);if(255!==e[s])throw new TypeError(r+" is ambiguous");e[s]=i}var o=t.length,a=t.charAt(0),c=Math.log(o)/Math.log(256),l=Math.log(256)/Math.log(o);function u(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return Pi.alloc(0);for(var n=0,i=0,r=0;t[n]===a;)i++,n++;for(var s=(t.length-n)*c+1>>>0,l=new Uint8Array(s);n<t.length;){var u=t.charCodeAt(n);if(u>255)return;var h=e[u];if(255===h)return;for(var d=0,m=s-1;(0!==h||d<r)&&-1!==m;m--,d++)h+=o*l[m]>>>0,l[m]=h%256>>>0,h=h/256>>>0;if(0!==h)throw new Error("Non-zero carry");r=d,n++}for(var f=s-r;f!==s&&0===l[f];)f++;var p=Pi.allocUnsafe(i+(s-f));p.fill(0,0,i);for(var g=i;f!==s;)p[g++]=l[f++];return p}return{encode:function(e){if((Array.isArray(e)||e instanceof Uint8Array)&&(e=Pi.from(e)),!Pi.isBuffer(e))throw new TypeError("Expected Buffer");if(0===e.length)return"";for(var n=0,i=0,r=0,s=e.length;r!==s&&0===e[r];)r++,n++;for(var c=(s-r)*l+1>>>0,u=new Uint8Array(c);r!==s;){for(var h=e[r],d=0,m=c-1;(0!==h||d<i)&&-1!==m;m--,d++)h+=256*u[m]>>>0,u[m]=h%o>>>0,h=h/o>>>0;if(0!==h)throw new Error("Non-zero carry");i=d,r++}for(var f=c-i;f!==c&&0===u[f];)f++;for(var p=a.repeat(n);f<c;++f)p+=t.charAt(u[f]);return p},decodeUnsafe:u,decode:function(t){var e=u(t);if(e)return e;throw new Error("Non-base"+o+" character")}}};const qi=o(Ui("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")),Fi=ln;var Wi={},Ki=zi.Buffer;var Hi=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var i=0;i<t.length;i++){var r=t.charAt(i),s=r.charCodeAt(0);if(255!==e[s])throw new TypeError(r+" is ambiguous");e[s]=i}var o=t.length,a=t.charAt(0),c=Math.log(o)/Math.log(256),l=Math.log(256)/Math.log(o);function u(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return Ki.alloc(0);for(var n=0,i=0,r=0;t[n]===a;)i++,n++;for(var s=(t.length-n)*c+1>>>0,l=new Uint8Array(s);n<t.length;){var u=t.charCodeAt(n);if(u>255)return;var h=e[u];if(255===h)return;for(var d=0,m=s-1;(0!==h||d<r)&&-1!==m;m--,d++)h+=o*l[m]>>>0,l[m]=h%256>>>0,h=h/256>>>0;if(0!==h)throw new Error("Non-zero carry");r=d,n++}for(var f=s-r;f!==s&&0===l[f];)f++;var p=Ki.allocUnsafe(i+(s-f));p.fill(0,0,i);for(var g=i;f!==s;)p[g++]=l[f++];return p}return{encode:function(e){if((Array.isArray(e)||e instanceof Uint8Array)&&(e=Ki.from(e)),!Ki.isBuffer(e))throw new TypeError("Expected Buffer");if(0===e.length)return"";for(var n=0,i=0,r=0,s=e.length;r!==s&&0===e[r];)r++,n++;for(var c=(s-r)*l+1>>>0,u=new Uint8Array(c);r!==s;){for(var h=e[r],d=0,m=c-1;(0!==h||d<i)&&-1!==m;m--,d++)h+=256*u[m]>>>0,u[m]=h%o>>>0,h=h/o>>>0;if(0!==h)throw new Error("Non-zero carry");i=d,r++}for(var f=c-i;f!==c&&0===u[f];)f++;for(var p=a.repeat(n);f<c;++f)p+=t.charAt(u[f]);return p},decodeUnsafe:u,decode:function(t){var e=u(t);if(e)return e;throw new Error("Non-base"+o+" character")}}},$i=Hi("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");function Vi(t,e,n){return e<=t&&t<=n}function Zi(t){if(void 0===t)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function Yi(t){this.tokens=[].slice.call(t)}Yi.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var Gi=-1;function Qi(t,e){if(t)throw TypeError("Decoder error");return e||65533}var Ji="utf-8";function Xi(t,e){if(!(this instanceof Xi))return new Xi(t,e);if((t=void 0!==t?String(t).toLowerCase():Ji)!==Ji)throw new Error("Encoding not supported. Only utf-8 is supported");e=Zi(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(e.fatal),this._ignoreBOM=Boolean(e.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function tr(t,e){if(!(this instanceof tr))return new tr(t,e);if((t=void 0!==t?String(t).toLowerCase():Ji)!==Ji)throw new Error("Encoding not supported. Only utf-8 is supported");e=Zi(e),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(e.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}function er(t){var e=t.fatal,n=0,i=0,r=0,s=128,o=191;this.handler=function(t,a){if(-1===a&&0!==r)return r=0,Qi(e);if(-1===a)return Gi;if(0===r){if(Vi(a,0,127))return a;if(Vi(a,194,223))r=1,n=a-192;else if(Vi(a,224,239))224===a&&(s=160),237===a&&(o=159),r=2,n=a-224;else{if(!Vi(a,240,244))return Qi(e);240===a&&(s=144),244===a&&(o=143),r=3,n=a-240}return n<<=6*r,null}if(!Vi(a,s,o))return n=r=i=0,s=128,o=191,t.prepend(a),Qi(e);if(s=128,o=191,n+=a-128<<6*(r-(i+=1)),i!==r)return null;var c=n;return n=r=i=0,c}}function nr(t){t.fatal,this.handler=function(t,e){if(-1===e)return Gi;if(Vi(e,0,127))return e;var n,i;Vi(e,128,2047)?(n=1,i=192):Vi(e,2048,65535)?(n=2,i=224):Vi(e,65536,1114111)&&(n=3,i=240);for(var r=[(e>>6*n)+i];n>0;){var s=e>>6*(n-1);r.push(128|63&s),n-=1}return r}}Xi.prototype={decode:function(t,e){var n;n="object"==typeof t&&t instanceof ArrayBuffer?new Uint8Array(t):"object"==typeof t&&"buffer"in t&&t.buffer instanceof ArrayBuffer?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(0),e=Zi(e),this._streaming||(this._decoder=new er({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(e.stream);for(var i,r=new Yi(n),s=[];!r.endOfStream()&&(i=this._decoder.handler(r,r.read()))!==Gi;)null!==i&&(Array.isArray(i)?s.push.apply(s,i):s.push(i));if(!this._streaming){do{if((i=this._decoder.handler(r,r.read()))===Gi)break;null!==i&&(Array.isArray(i)?s.push.apply(s,i):s.push(i))}while(!r.endOfStream());this._decoder=null}return s.length&&(-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===s[0]?(this._BOMseen=!0,s.shift()):this._BOMseen=!0)),function(t){for(var e="",n=0;n<t.length;++n){var i=t[n];i<=65535?e+=String.fromCharCode(i):(i-=65536,e+=String.fromCharCode(55296+(i>>10),56320+(1023&i)))}return e}(s)}},tr.prototype={encode:function(t,e){t=t?String(t):"",e=Zi(e),this._streaming||(this._encoder=new nr(this._options)),this._streaming=Boolean(e.stream);for(var n,i=[],r=new Yi(function(t){for(var e=String(t),n=e.length,i=0,r=[];i<n;){var s=e.charCodeAt(i);if(s<55296||s>57343)r.push(s);else if(56320<=s&&s<=57343)r.push(65533);else if(55296<=s&&s<=56319)if(i===n-1)r.push(65533);else{var o=t.charCodeAt(i+1);if(56320<=o&&o<=57343){var a=1023&s,c=1023&o;r.push(65536+(a<<10)+c),i+=1}else r.push(65533)}i+=1}return r}(t));!r.endOfStream()&&(n=this._encoder.handler(r,r.read()))!==Gi;)Array.isArray(n)?i.push.apply(i,n):i.push(n);if(!this._streaming){for(;(n=this._encoder.handler(r,r.read()))!==Gi;)Array.isArray(n)?i.push.apply(i,n):i.push(n);this._encoder=null}return new Uint8Array(i)}};const ir=r(Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:Xi,TextEncoder:tr},Symbol.toStringTag,{value:"Module"})));var rr=s&&s.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),sr=s&&s.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),or=s&&s.__decorate||function(t,e,n,i){var r,s=arguments.length,o=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,n,o):r(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o},ar=s&&s.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&rr(e,t,n);return sr(e,t),e},cr=s&&s.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Wi,"__esModule",{value:!0});var lr=Wi.deserializeUnchecked=Ar=Wi.deserialize=Er=Wi.serialize=Wi.BinaryReader=Wi.BinaryWriter=Wi.BorshError=Wi.baseDecode=Wi.baseEncode=void 0;const ur=cr(Ri),hr=cr($i),dr=ar(ir),mr=new("function"!=typeof TextDecoder?dr.TextDecoder:TextDecoder)("utf-8",{fatal:!0});Wi.baseEncode=function(t){return"string"==typeof t&&(t=Buffer.from(t,"utf8")),hr.default.encode(Buffer.from(t))},Wi.baseDecode=function(t){return Buffer.from(hr.default.decode(t))};const fr=1024;class pr extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}Wi.BorshError=pr;class gr{constructor(){this.buf=Buffer.alloc(fr),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(fr)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(Buffer.from(new ur.default(t).toArray("le",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(Buffer.from(new ur.default(t).toArray("le",16)))}writeU256(t){this.maybeResize(),this.writeBuffer(Buffer.from(new ur.default(t).toArray("le",32)))}writeU512(t){this.maybeResize(),this.writeBuffer(Buffer.from(new ur.default(t).toArray("le",64)))}writeBuffer(t){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),t,Buffer.alloc(fr)]),this.length+=t.length}writeString(t){this.maybeResize();const e=Buffer.from(t,"utf8");this.writeU32(e.length),this.writeBuffer(e)}writeFixedArray(t){this.writeBuffer(Buffer.from(t))}writeArray(t,e){this.maybeResize(),this.writeU32(t.length);for(const n of t)this.maybeResize(),e(n)}toArray(){return this.buf.subarray(0,this.length)}}function yr(t,e,n){const i=n.value;n.value=function(...t){try{return i.apply(this,t)}catch(dy){if(dy instanceof RangeError){const e=dy.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(e)>=0)throw new pr("Reached the end of buffer when deserializing")}throw dy}}}Wi.BinaryWriter=gr;class wr{constructor(t){this.buf=t,this.offset=0}readU8(){const t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){const t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){const t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){const t=this.readBuffer(8);return new ur.default(t,"le")}readU128(){const t=this.readBuffer(16);return new ur.default(t,"le")}readU256(){const t=this.readBuffer(32);return new ur.default(t,"le")}readU512(){const t=this.readBuffer(64);return new ur.default(t,"le")}readBuffer(t){if(this.offset+t>this.buf.length)throw new pr(`Expected buffer length ${t} isn't within bounds`);const e=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,e}readString(){const t=this.readU32(),e=this.readBuffer(t);try{return mr.decode(e)}catch(dy){throw new pr(`Error decoding UTF-8 string: ${dy}`)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){const e=this.readU32(),n=Array();for(let i=0;i<e;++i)n.push(t());return n}}function vr(t){return t.charAt(0).toUpperCase()+t.slice(1)}function br(t,e,n,i,r){try{if("string"==typeof i)r[`write${vr(i)}`](n);else if(i instanceof Array)if("number"==typeof i[0]){if(n.length!==i[0])throw new pr(`Expecting byte array of length ${i[0]}, but got ${n.length} bytes`);r.writeFixedArray(n)}else if(2===i.length&&"number"==typeof i[1]){if(n.length!==i[1])throw new pr(`Expecting byte array of length ${i[1]}, but got ${n.length} bytes`);for(let e=0;e<i[1];e++)br(t,null,n[e],i[0],r)}else r.writeArray(n,n=>{br(t,e,n,i[0],r)});else if(void 0!==i.kind)switch(i.kind){case"option":null==n?r.writeU8(0):(r.writeU8(1),br(t,e,n,i.type,r));break;case"map":r.writeU32(n.size),n.forEach((n,s)=>{br(t,e,s,i.key,r),br(t,e,n,i.value,r)});break;default:throw new pr(`FieldType ${i} unrecognized`)}else xr(t,n,r)}catch(s){throw s instanceof pr&&s.addToFieldPath(e),s}}function xr(t,e,n){if("function"==typeof e.borshSerialize)return void e.borshSerialize(n);const i=t.get(e.constructor);if(!i)throw new pr(`Class ${e.constructor.name} is missing in schema`);if("struct"===i.kind)i.fields.map(([i,r])=>{br(t,i,e[i],r,n)});else{if("enum"!==i.kind)throw new pr(`Unexpected schema kind: ${i.kind} for ${e.constructor.name}`);{const r=e[i.field];for(let s=0;s<i.values.length;++s){const[o,a]=i.values[s];if(o===r){n.writeU8(s),br(t,o,e[o],a,n);break}}}}}or([yr],wr.prototype,"readU8",null),or([yr],wr.prototype,"readU16",null),or([yr],wr.prototype,"readU32",null),or([yr],wr.prototype,"readU64",null),or([yr],wr.prototype,"readU128",null),or([yr],wr.prototype,"readU256",null),or([yr],wr.prototype,"readU512",null),or([yr],wr.prototype,"readString",null),or([yr],wr.prototype,"readFixedArray",null),or([yr],wr.prototype,"readArray",null),Wi.BinaryReader=wr;var Er=Wi.serialize=function(t,e,n=gr){const i=new n;return xr(t,e,i),i.toArray()};function Mr(t,e,n,i){try{if("string"==typeof n)return i[`read${vr(n)}`]();if(n instanceof Array){if("number"==typeof n[0])return i.readFixedArray(n[0]);if("number"==typeof n[1]){const e=[];for(let r=0;r<n[1];r++)e.push(Mr(t,null,n[0],i));return e}return i.readArray(()=>Mr(t,e,n[0],i))}if("option"===n.kind){return i.readU8()?Mr(t,e,n.type,i):void 0}if("map"===n.kind){let r=new Map;const s=i.readU32();for(let o=0;o<s;o++){const s=Mr(t,e,n.key,i),o=Mr(t,e,n.value,i);r.set(s,o)}return r}return Sr(t,n,i)}catch(r){throw r instanceof pr&&r.addToFieldPath(e),r}}function Sr(t,e,n){if("function"==typeof e.borshDeserialize)return e.borshDeserialize(n);const i=t.get(e);if(!i)throw new pr(`Class ${e.name} is missing in schema`);if("struct"===i.kind){const i={};for(const[r,s]of t.get(e).fields)i[r]=Mr(t,r,s,n);return new e(i)}if("enum"===i.kind){const r=n.readU8();if(r>=i.values.length)throw new pr(`Enum index: ${r} is out of range`);const[s,o]=i.values[r],a=Mr(t,s,o,n);return new e({[s]:a})}throw new pr(`Unexpected schema kind: ${i.kind} for ${e.constructor.name}`)}var Ar=Wi.deserialize=function(t,e,n,i=wr){const r=new i(n),s=Sr(t,e,r);if(r.offset<n.length)throw new pr(`Unexpected ${n.length-r.offset} bytes after deserialized data`);return s};lr=Wi.deserializeUnchecked=function(t,e,n,i=wr){return Sr(t,e,new i(n))};var kr={};Object.defineProperty(kr,"__esModule",{value:!0}),kr.s16=kr.s8=kr.nu64be=kr.u48be=kr.u40be=kr.u32be=kr.u24be=kr.u16be=fs=kr.nu64=kr.u48=kr.u40=ms=kr.u32=kr.u24=ds=kr.u16=hs=kr.u8=us=kr.offset=kr.greedy=kr.Constant=kr.UTF8=kr.CString=kr.Blob=kr.Boolean=kr.BitField=kr.BitStructure=kr.VariantLayout=kr.Union=kr.UnionLayoutDiscriminator=kr.UnionDiscriminator=kr.Structure=kr.Sequence=kr.DoubleBE=kr.Double=kr.FloatBE=kr.Float=kr.NearInt64BE=kr.NearInt64=kr.NearUInt64BE=kr.NearUInt64=kr.IntBE=kr.Int=kr.UIntBE=kr.UInt=kr.OffsetLayout=kr.GreedyCount=kr.ExternalLayout=kr.bindConstructorLayout=kr.nameWithProperty=kr.Layout=kr.uint8ArrayToBuffer=kr.checkUint8Array=void 0,kr.constant=kr.utf8=kr.cstr=ws=kr.blob=kr.unionLayoutDiscriminator=kr.union=ys=kr.seq=kr.bits=gs=kr.struct=kr.f64be=kr.f64=kr.f32be=kr.f32=kr.ns64be=kr.s48be=kr.s40be=kr.s32be=kr.s24be=kr.s16be=ps=kr.ns64=kr.s48=kr.s40=kr.s32=kr.s24=void 0;const Ir=Gt;function Nr(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}function Lr(t){return Nr(t),Ir.Buffer.from(t.buffer,t.byteOffset,t.length)}kr.checkUint8Array=Nr,kr.uint8ArrayToBuffer=Lr;class jr{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}function Cr(t,e){return e.property?t+"["+e.property+"]":t}kr.Layout=jr,kr.nameWithProperty=Cr,kr.bindConstructorLayout=function(t,e){if("function"!=typeof t)throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof jr))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(t,n){return e.encode(this,t,n)},writable:!0}),Object.defineProperty(t,"decode",{value:(t,n)=>e.decode(t,n),writable:!0})};class Br extends jr{isCount(){throw new Error("ExternalLayout is abstract")}}kr.ExternalLayout=Br;class _r extends Br{constructor(t=1,e){if(!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");super(-1,e),this.elementSpan=t}isCount(){return!0}decode(t,e=0){Nr(t);const n=t.length-e;return Math.floor(n/this.elementSpan)}encode(t,e,n){return 0}}kr.GreedyCount=_r;class Tr extends Br{constructor(t,e=0,n){if(!(t instanceof jr))throw new TypeError("layout must be a Layout");if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof Rr||this.layout instanceof Or}decode(t,e=0){return this.layout.decode(t,e+this.offset)}encode(t,e,n=0){return this.layout.encode(t,e,n+this.offset)}}kr.OffsetLayout=Tr;class Rr extends jr{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return Lr(t).readUIntLE(e,this.span)}encode(t,e,n=0){return Lr(e).writeUIntLE(t,n,this.span),this.span}}kr.UInt=Rr;class Or extends jr{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return Lr(t).readUIntBE(e,this.span)}encode(t,e,n=0){return Lr(e).writeUIntBE(t,n,this.span),this.span}}kr.UIntBE=Or;class Dr extends jr{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return Lr(t).readIntLE(e,this.span)}encode(t,e,n=0){return Lr(e).writeIntLE(t,n,this.span),this.span}}kr.Int=Dr;class zr extends jr{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return Lr(t).readIntBE(e,this.span)}encode(t,e,n=0){return Lr(e).writeIntBE(t,n,this.span),this.span}}kr.IntBE=zr;const Pr=Math.pow(2,32);function Ur(t){const e=Math.floor(t/Pr);return{hi32:e,lo32:t-e*Pr}}function qr(t,e){return t*Pr+e}class Fr extends jr{constructor(t){super(8,t)}decode(t,e=0){const n=Lr(t),i=n.readUInt32LE(e);return qr(n.readUInt32LE(e+4),i)}encode(t,e,n=0){const i=Ur(t),r=Lr(e);return r.writeUInt32LE(i.lo32,n),r.writeUInt32LE(i.hi32,n+4),8}}kr.NearUInt64=Fr;class Wr extends jr{constructor(t){super(8,t)}decode(t,e=0){const n=Lr(t);return qr(n.readUInt32BE(e),n.readUInt32BE(e+4))}encode(t,e,n=0){const i=Ur(t),r=Lr(e);return r.writeUInt32BE(i.hi32,n),r.writeUInt32BE(i.lo32,n+4),8}}kr.NearUInt64BE=Wr;class Kr extends jr{constructor(t){super(8,t)}decode(t,e=0){const n=Lr(t),i=n.readUInt32LE(e);return qr(n.readInt32LE(e+4),i)}encode(t,e,n=0){const i=Ur(t),r=Lr(e);return r.writeUInt32LE(i.lo32,n),r.writeInt32LE(i.hi32,n+4),8}}kr.NearInt64=Kr;class Hr extends jr{constructor(t){super(8,t)}decode(t,e=0){const n=Lr(t);return qr(n.readInt32BE(e),n.readUInt32BE(e+4))}encode(t,e,n=0){const i=Ur(t),r=Lr(e);return r.writeInt32BE(i.hi32,n),r.writeUInt32BE(i.lo32,n+4),8}}kr.NearInt64BE=Hr;class $r extends jr{constructor(t){super(4,t)}decode(t,e=0){return Lr(t).readFloatLE(e)}encode(t,e,n=0){return Lr(e).writeFloatLE(t,n),4}}kr.Float=$r;class Vr extends jr{constructor(t){super(4,t)}decode(t,e=0){return Lr(t).readFloatBE(e)}encode(t,e,n=0){return Lr(e).writeFloatBE(t,n),4}}kr.FloatBE=Vr;class Zr extends jr{constructor(t){super(8,t)}decode(t,e=0){return Lr(t).readDoubleLE(e)}encode(t,e,n=0){return Lr(e).writeDoubleLE(t,n),8}}kr.Double=Zr;class Yr extends jr{constructor(t){super(8,t)}decode(t,e=0){return Lr(t).readDoubleBE(e)}encode(t,e,n=0){return Lr(e).writeDoubleBE(t,n),8}}kr.DoubleBE=Yr;class Gr extends jr{constructor(t,e,n){if(!(t instanceof jr))throw new TypeError("elementLayout must be a Layout");if(!(e instanceof Br&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(e instanceof Br)&&0<t.span&&(i=e*t.span),super(i,n),this.elementLayout=t,this.count=e}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0,i=this.count;if(i instanceof Br&&(i=i.decode(t,e)),0<this.elementLayout.span)n=i*this.elementLayout.span;else{let r=0;for(;r<i;)n+=this.elementLayout.getSpan(t,e+n),++r}return n}decode(t,e=0){const n=[];let i=0,r=this.count;for(r instanceof Br&&(r=r.decode(t,e));i<r;)n.push(this.elementLayout.decode(t,e)),e+=this.elementLayout.getSpan(t,e),i+=1;return n}encode(t,e,n=0){const i=this.elementLayout,r=t.reduce((t,r)=>t+i.encode(r,e,n+t),0);return this.count instanceof Br&&this.count.encode(t.length,e,n),r}}kr.Sequence=Gr;class Qr extends jr{constructor(t,e,n){if(!Array.isArray(t)||!t.reduce((t,e)=>t&&e instanceof jr,!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof e&&void 0===n&&(n=e,e=void 0);for(const r of t)if(0>r.span&&void 0===r.property)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=t.reduce((t,e)=>t+e.getSpan(),0)}catch(dy){}super(i,e),this.fields=t,this.decodePrefixes=!!n}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((n,i)=>{const r=i.getSpan(t,e);return e+=r,n+r},0)}catch(dy){throw new RangeError("indeterminate span")}return n}decode(t,e=0){Nr(t);const n=this.makeDestinationObject();for(const i of this.fields)if(void 0!==i.property&&(n[i.property]=i.decode(t,e)),e+=i.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return n}encode(t,e,n=0){const i=n;let r=0,s=0;for(const o of this.fields){let i=o.span;if(s=0<i?i:0,void 0!==o.property){const r=t[o.property];void 0!==r&&(s=o.encode(r,e,n),0>i&&(i=o.getSpan(e,n)))}r=n,n+=i}return r+s-i}fromArray(t){const e=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<t.length&&(e[n.property]=t.shift());return e}layoutFor(t){if("string"!=typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if("string"!=typeof t)throw new TypeError("property must be string");let e=0;for(const n of this.fields){if(n.property===t)return e;0>n.span?e=-1:0<=e&&(e+=n.span)}}}kr.Structure=Qr;class Jr{constructor(t){this.property=t}decode(t,e){throw new Error("UnionDiscriminator is abstract")}encode(t,e,n){throw new Error("UnionDiscriminator is abstract")}}kr.UnionDiscriminator=Jr;class Xr extends Jr{constructor(t,e){if(!(t instanceof Br&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,n){return this.layout.encode(t,e,n)}}kr.UnionLayoutDiscriminator=Xr;class ts extends jr{constructor(t,e,n){let i;if(t instanceof Rr||t instanceof Or)i=new Xr(new Tr(t));else if(t instanceof Br&&t.isCount())i=new Xr(t);else{if(!(t instanceof Jr))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");i=t}if(void 0===e&&(e=null),!(null===e||e instanceof jr))throw new TypeError("defaultLayout must be null or a Layout");if(null!==e){if(0>e.span)throw new Error("defaultLayout must have constant span");void 0===e.property&&(e=e.replicate("content"))}let r=-1;e&&(r=e.span,0<=r&&(t instanceof Rr||t instanceof Or)&&(r+=i.layout.span)),super(r,n),this.discriminator=i,this.usesPrefixDiscriminator=t instanceof Rr||t instanceof Or,this.defaultLayout=e,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(t){return s(t)},this.configGetSourceVariant=function(t){s=t.bind(this)}}getSpan(t,e=0){if(0<=this.span)return this.span;const n=this.getVariant(t,e);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(t,e)}defaultGetSourceVariant(t){if(Object.prototype.hasOwnProperty.call(t,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(t,this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||e.property&&Object.prototype.hasOwnProperty.call(t,e.property)))return e}else for(const e in this.registry){const n=this.registry[e];if(n.property&&Object.prototype.hasOwnProperty.call(t,n.property))return n}throw new Error("unable to infer src variant")}decode(t,e=0){let n;const i=this.discriminator,r=i.decode(t,e),s=this.registry[r];if(void 0===s){const s=this.defaultLayout;let o=0;this.usesPrefixDiscriminator&&(o=i.layout.span),n=this.makeDestinationObject(),n[i.property]=r,n[s.property]=s.decode(t,e+o)}else n=s.decode(t,e);return n}encode(t,e,n=0){const i=this.getSourceVariant(t);if(void 0===i){const i=this.discriminator,r=this.defaultLayout;let s=0;return this.usesPrefixDiscriminator&&(s=i.layout.span),i.encode(t[i.property],e,n),s+r.encode(t[r.property],e,n+s)}return i.encode(t,e,n)}addVariant(t,e,n){const i=new es(this,t,e,n);return this.registry[t]=i,i}getVariant(t,e=0){let n;return n=t instanceof Uint8Array?this.discriminator.decode(t,e):t,this.registry[n]}}kr.Union=ts;class es extends jr{constructor(t,e,n,i){if(!(t instanceof ts))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof n&&void 0===i&&(i=n,n=null),n){if(!(n instanceof jr))throw new TypeError("layout must be a Layout");if(null!==t.defaultLayout&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof i)throw new TypeError("variant must have a String property")}let r=t.span;0>t.span&&(r=n?n.span:0,0<=r&&t.usesPrefixDiscriminator&&(r+=t.discriminator.layout.span)),super(r,i),this.union=t,this.variant=e,this.layout=n||null}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(t,e+n)),n+i}decode(t,e=0){const n=this.makeDestinationObject();if(this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(t,e+i):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(t,e,n=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(t,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,n);let r=i;if(this.layout&&(this.layout.encode(t[this.property],e,n+i),r+=this.layout.getSpan(e,n+i),0<=this.union.span&&r>this.union.span))throw new Error("encoded variant overruns containing union");return r}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}function ns(t){return 0>t&&(t+=4294967296),t}kr.VariantLayout=es;class is extends jr{constructor(t,e,n){if(!(t instanceof Rr||t instanceof Or))throw new TypeError("word must be a UInt or UIntBE layout");if("string"==typeof e&&void 0===n&&(n=e,e=!1),4<t.span)throw new RangeError("word cannot exceed 32 bits");super(t.span,n),this.word=t,this.msb=!!e,this.fields=[];let i=0;this._packedSetValue=function(t){return i=ns(t),this},this._packedGetValue=function(){return i}}decode(t,e=0){const n=this.makeDestinationObject(),i=this.word.decode(t,e);this._packedSetValue(i);for(const r of this.fields)void 0!==r.property&&(n[r.property]=r.decode(t));return n}encode(t,e,n=0){const i=this.word.decode(e,n);this._packedSetValue(i);for(const r of this.fields)if(void 0!==r.property){const e=t[r.property];void 0!==e&&r.encode(e)}return this.word.encode(this._packedGetValue(),e,n)}addField(t,e){const n=new rs(this,t,e);return this.fields.push(n),n}addBoolean(t){const e=new ss(this,t);return this.fields.push(e),e}fieldFor(t){if("string"!=typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}}kr.BitStructure=is;class rs{constructor(t,e,n){if(!(t instanceof is))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(e)||0>=e)throw new TypeError("bits must be positive integer");const i=8*t.span,r=t.fields.reduce((t,e)=>t+e.bits,0);if(e+r>i)throw new Error("bits too long for span remainder ("+(i-r)+" of "+i+" remain)");this.container=t,this.bits=e,this.valueMask=(1<<e)-1,32===e&&(this.valueMask=4294967295),this.start=r,this.container.msb&&(this.start=i-r-e),this.wordMask=ns(this.valueMask<<this.start),this.property=n}decode(t,e){return ns(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(t){if("number"!=typeof t||!Number.isInteger(t)||t!==ns(t&this.valueMask))throw new TypeError(Cr("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const e=this.container._packedGetValue(),n=ns(t<<this.start);this.container._packedSetValue(ns(e&~this.wordMask)|n)}}kr.BitField=rs;let ss=class extends rs{constructor(t,e){super(t,1,e)}decode(t,e){return!!super.decode(t,e)}encode(t){"boolean"==typeof t&&(t=+t),super.encode(t)}};kr.Boolean=ss;class os extends jr{constructor(t,e){if(!(t instanceof Br&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;t instanceof Br||(n=t),super(n,e),this.length=t}getSpan(t,e){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),n}decode(t,e=0){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),Lr(t).slice(e,e+n)}encode(t,e,n){let i=this.length;if(this.length instanceof Br&&(i=t.length),!(t instanceof Uint8Array&&i===t.length))throw new TypeError(Cr("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(n+i>e.length)throw new RangeError("encoding overruns Uint8Array");const r=Lr(t);return Lr(e).write(r.toString("hex"),n,i,"hex"),this.length instanceof Br&&this.length.encode(i,e,n),i}}kr.Blob=os;class as extends jr{constructor(t){super(-1,t)}getSpan(t,e=0){Nr(t);let n=e;for(;n<t.length&&0!==t[n];)n+=1;return 1+n-e}decode(t,e=0){const n=this.getSpan(t,e);return Lr(t).slice(e,e+n-1).toString("utf-8")}encode(t,e,n=0){"string"!=typeof t&&(t=String(t));const i=Ir.Buffer.from(t,"utf8"),r=i.length;if(n+r>e.length)throw new RangeError("encoding overruns Buffer");const s=Lr(e);return i.copy(s,n),s[n+r]=0,r+1}}kr.CString=as;class cs extends jr{constructor(t,e){if("string"==typeof t&&void 0===e&&(e=t,t=void 0),void 0===t)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");super(-1,e),this.maxSpan=t}getSpan(t,e=0){return Nr(t),t.length-e}decode(t,e=0){const n=this.getSpan(t,e);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return Lr(t).slice(e,e+n).toString("utf-8")}encode(t,e,n=0){"string"!=typeof t&&(t=String(t));const i=Ir.Buffer.from(t,"utf8"),r=i.length;if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");if(n+r>e.length)throw new RangeError("encoding overruns Buffer");return i.copy(Lr(e),n),r}}kr.UTF8=cs;class ls extends jr{constructor(t,e){super(0,e),this.value=t}decode(t,e){return this.value}encode(t,e,n){return 0}}kr.Constant=ls,kr.greedy=(t,e)=>new _r(t,e);var us=kr.offset=(t,e,n)=>new Tr(t,e,n),hs=kr.u8=t=>new Rr(1,t),ds=kr.u16=t=>new Rr(2,t);kr.u24=t=>new Rr(3,t);var ms=kr.u32=t=>new Rr(4,t);kr.u40=t=>new Rr(5,t),kr.u48=t=>new Rr(6,t);var fs=kr.nu64=t=>new Fr(t);kr.u16be=t=>new Or(2,t),kr.u24be=t=>new Or(3,t),kr.u32be=t=>new Or(4,t),kr.u40be=t=>new Or(5,t),kr.u48be=t=>new Or(6,t),kr.nu64be=t=>new Wr(t),kr.s8=t=>new Dr(1,t),kr.s16=t=>new Dr(2,t),kr.s24=t=>new Dr(3,t),kr.s32=t=>new Dr(4,t),kr.s40=t=>new Dr(5,t),kr.s48=t=>new Dr(6,t);var ps=kr.ns64=t=>new Kr(t);kr.s16be=t=>new zr(2,t),kr.s24be=t=>new zr(3,t),kr.s32be=t=>new zr(4,t),kr.s40be=t=>new zr(5,t),kr.s48be=t=>new zr(6,t),kr.ns64be=t=>new Hr(t),kr.f32=t=>new $r(t),kr.f32be=t=>new Vr(t),kr.f64=t=>new Zr(t),kr.f64be=t=>new Yr(t);var gs=kr.struct=(t,e,n)=>new Qr(t,e,n);kr.bits=(t,e,n)=>new is(t,e,n);var ys=kr.seq=(t,e,n)=>new Gr(t,e,n);kr.union=(t,e,n)=>new ts(t,e,n),kr.unionLayoutDiscriminator=(t,e)=>new Xr(t,e);var ws=kr.blob=(t,e)=>new os(t,e);kr.cstr=t=>new as(t),kr.utf8=(t,e)=>new cs(t,e),kr.constant=(t,e)=>new ls(t,e);function vs(t){if(Array.isArray(t)){return"%5B"+t.map(vs).join("%2C%20")+"%5D"}return"bigint"==typeof t?`${t}n`:encodeURIComponent(String(null!=t&&null===Object.getPrototypeOf(t)?{...t}:t))}function bs([t,e]){return`${t}=${vs(e)}`}function xs(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${function(t){const e=Object.entries(t).map(bs).join("&");return btoa(e)}(e)}'`),`${n}\``}}var Es=class extends Error{constructor(...[t,n]){let i,r;if(n){const{cause:t,...e}=n;t&&(r={cause:t}),Object.keys(e).length>0&&(i=e)}super(xs(t,i),r),e(this,"cause",this.cause),e(this,"context"),this.context={__code:t,...i},this.name="SolanaError"}};function Ms(t){return"fixedSize"in t&&"number"==typeof t.fixedSize}function Ss(t){return 1!==t?.endian}function As(t){return e={fixedSize:t.size,write(e,n,i){t.range&&function(t,e,n,i){if(i<e||i>n)throw new Es(8078011,{codecDescription:t,max:n,min:e,value:i})}(t.name,t.range[0],t.range[1],e);const r=new ArrayBuffer(t.size);return t.set(new DataView(r),e,Ss(t.config)),n.set(new Uint8Array(r),i),i+t.size}},Object.freeze({...e,encode:t=>{const n=new Uint8Array(function(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}(t,e));return e.write(t,n,0),n}});var e}function ks(t){return e={fixedSize:t.size,read(e,n=0){!function(t,e,n=0){if(e.length-n<=0)throw new Es(8078e3,{codecDescription:t})}(t.name,e,n),function(t,e,n,i=0){const r=n.length-i;if(r<e)throw new Es(8078001,{bytesLength:r,codecDescription:t,expected:e})}(t.name,t.size,e,n);const i=new DataView(function(t,e,n){const i=t.byteOffset+(e??0),r=n??t.byteLength;return t.buffer.slice(i,i+r)}(e,n,t.size));return[t.get(i,Ss(t.config)),n+t.size]}},Object.freeze({...e,decode:(t,n=0)=>e.read(t,n)[0]});var e}var Is=(t={})=>function(t,e){if(Ms(t)!==Ms(e))throw new Es(8078004);if(Ms(t)&&Ms(e)&&t.fixedSize!==e.fixedSize)throw new Es(8078005,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!Ms(t)&&!Ms(e)&&t.maxSize!==e.maxSize)throw new Es(8078006,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}(((t={})=>As({config:t,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(t,e,n)=>t.setBigUint64(0,BigInt(e),n),size:8}))(t),((t={})=>ks({config:t,get:(t,e)=>t.getBigUint64(0,e),name:"u64",size:8}))(t));class Ns extends TypeError{constructor(t,e){let n;const{message:i,explanation:r,...s}=t,{path:o}=t,a=0===o.length?i:`At path: ${o.join(".")} -- ${i}`;super(r??a),null!=r&&(this.cause=a),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>n??(n=[t,...e()])}}function Ls(t){return"object"==typeof t&&null!=t}function js(t){return Ls(t)&&!Array.isArray(t)}function Cs(t){return"symbol"==typeof t?t.toString():"string"==typeof t?JSON.stringify(t):`${t}`}function Bs(t,e,n,i){if(!0===t)return;!1===t?t={}:"string"==typeof t&&(t={message:t});const{path:r,branch:s}=e,{type:o}=n,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${Cs(i)}\``}=t;return{value:i,type:o,refinement:a,key:r[r.length-1],path:r,branch:s,...t,message:c}}function*_s(t,e,n,i){var r;Ls(r=t)&&"function"==typeof r[Symbol.iterator]||(t=[t]);for(const s of t){const t=Bs(s,e,n,i);t&&(yield t)}}function*Ts(t,e,n={}){const{path:i=[],branch:r=[t],coerce:s=!1,mask:o=!1}=n,a={path:i,branch:r,mask:o};s&&(t=e.coercer(t,a));let c="valid";for(const l of e.validator(t,a))l.explanation=n.message,c="not_valid",yield[l,void 0];for(let[l,u,h]of e.entries(t,a)){const e=Ts(u,h,{path:void 0===l?i:[...i,l],branch:void 0===l?r:[...r,u],coerce:s,mask:o,message:n.message});for(const n of e)n[0]?(c=null!=n[0].refinement?"not_refined":"not_valid",yield[n[0],void 0]):s&&(u=n[1],void 0===l?t=u:t instanceof Map?t.set(l,u):t instanceof Set?t.add(u):Ls(t)&&(void 0!==u||l in t)&&(t[l]=u))}if("not_valid"!==c)for(const l of e.refiner(t,a))l.explanation=n.message,c="not_refined",yield[l,void 0];"valid"===c&&(yield[void 0,t])}let Rs=class{constructor(t){const{type:e,schema:n,validator:i,refiner:r,coercer:s=t=>t,entries:o=function*(){}}=t;this.type=e,this.schema=n,this.entries=o,this.coercer=s,this.validator=i?(t,e)=>_s(i(t,e),e,this,t):()=>[],this.refiner=r?(t,e)=>_s(r(t,e),e,this,t):()=>[]}assert(t,e){return function(t,e,n){const i=zs(t,e,{message:n});if(i[0])throw i[0]}(t,this,e)}create(t,e){return Os(t,this,e)}is(t){return Ds(t,this)}mask(t,e){return function(t,e,n){const i=zs(t,e,{coerce:!0,mask:!0,message:n});if(i[0])throw i[0];return i[1]}(t,this,e)}validate(t,e={}){return zs(t,this,e)}};function Os(t,e,n){const i=zs(t,e,{coerce:!0,message:n});if(i[0])throw i[0];return i[1]}function Ds(t,e){return!zs(t,e)[0]}function zs(t,e,n={}){const i=Ts(t,e,n),r=function(t){const{done:e,value:n}=t.next();return e?void 0:n}(i);if(r[0]){return[new Ns(r[0],function*(){for(const t of i)t[0]&&(yield t[0])}),void 0]}return[void 0,r[1]]}function Ps(t,e){return new Rs({type:t,schema:null,validator:e})}function Us(t){return new Rs({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,i]of e.entries())yield[n,i,t]},coercer:t=>Array.isArray(t)?t.slice():t,validator:t=>Array.isArray(t)||`Expected an array value, but received: ${Cs(t)}`})}function qs(){return Ps("boolean",t=>"boolean"==typeof t)}function Fs(t){return Ps("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${Cs(e)}`)}function Ws(t){const e=Cs(t),n=typeof t;return new Rs({type:"literal",schema:"string"===n||"number"===n||"boolean"===n?t:null,validator:n=>n===t||`Expected the literal \`${e}\`, but received: ${Cs(n)}`})}function Ks(t){return new Rs({...t,validator:(e,n)=>null===e||t.validator(e,n),refiner:(e,n)=>null===e||t.refiner(e,n)})}function Hs(){return Ps("number",t=>"number"==typeof t&&!isNaN(t)||`Expected a number, but received: ${Cs(t)}`)}function $s(t){return new Rs({...t,validator:(e,n)=>void 0===e||t.validator(e,n),refiner:(e,n)=>void 0===e||t.refiner(e,n)})}function Vs(t,e){return new Rs({type:"record",schema:null,*entries(n){if(Ls(n))for(const i in n){const r=n[i];yield[i,i,t],yield[i,r,e]}},validator:t=>js(t)||`Expected an object, but received: ${Cs(t)}`,coercer:t=>js(t)?{...t}:t})}function Zs(){return Ps("string",t=>"string"==typeof t||`Expected a string, but received: ${Cs(t)}`)}function Ys(t){const e=Ps("never",()=>!1);return new Rs({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const i=Math.max(t.length,n.length);for(let r=0;r<i;r++)yield[r,n[r],t[r]||e]}},validator:t=>Array.isArray(t)||`Expected an array, but received: ${Cs(t)}`,coercer:t=>Array.isArray(t)?t.slice():t})}function Gs(t){const e=Object.keys(t);return new Rs({type:"type",schema:t,*entries(n){if(Ls(n))for(const i of e)yield[i,n[i],t[i]]},validator:t=>js(t)||`Expected an object, but received: ${Cs(t)}`,coercer:t=>js(t)?{...t}:t})}function Qs(t){const e=t.map(t=>t.type).join(" | ");return new Rs({type:"union",schema:null,coercer(e,n){for(const i of t){const[t,r]=i.validate(e,{coerce:!0,mask:n.mask});if(!t)return r}return e},validator(n,i){const r=[];for(const e of t){const[...t]=Ts(n,e,i),[s]=t;if(!s[0])return[];for(const[e]of t)e&&r.push(e)}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${Cs(n)}`,...r]}})}function Js(){return Ps("unknown",()=>!0)}function Xs(t,e,n){return new Rs({...t,coercer:(i,r)=>Ds(i,e)?t.coercer(n(i,r),r):t.coercer(i,r)})}var to,eo=new Uint8Array(16);function no(){if(!to&&!(to="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return to(eo)}const io=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function ro(t){return"string"==typeof t&&io.test(t)}for(var so,oo,ao=[],co=0;co<256;++co)ao.push((co+256).toString(16).substr(1));function lo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(ao[t[e+0]]+ao[t[e+1]]+ao[t[e+2]]+ao[t[e+3]]+"-"+ao[t[e+4]]+ao[t[e+5]]+"-"+ao[t[e+6]]+ao[t[e+7]]+"-"+ao[t[e+8]]+ao[t[e+9]]+"-"+ao[t[e+10]]+ao[t[e+11]]+ao[t[e+12]]+ao[t[e+13]]+ao[t[e+14]]+ao[t[e+15]]).toLowerCase();if(!ro(n))throw TypeError("Stringified UUID is invalid");return n}var uo=0,ho=0;function mo(t){if(!ro(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=255&e,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=255&e,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=255&e,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=255&e,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=255&e,n}function fo(t,e,n){function i(t,i,r,s){if("string"==typeof t&&(t=function(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}(t)),"string"==typeof i&&(i=mo(i)),16!==i.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var o=new Uint8Array(16+t.length);if(o.set(i),o.set(t,i.length),(o=n(o))[6]=15&o[6]|e,o[8]=63&o[8]|128,r){s=s||0;for(var a=0;a<16;++a)r[s+a]=o[a];return r}return lo(o)}try{i.name=t}catch(r){}return i.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",i.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",i}function po(t){return 14+(t+64>>>9<<4)+1}function go(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function yo(t,e,n,i,r,s){return go((o=go(go(e,t),go(i,s)))<<(a=r)|o>>>32-a,n);var o,a}function wo(t,e,n,i,r,s,o){return yo(e&n|~e&i,t,e,r,s,o)}function vo(t,e,n,i,r,s,o){return yo(e&i|n&~i,t,e,r,s,o)}function bo(t,e,n,i,r,s,o){return yo(e^n^i,t,e,r,s,o)}function xo(t,e,n,i,r,s,o){return yo(n^(e|~i),t,e,r,s,o)}var Eo=fo("v3",48,function(t){if("string"==typeof t){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return function(t){for(var e=[],n=32*t.length,i="0123456789abcdef",r=0;r<n;r+=8){var s=t[r>>5]>>>r%32&255,o=parseInt(i.charAt(s>>>4&15)+i.charAt(15&s),16);e.push(o)}return e}(function(t,e){t[e>>5]|=128<<e%32,t[po(e)-1]=e;for(var n=1732584193,i=-271733879,r=-1732584194,s=271733878,o=0;o<t.length;o+=16){var a=n,c=i,l=r,u=s;n=wo(n,i,r,s,t[o],7,-680876936),s=wo(s,n,i,r,t[o+1],12,-389564586),r=wo(r,s,n,i,t[o+2],17,606105819),i=wo(i,r,s,n,t[o+3],22,-1044525330),n=wo(n,i,r,s,t[o+4],7,-176418897),s=wo(s,n,i,r,t[o+5],12,1200080426),r=wo(r,s,n,i,t[o+6],17,-1473231341),i=wo(i,r,s,n,t[o+7],22,-45705983),n=wo(n,i,r,s,t[o+8],7,1770035416),s=wo(s,n,i,r,t[o+9],12,-1958414417),r=wo(r,s,n,i,t[o+10],17,-42063),i=wo(i,r,s,n,t[o+11],22,-1990404162),n=wo(n,i,r,s,t[o+12],7,1804603682),s=wo(s,n,i,r,t[o+13],12,-40341101),r=wo(r,s,n,i,t[o+14],17,-1502002290),n=vo(n,i=wo(i,r,s,n,t[o+15],22,1236535329),r,s,t[o+1],5,-165796510),s=vo(s,n,i,r,t[o+6],9,-1069501632),r=vo(r,s,n,i,t[o+11],14,643717713),i=vo(i,r,s,n,t[o],20,-373897302),n=vo(n,i,r,s,t[o+5],5,-701558691),s=vo(s,n,i,r,t[o+10],9,38016083),r=vo(r,s,n,i,t[o+15],14,-660478335),i=vo(i,r,s,n,t[o+4],20,-405537848),n=vo(n,i,r,s,t[o+9],5,568446438),s=vo(s,n,i,r,t[o+14],9,-1019803690),r=vo(r,s,n,i,t[o+3],14,-187363961),i=vo(i,r,s,n,t[o+8],20,1163531501),n=vo(n,i,r,s,t[o+13],5,-1444681467),s=vo(s,n,i,r,t[o+2],9,-51403784),r=vo(r,s,n,i,t[o+7],14,1735328473),n=bo(n,i=vo(i,r,s,n,t[o+12],20,-1926607734),r,s,t[o+5],4,-378558),s=bo(s,n,i,r,t[o+8],11,-2022574463),r=bo(r,s,n,i,t[o+11],16,1839030562),i=bo(i,r,s,n,t[o+14],23,-35309556),n=bo(n,i,r,s,t[o+1],4,-1530992060),s=bo(s,n,i,r,t[o+4],11,1272893353),r=bo(r,s,n,i,t[o+7],16,-155497632),i=bo(i,r,s,n,t[o+10],23,-1094730640),n=bo(n,i,r,s,t[o+13],4,681279174),s=bo(s,n,i,r,t[o],11,-358537222),r=bo(r,s,n,i,t[o+3],16,-722521979),i=bo(i,r,s,n,t[o+6],23,76029189),n=bo(n,i,r,s,t[o+9],4,-640364487),s=bo(s,n,i,r,t[o+12],11,-421815835),r=bo(r,s,n,i,t[o+15],16,530742520),n=xo(n,i=bo(i,r,s,n,t[o+2],23,-995338651),r,s,t[o],6,-198630844),s=xo(s,n,i,r,t[o+7],10,1126891415),r=xo(r,s,n,i,t[o+14],15,-1416354905),i=xo(i,r,s,n,t[o+5],21,-57434055),n=xo(n,i,r,s,t[o+12],6,1700485571),s=xo(s,n,i,r,t[o+3],10,-1894986606),r=xo(r,s,n,i,t[o+10],15,-1051523),i=xo(i,r,s,n,t[o+1],21,-2054922799),n=xo(n,i,r,s,t[o+8],6,1873313359),s=xo(s,n,i,r,t[o+15],10,-30611744),r=xo(r,s,n,i,t[o+6],15,-1560198380),i=xo(i,r,s,n,t[o+13],21,1309151649),n=xo(n,i,r,s,t[o+4],6,-145523070),s=xo(s,n,i,r,t[o+11],10,-1120210379),r=xo(r,s,n,i,t[o+2],15,718787259),i=xo(i,r,s,n,t[o+9],21,-343485551),n=go(n,a),i=go(i,c),r=go(r,l),s=go(s,u)}return[n,i,r,s]}(function(t){if(0===t.length)return[];for(var e=8*t.length,n=new Uint32Array(po(e)),i=0;i<e;i+=8)n[i>>5]|=(255&t[i/8])<<i%32;return n}(t),8*t.length))});function Mo(t,e,n,i){switch(t){case 0:return e&n^~e&i;case 1:case 3:return e^n^i;case 2:return e&n^e&i^n&i}}function So(t,e){return t<<e|t>>>32-e}var Ao=fo("v5",80,function(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof t){var i=unescape(encodeURIComponent(t));t=[];for(var r=0;r<i.length;++r)t.push(i.charCodeAt(r))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var s=t.length/4+2,o=Math.ceil(s/16),a=new Array(o),c=0;c<o;++c){for(var l=new Uint32Array(16),u=0;u<16;++u)l[u]=t[64*c+4*u]<<24|t[64*c+4*u+1]<<16|t[64*c+4*u+2]<<8|t[64*c+4*u+3];a[c]=l}a[o-1][14]=8*(t.length-1)/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=8*(t.length-1)&4294967295;for(var h=0;h<o;++h){for(var d=new Uint32Array(80),m=0;m<16;++m)d[m]=a[h][m];for(var f=16;f<80;++f)d[f]=So(d[f-3]^d[f-8]^d[f-14]^d[f-16],1);for(var p=n[0],g=n[1],y=n[2],w=n[3],v=n[4],b=0;b<80;++b){var x=Math.floor(b/20),E=So(p,5)+Mo(x,g,y,w)+v+e[x]+d[b]>>>0;v=w,w=y,y=So(g,30)>>>0,g=p,p=E}n[0]=n[0]+p>>>0,n[1]=n[1]+g>>>0,n[2]=n[2]+y>>>0,n[3]=n[3]+w>>>0,n[4]=n[4]+v>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]});const ko=Object.freeze(Object.defineProperty({__proto__:null,NIL:"00000000-0000-0000-0000-000000000000",parse:mo,stringify:lo,v1:function(t,e,n){var i=e&&n||0,r=e||new Array(16),s=(t=t||{}).node||so,o=void 0!==t.clockseq?t.clockseq:oo;if(null==s||null==o){var a=t.random||(t.rng||no)();null==s&&(s=so=[1|a[0],a[1],a[2],a[3],a[4],a[5]]),null==o&&(o=oo=16383&(a[6]<<8|a[7]))}var c=void 0!==t.msecs?t.msecs:Date.now(),l=void 0!==t.nsecs?t.nsecs:ho+1,u=c-uo+(l-ho)/1e4;if(u<0&&void 0===t.clockseq&&(o=o+1&16383),(u<0||c>uo)&&void 0===t.nsecs&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");uo=c,ho=l,oo=o;var h=(1e4*(268435455&(c+=122192928e5))+l)%4294967296;r[i++]=h>>>24&255,r[i++]=h>>>16&255,r[i++]=h>>>8&255,r[i++]=255&h;var d=c/4294967296*1e4&268435455;r[i++]=d>>>8&255,r[i++]=255&d,r[i++]=d>>>24&15|16,r[i++]=d>>>16&255,r[i++]=o>>>8|128,r[i++]=255&o;for(var m=0;m<6;++m)r[i+m]=s[m];return e||lo(r)},v3:Eo,v4:function(t,e,n){var i=(t=t||{}).random||(t.rng||no)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){n=n||0;for(var r=0;r<16;++r)e[n+r]=i[r];return e}return lo(i)},v5:Ao,validate:ro,version:function(t){if(!ro(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}},Symbol.toStringTag,{value:"Module"})),Io=r(ko),No=Io.v4;var Lo=function(t,e,n,i){if("string"!=typeof t)throw new TypeError(t+" must be a string");const r="number"==typeof(i=i||{}).version?i.version:2;if(1!==r&&2!==r)throw new TypeError(r+" must be 1 or 2");const s={method:t};if(2===r&&(s.jsonrpc="2.0"),e){if("object"!=typeof e&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");s.params=e}if(void 0===n){const t="function"==typeof i.generator?i.generator:function(){return No()};s.id=t(s,i)}else 2===r&&null===n?i.notificationIdNull&&(s.id=null):s.id=n;return s};const jo=Io.v4,Co=Lo,Bo=function(t,e){if(!(this instanceof Bo))return new Bo(t,e);e||(e={}),this.options={reviver:void 0!==e.reviver?e.reviver:null,replacer:void 0!==e.replacer?e.replacer:null,generator:void 0!==e.generator?e.generator:function(){return jo()},version:void 0!==e.version?e.version:2,notificationIdNull:"boolean"==typeof e.notificationIdNull&&e.notificationIdNull},this.callServer=t};var _o=Bo;Bo.prototype.request=function(t,e,n,i){const r=this;let s=null;const o=Array.isArray(t)&&"function"==typeof e;if(1===this.options.version&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&t&&"object"==typeof t&&"function"==typeof e)i=e,s=t;else{"function"==typeof n&&(i=n,n=void 0);const r="function"==typeof i;try{s=Co(t,e,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(c){if(r)return i(c);throw c}if(!r)return s}let a;try{a=JSON.stringify(s,this.options.replacer)}catch(c){return i(c)}return this.callServer(a,function(t,e){r._parseResponse(t,e,i)}),s},Bo.prototype._parseResponse=function(t,e,n){if(t)return void n(t);if(!e)return n();let i;try{i=JSON.parse(e,this.options.reviver)}catch(r){return n(r)}if(3===n.length){if(Array.isArray(i)){const t=function(t){return void 0!==t.error},e=function(e){return!t(e)};return n(null,i.filter(t),i.filter(e))}return n(null,i.error,i.result)}n(null,i)};const To=o(_o);var Ro={exports:{}};!function(t){var e=Object.prototype.hasOwnProperty,n="~";function i(){}function r(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function s(t,e,i,s,o){if("function"!=typeof i)throw new TypeError("The listener must be a function");var a=new r(i,s||t,o),c=n?n+e:e;return t._events[c]?t._events[c].fn?t._events[c]=[t._events[c],a]:t._events[c].push(a):(t._events[c]=a,t._eventsCount++),t}function o(t,e){0===--t._eventsCount?t._events=new i:delete t._events[e]}function a(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(n=!1)),a.prototype.eventNames=function(){var t,i,r=[];if(0===this._eventsCount)return r;for(i in t=this._events)e.call(t,i)&&r.push(n?i.slice(1):i);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},a.prototype.listeners=function(t){var e=n?n+t:t,i=this._events[e];if(!i)return[];if(i.fn)return[i.fn];for(var r=0,s=i.length,o=new Array(s);r<s;r++)o[r]=i[r].fn;return o},a.prototype.listenerCount=function(t){var e=n?n+t:t,i=this._events[e];return i?i.fn?1:i.length:0},a.prototype.emit=function(t,e,i,r,s,o){var a=n?n+t:t;if(!this._events[a])return!1;var c,l,u=this._events[a],h=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),h){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,i),!0;case 4:return u.fn.call(u.context,e,i,r),!0;case 5:return u.fn.call(u.context,e,i,r,s),!0;case 6:return u.fn.call(u.context,e,i,r,s,o),!0}for(l=1,c=new Array(h-1);l<h;l++)c[l-1]=arguments[l];u.fn.apply(u.context,c)}else{var d,m=u.length;for(l=0;l<m;l++)switch(u[l].once&&this.removeListener(t,u[l].fn,void 0,!0),h){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,e);break;case 3:u[l].fn.call(u[l].context,e,i);break;case 4:u[l].fn.call(u[l].context,e,i,r);break;default:if(!c)for(d=1,c=new Array(h-1);d<h;d++)c[d-1]=arguments[d];u[l].fn.apply(u[l].context,c)}}return!0},a.prototype.on=function(t,e,n){return s(this,t,e,n,!1)},a.prototype.once=function(t,e,n){return s(this,t,e,n,!0)},a.prototype.removeListener=function(t,e,i,r){var s=n?n+t:t;if(!this._events[s])return this;if(!e)return o(this,s),this;var a=this._events[s];if(a.fn)a.fn!==e||r&&!a.once||i&&a.context!==i||o(this,s);else{for(var c=0,l=[],u=a.length;c<u;c++)(a[c].fn!==e||r&&!a[c].once||i&&a[c].context!==i)&&l.push(a[c]);l.length?this._events[s]=1===l.length?l[0]:l:o(this,s)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&o(this,e)):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a}(Ro);const Oo=o(Ro.exports);var Do=class extends Oo{constructor(t,n,i){super(),e(this,"socket"),this.socket=new window.WebSocket(t,i),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=t=>this.emit("message",t.data),this.socket.onerror=t=>this.emit("error",t),this.socket.onclose=t=>{this.emit("close",t.code,t.reason)}}send(t,e,n){const i=n||e;try{this.socket.send(t),i()}catch(r){i(r)}}close(t,e){this.socket.close(t,e)}addEventListener(t,e,n){this.socket.addEventListener(t,e,n)}};var zo=class{encode(t){return JSON.stringify(t)}decode(t){return JSON.parse(t)}},Po=class extends Oo{constructor(t,n="ws://localhost:8080",{autoconnect:i=!0,reconnect:r=!0,reconnect_interval:s=1e3,max_reconnects:o=5,...a}={},c,l){super(),e(this,"address"),e(this,"rpc_id"),e(this,"queue"),e(this,"options"),e(this,"autoconnect"),e(this,"ready"),e(this,"reconnect"),e(this,"reconnect_timer_id"),e(this,"reconnect_interval"),e(this,"max_reconnects"),e(this,"rest_options"),e(this,"current_reconnects"),e(this,"generate_request_id"),e(this,"socket"),e(this,"webSocketFactory"),e(this,"dataPack"),this.webSocketFactory=t,this.queue={},this.rpc_id=0,this.address=n,this.autoconnect=i,this.ready=!1,this.reconnect=r,this.reconnect_timer_id=void 0,this.reconnect_interval=s,this.max_reconnects=o,this.rest_options=a,this.current_reconnects=0,this.generate_request_id=c||(()=>"number"==typeof this.rpc_id?++this.rpc_id:Number(this.rpc_id)+1),this.dataPack=l||new zo,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(t,e,n,i){return i||"object"!=typeof n||(i=n,n=null),new Promise((r,s)=>{if(!this.ready)return s(new Error("socket not ready"));const o=this.generate_request_id(t,e),a={jsonrpc:"2.0",method:t,params:e||void 0,id:o};this.socket.send(this.dataPack.encode(a),i,t=>{if(t)return s(t);this.queue[o]={promise:[r,s]},n&&(this.queue[o].timeout=setTimeout(()=>{delete this.queue[o],s(new Error("reply timeout"))},n))})})}async login(t){const e=await this.call("rpc.login",t);if(!e)throw new Error("authentication failed");return e}async listMethods(){return await this.call("__listMethods")}notify(t,e){return new Promise((n,i)=>{if(!this.ready)return i(new Error("socket not ready"));const r={jsonrpc:"2.0",method:t,params:e};this.socket.send(this.dataPack.encode(r),t=>{if(t)return i(t);n()})})}async subscribe(t){"string"==typeof t&&(t=[t]);const e=await this.call("rpc.on",t);if("string"==typeof t&&"ok"!==e[t])throw new Error("Failed subscribing to an event '"+t+"' with: "+e[t]);return e}async unsubscribe(t){"string"==typeof t&&(t=[t]);const e=await this.call("rpc.off",t);if("string"==typeof t&&"ok"!==e[t])throw new Error("Failed unsubscribing from an event with: "+e);return e}close(t,e){this.socket&&this.socket.close(t||1e3,e)}setAutoReconnect(t){this.reconnect=t}setReconnectInterval(t){this.reconnect_interval=t}setMaxReconnects(t){this.max_reconnects=t}getCurrentReconnects(){return this.current_reconnects}getMaxReconnects(){return this.max_reconnects}isReconnecting(){return void 0!==this.reconnect_timer_id}willReconnect(){return this.reconnect&&(0===this.max_reconnects||this.current_reconnects<this.max_reconnects)}_connect(t,e){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(t,e),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:t})=>{t instanceof ArrayBuffer&&(t=Gt.Buffer.from(t).toString());try{t=this.dataPack.decode(t)}catch(e){return}if(t.notification&&this.listeners(t.notification).length){if(!Object.keys(t.params).length)return this.emit(t.notification);const e=[t.notification];if(t.params.constructor===Object)e.push(t.params);else for(let n=0;n<t.params.length;n++)e.push(t.params[n]);return Promise.resolve().then(()=>{this.emit.apply(this,e)})}if(!this.queue[t.id])return t.method?Promise.resolve().then(()=>{this.emit(t.method,t?.params)}):void 0;"error"in t=="result"in t&&this.queue[t.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[t.id].timeout&&clearTimeout(this.queue[t.id].timeout),t.error?this.queue[t.id].promise[1](t.error):this.queue[t.id].promise[0](t.result),delete this.queue[t.id]}),this.socket.addEventListener("error",t=>this.emit("error",t)),this.socket.addEventListener("close",({code:n,reason:i})=>{this.ready&&setTimeout(()=>this.emit("close",n,i),0),this.ready=!1,this.socket=void 0,1e3!==n&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||0===this.max_reconnects)?this.reconnect_timer_id=setTimeout(()=>this._connect(t,e),this.reconnect_interval):this.reconnect&&this.max_reconnects>0&&this.current_reconnects>=this.max_reconnects&&setTimeout(()=>this.emit("max_reconnects_reached",n,i),1))})}};class Uo extends Le{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,he(t);const n=Ie(e);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,r=new Uint8Array(i);r.set(n.length>i?t.create().update(n).digest():n);for(let s=0;s<r.length;s++)r[s]^=54;this.iHash.update(r),this.oHash=t.create();for(let s=0;s<r.length;s++)r[s]^=106;this.oHash.update(r),me(r)}update(t){return de(this),this.iHash.update(t),this}digestInto(t){de(this),ue(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:n,finished:i,destroyed:r,blockLen:s,outputLen:o}=this;return t.finished=i,t.destroyed=r,t.blockLen=s,t.outputLen=o,t.oHash=e._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const qo=(t,e,n)=>new Uo(t,e).update(n).digest();qo.create=(t,e)=>new Uo(t,e);
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const Fo=(t,e)=>(t+(t>=0?e:-e)/Yo)/e;function Wo(t){if(!["compact","recovered","der"].includes(t))throw new Error('Signature format must be "compact", "recovered", or "der"');return t}function Ko(t,e){const n={};for(let i of Object.keys(e))n[i]=void 0===t[i]?e[i]:t[i];return mn(n.lowS,"lowS"),mn(n.prehash,"prehash"),void 0!==n.format&&Wo(n.format),n}class Ho extends Error{constructor(t=""){super(t)}}const $o={Err:Ho,_tlv:{encode:(t,e)=>{const{Err:n}=$o;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(1&e.length)throw new n("tlv.encode: unpadded data");const i=e.length/2,r=pn(i);if(r.length/2&128)throw new n("tlv.encode: long form length too big");const s=i>127?pn(r.length/2|128):"";return pn(t)+s+r+e},decode(t,e){const{Err:n}=$o;let i=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[i++]!==t)throw new n("tlv.decode: wrong tlv");const r=e[i++];let s=0;if(!!(128&r)){const t=127&r;if(!t)throw new n("tlv.decode(long): indefinite length not supported");if(t>4)throw new n("tlv.decode(long): byte length is too big");const o=e.subarray(i,i+t);if(o.length!==t)throw new n("tlv.decode: length bytes not complete");if(0===o[0])throw new n("tlv.decode(long): zero leftmost byte");for(const e of o)s=s<<8|e;if(i+=t,s<128)throw new n("tlv.decode(long): not minimal encoding")}else s=r;const o=e.subarray(i,i+s);if(o.length!==s)throw new n("tlv.decode: wrong value length");return{v:o,l:e.subarray(i+s)}}},_int:{encode(t){const{Err:e}=$o;if(t<Vo)throw new e("integer: negative integers are not allowed");let n=pn(t);if(8&Number.parseInt(n[0],16)&&(n="00"+n),1&n.length)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=$o;if(128&t[0])throw new e("invalid signature integer: negative");if(0===t[0]&&!(128&t[1]))throw new e("invalid signature integer: unnecessary leading zero");return yn(t)}},toSig(t){const{Err:e,_int:n,_tlv:i}=$o,r=xn("signature",t),{v:s,l:o}=i.decode(48,r);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=i.decode(2,s),{v:l,l:u}=i.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=$o,i=e.encode(2,n.encode(t.r))+e.encode(2,n.encode(t.s));return e.encode(48,i)}},Vo=BigInt(0),Zo=BigInt(1),Yo=BigInt(2),Go=BigInt(3),Qo=BigInt(4);function Jo(t,e){const{BYTES:n}=t;let i;if("bigint"==typeof e)i=e;else{let s=xn("private key",e);try{i=t.fromBytes(s)}catch(r){throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof e}`)}}if(!t.isValidNot0(i))throw new Error("invalid private key: out of range [1..N-1]");return i}function Xo(t,e={}){const n=fi("weierstrass",t,e),{Fp:i,Fn:r}=n;let s=n.CURVE;const{h:o,n:a}=s;In(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:c}=e;if(c&&(!i.is0(s.a)||"bigint"!=typeof c.beta||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const l=ea(i,r);function u(){if(!i.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}const h=e.toBytes||function(t,e,n){const{x:r,y:s}=e.toAffine(),o=i.toBytes(r);if(mn(n,"isCompressed"),n){u();return Ne(ta(!i.isOdd(s)),o)}return Ne(Uint8Array.of(4),o,i.toBytes(s))},d=e.fromBytes||function(t){fn(t,void 0,"Point");const{publicKey:e,publicKeyUncompressed:n}=l,r=t.length,s=t[0],o=t.subarray(1);if(r!==e||2!==s&&3!==s){if(r===n&&4===s){const t=i.BYTES,e=i.fromBytes(o.subarray(0,t)),n=i.fromBytes(o.subarray(t,2*t));if(!f(e,n))throw new Error("bad point: is not on curve");return{x:e,y:n}}throw new Error(`bad point: got length ${r}, expected compressed=${e} or uncompressed=${n}`)}{const t=i.fromBytes(o);if(!i.isValid(t))throw new Error("bad point: is not on curve, wrong x");const e=m(t);let n;try{n=i.sqrt(e)}catch(a){const t=a instanceof Error?": "+a.message:"";throw new Error("bad point: is not on curve, sqrt error"+t)}u();return!(1&~s)!==i.isOdd(n)&&(n=i.neg(n)),{x:t,y:n}}};function m(t){const e=i.sqr(t),n=i.mul(e,t);return i.add(i.add(n,i.mul(t,s.a)),s.b)}function f(t,e){const n=i.sqr(e),r=m(t);return i.eql(n,r)}if(!f(s.Gx,s.Gy))throw new Error("bad curve params: generator point");const p=i.mul(i.pow(s.a,Go),Qo),g=i.mul(i.sqr(s.b),BigInt(27));if(i.is0(i.add(p,g)))throw new Error("bad curve params: a or b");function y(t,e,n=!1){if(!i.isValid(e)||n&&i.is0(e))throw new Error(`bad point coordinate ${t}`);return e}function w(t){if(!(t instanceof M))throw new Error("ProjectivePoint expected")}function v(t){if(!c||!c.basises)throw new Error("no endo");return function(t,e,n){const[[i,r],[s,o]]=e,a=Fo(o*t,n),c=Fo(-r*t,n);let l=t-a*i-c*s,u=-a*r-c*o;const h=l<Vo,d=u<Vo;h&&(l=-l),d&&(u=-u);const m=kn(Math.ceil(An(n)/2))+Zo;if(l<Vo||l>=m||u<Vo||u>=m)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:h,k1:l,k2neg:d,k2:u}}(t,c.basises,r.ORDER)}const b=Nn((t,e)=>{const{X:n,Y:r,Z:s}=t;if(i.eql(s,i.ONE))return{x:n,y:r};const o=t.is0();null==e&&(e=o?i.ONE:i.inv(s));const a=i.mul(n,e),c=i.mul(r,e),l=i.mul(s,e);if(o)return{x:i.ZERO,y:i.ZERO};if(!i.eql(l,i.ONE))throw new Error("invZ was invalid");return{x:a,y:c}}),x=Nn(t=>{if(t.is0()){if(e.allowInfinityPoint&&!i.is0(t.Y))return;throw new Error("bad point: ZERO")}const{x:n,y:r}=t.toAffine();if(!i.isValid(n)||!i.isValid(r))throw new Error("bad point: x or y not field elements");if(!f(n,r))throw new Error("bad point: equation left != right");if(!t.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function E(t,e,n,r,s){return n=new M(i.mul(n.X,t),n.Y,n.Z),e=ni(r,e),n=ni(s,n),e.add(n)}class M{constructor(t,e,n){this.X=y("x",t),this.Y=y("y",e,!0),this.Z=y("z",n),Object.freeze(this)}static CURVE(){return s}static fromAffine(t){const{x:e,y:n}=t||{};if(!t||!i.isValid(e)||!i.isValid(n))throw new Error("invalid affine point");if(t instanceof M)throw new Error("projective point not allowed");return i.is0(e)&&i.is0(n)?M.ZERO:new M(e,n,i.ONE)}static fromBytes(t){const e=M.fromAffine(d(fn(t,void 0,"point")));return e.assertValidity(),e}static fromHex(t){return M.fromBytes(xn("pointHex",t))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(t=8,e=!0){return A.createCache(this,t),e||this.multiply(Go),this}assertValidity(){x(this)}hasEvenY(){const{y:t}=this.toAffine();if(!i.isOdd)throw new Error("Field doesn't support isOdd");return!i.isOdd(t)}equals(t){w(t);const{X:e,Y:n,Z:r}=this,{X:s,Y:o,Z:a}=t,c=i.eql(i.mul(e,a),i.mul(s,r)),l=i.eql(i.mul(n,a),i.mul(o,r));return c&&l}negate(){return new M(this.X,i.neg(this.Y),this.Z)}double(){const{a:t,b:e}=s,n=i.mul(e,Go),{X:r,Y:o,Z:a}=this;let c=i.ZERO,l=i.ZERO,u=i.ZERO,h=i.mul(r,r),d=i.mul(o,o),m=i.mul(a,a),f=i.mul(r,o);return f=i.add(f,f),u=i.mul(r,a),u=i.add(u,u),c=i.mul(t,u),l=i.mul(n,m),l=i.add(c,l),c=i.sub(d,l),l=i.add(d,l),l=i.mul(c,l),c=i.mul(f,c),u=i.mul(n,u),m=i.mul(t,m),f=i.sub(h,m),f=i.mul(t,f),f=i.add(f,u),u=i.add(h,h),h=i.add(u,h),h=i.add(h,m),h=i.mul(h,f),l=i.add(l,h),m=i.mul(o,a),m=i.add(m,m),h=i.mul(m,f),c=i.sub(c,h),u=i.mul(m,d),u=i.add(u,u),u=i.add(u,u),new M(c,l,u)}add(t){w(t);const{X:e,Y:n,Z:r}=this,{X:o,Y:a,Z:c}=t;let l=i.ZERO,u=i.ZERO,h=i.ZERO;const d=s.a,m=i.mul(s.b,Go);let f=i.mul(e,o),p=i.mul(n,a),g=i.mul(r,c),y=i.add(e,n),v=i.add(o,a);y=i.mul(y,v),v=i.add(f,p),y=i.sub(y,v),v=i.add(e,r);let b=i.add(o,c);return v=i.mul(v,b),b=i.add(f,g),v=i.sub(v,b),b=i.add(n,r),l=i.add(a,c),b=i.mul(b,l),l=i.add(p,g),b=i.sub(b,l),h=i.mul(d,v),l=i.mul(m,g),h=i.add(l,h),l=i.sub(p,h),h=i.add(p,h),u=i.mul(l,h),p=i.add(f,f),p=i.add(p,f),g=i.mul(d,g),v=i.mul(m,v),p=i.add(p,g),g=i.sub(f,g),g=i.mul(d,g),v=i.add(v,g),f=i.mul(p,v),u=i.add(u,f),f=i.mul(b,v),l=i.mul(y,l),l=i.sub(l,f),f=i.mul(y,p),h=i.mul(b,h),h=i.add(h,f),new M(l,u,h)}subtract(t){return this.add(t.negate())}is0(){return this.equals(M.ZERO)}multiply(t){const{endo:n}=e;if(!r.isValidNot0(t))throw new Error("invalid scalar: out of range");let i,s;const o=t=>A.cached(this,t,t=>ii(M,t));if(n){const{k1neg:e,k1:r,k2neg:a,k2:c}=v(t),{p:l,f:u}=o(r),{p:h,f:d}=o(c);s=u.add(d),i=E(n.beta,l,h,e,a)}else{const{p:e,f:n}=o(t);i=e,s=n}return ii(M,[i,s])[0]}multiplyUnsafe(t){const{endo:n}=e,i=this;if(!r.isValid(t))throw new Error("invalid scalar: out of range");if(t===Vo||i.is0())return M.ZERO;if(t===Zo)return i;if(A.hasCache(this))return this.multiply(t);if(n){const{k1neg:e,k1:r,k2neg:s,k2:o}=v(t),{p1:a,p2:c}=function(t,e,n,i){let r=e,s=t.ZERO,o=t.ZERO;for(;n>ti||i>ti;)n&ei&&(s=s.add(r)),i&ei&&(o=o.add(r)),r=r.double(),n>>=ei,i>>=ei;return{p1:s,p2:o}}(M,i,r,o);return E(n.beta,a,c,e,s)}return A.unsafe(i,t)}multiplyAndAddUnsafe(t,e,n){const i=this.multiplyUnsafe(e).add(t.multiplyUnsafe(n));return i.is0()?void 0:i}toAffine(t){return b(this,t)}isTorsionFree(){const{isTorsionFree:t}=e;return o===Zo||(t?t(M,this):A.unsafe(this,a).is0())}clearCofactor(){const{clearCofactor:t}=e;return o===Zo?this:t?t(M,this):this.multiplyUnsafe(o)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}toBytes(t=!0){return mn(t,"isCompressed"),this.assertValidity(),h(M,this,t)}toHex(t=!0){return we(this.toBytes(t))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(t=!0){return this.toBytes(t)}_setWindowSize(t){this.precompute(t)}static normalizeZ(t){return ii(M,t)}static msm(t,e){return di(M,r,t,e)}static fromPrivateKey(t){return M.BASE.multiply(Jo(r,t))}}M.BASE=new M(s.Gx,s.Gy,i.ONE),M.ZERO=new M(i.ZERO,i.ONE,i.ZERO),M.Fp=i,M.Fn=r;const S=r.BITS,A=new hi(M,e.endo?Math.ceil(S/2):S);return M.BASE.precompute(8),M}function ta(t){return Uint8Array.of(t?2:3)}function ea(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function na(t,e={}){const{Fn:n}=t,i=e.randomBytes||Ce,r=Object.assign(ea(t.Fp,n),{seed:Xn(n.ORDER)});function s(t){try{return!!Jo(n,t)}catch(e){return!1}}function o(t=i(r.seed)){return function(t,e,n=!1){const i=t.length,r=Jn(e),s=Xn(e);if(i<16||i<s||i>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+i);const o=Pn(n?wn(t):yn(t),e-jn)+jn;return n?bn(o,r):vn(o,r)}(fn(t,r.seed,"seed"),n.ORDER)}function a(e,i=!0){return t.BASE.multiply(Jo(n,e)).toBytes(i)}function c(e){if("bigint"==typeof e)return!1;if(e instanceof t)return!0;const{secretKey:i,publicKey:s,publicKeyUncompressed:o}=r;if(n.allowedLengths||i===s)return;const a=xn("key",e).length;return a===s||a===o}const l={isValidSecretKey:s,isValidPublicKey:function(e,n){const{publicKey:i,publicKeyUncompressed:s}=r;try{const r=e.length;return(!0!==n||r===i)&&((!1!==n||r===s)&&!!t.fromBytes(e))}catch(o){return!1}},randomSecretKey:o,isValidPrivateKey:s,randomPrivateKey:o,normPrivateKeyToScalar:t=>Jo(n,t),precompute:(e=8,n=t.BASE)=>n.precompute(e,!1)};return Object.freeze({getPublicKey:a,getSharedSecret:function(e,i,r=!0){if(!0===c(e))throw new Error("first arg must be private key");if(!1===c(i))throw new Error("second arg must be public key");const s=Jo(n,e);return t.fromHex(i).multiply(s).toBytes(r)},keygen:function(t){const e=o(t);return{secretKey:e,publicKey:a(e)}},Point:t,utils:l,lengths:r})}function ia(t,e,n={}){he(e),In(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const i=n.randomBytes||Ce,r=n.hmac||((t,...n)=>qo(e,t,Ne(...n))),{Fp:s,Fn:o}=t,{ORDER:a,BITS:c}=o,{keygen:l,getPublicKey:u,getSharedSecret:h,utils:d,lengths:m}=na(t,n),f={prehash:!1,lowS:"boolean"==typeof n.lowS&&n.lowS,format:void 0,extraEntropy:!1},p="compact";function g(t){return t>a>>Zo}function y(t,e){if(!o.isValidNot0(e))throw new Error(`invalid signature ${t}: out of range 1..Point.Fn.ORDER`);return e}class w{constructor(t,e,n){this.r=y("r",t),this.s=y("s",e),null!=n&&(this.recovery=n),Object.freeze(this)}static fromBytes(t,e=p){let n;if(function(t,e){Wo(e);const n=m.signature;fn(t,"compact"===e?n:"recovered"===e?n+1:void 0,`${e} signature`)}(t,e),"der"===e){const{r:e,s:n}=$o.toSig(fn(t));return new w(e,n)}"recovered"===e&&(n=t[0],e="compact",t=t.subarray(1));const i=o.BYTES,r=t.subarray(0,i),s=t.subarray(i,2*i);return new w(o.fromBytes(r),o.fromBytes(s),n)}static fromHex(t,e){return this.fromBytes(ke(t),e)}addRecoveryBit(t){return new w(this.r,this.s,t)}recoverPublicKey(e){const n=s.ORDER,{r:i,s:r,recovery:c}=this;if(null==c||![0,1,2,3].includes(c))throw new Error("recovery id invalid");if(a*Yo<n&&c>1)throw new Error("recovery id is ambiguous for h>1 curve");const l=2===c||3===c?i+a:i;if(!s.isValid(l))throw new Error("recovery id 2 or 3 invalid");const u=s.toBytes(l),h=t.fromBytes(Ne(ta(!(1&c)),u)),d=o.inv(l),m=b(xn("msgHash",e)),f=o.create(-m*d),p=o.create(r*d),g=t.BASE.multiplyUnsafe(f).add(h.multiplyUnsafe(p));if(g.is0())throw new Error("point at infinify");return g.assertValidity(),g}hasHighS(){return g(this.s)}toBytes(t=p){if(Wo(t),"der"===t)return ke($o.hexFromSig(this));const e=o.toBytes(this.r),n=o.toBytes(this.s);if("recovered"===t){if(null==this.recovery)throw new Error("recovery bit must be present");return Ne(Uint8Array.of(this.recovery),e,n)}return Ne(e,n)}toHex(t){return we(this.toBytes(t))}assertValidity(){}static fromCompact(t){return w.fromBytes(xn("sig",t),"compact")}static fromDER(t){return w.fromBytes(xn("sig",t),"der")}normalizeS(){return this.hasHighS()?new w(this.r,o.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return we(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return we(this.toBytes("compact"))}}const v=n.bits2int||function(t){if(t.length>8192)throw new Error("input is too large");const e=yn(t),n=8*t.length-c;return n>0?e>>BigInt(n):e},b=n.bits2int_modN||function(t){return o.create(v(t))},x=kn(c);function E(t){return Sn("num < 2^"+c,t,Vo,x),o.toBytes(t)}function M(t,n){return fn(t,void 0,"message"),n?fn(e(t),void 0,"prehashed message"):t}return Object.freeze({keygen:l,getPublicKey:u,getSharedSecret:h,utils:d,lengths:m,Point:t,sign:function(n,s,a={}){n=xn("message",n);const{seed:c,k2sig:l}=function(e,n,r){if(["recovered","canonical"].some(t=>t in r))throw new Error("sign() legacy options not supported");const{lowS:s,prehash:a,extraEntropy:c}=Ko(r,f);e=M(e,a);const l=b(e),u=Jo(o,n),h=[E(u),E(l)];if(null!=c&&!1!==c){const t=!0===c?i(m.secretKey):c;h.push(xn("extraEntropy",t))}const d=Ne(...h),p=l;return{seed:d,k2sig:function(e){const n=v(e);if(!o.isValidNot0(n))return;const i=o.inv(n),r=t.BASE.multiply(n).toAffine(),a=o.create(r.x);if(a===Vo)return;const c=o.create(i*o.create(p+a*u));if(c===Vo)return;let l=(r.x===a?0:2)|Number(r.y&Zo),h=c;return s&&g(c)&&(h=o.neg(c),l^=1),new w(a,h,l)}}}(n,s,a),u=function(t,e,n){if("number"!=typeof t||t<2)throw new Error("hashLen must be a number");if("number"!=typeof e||e<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");const i=t=>new Uint8Array(t),r=t=>Uint8Array.of(t);let s=i(t),o=i(t),a=0;const c=()=>{s.fill(1),o.fill(0),a=0},l=(...t)=>n(o,s,...t),u=(t=i(0))=>{o=l(r(0),t),s=l(),0!==t.length&&(o=l(r(1),t),s=l())},h=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let t=0;const n=[];for(;t<e;){s=l();const e=s.slice();n.push(e),t+=s.length}return Ne(...n)};return(t,e)=>{let n;for(c(),u(t);!(n=e(h()));)u();return c(),n}}(e.outputLen,o.BYTES,r);return u(c,l)},verify:function(e,n,i,r={}){const{lowS:s,prehash:a,format:c}=Ko(r,f);if(i=xn("publicKey",i),n=M(xn("message",n),a),"strict"in r)throw new Error("options.strict was renamed to lowS");const l=void 0===c?function(t){let e;const n="string"==typeof t||ce(t),i=!n&&null!==t&&"object"==typeof t&&"bigint"==typeof t.r&&"bigint"==typeof t.s;if(!n&&!i)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(i)e=new w(t.r,t.s);else if(n){try{e=w.fromBytes(xn("sig",t),"der")}catch(r){if(!(r instanceof $o.Err))throw r}if(!e)try{e=w.fromBytes(xn("sig",t),"compact")}catch(s){return!1}}return e||!1}(e):w.fromBytes(xn("sig",e),c);if(!1===l)return!1;try{const e=t.fromBytes(i);if(s&&l.hasHighS())return!1;const{r:r,s:a}=l,c=b(n),u=o.inv(a),h=o.create(c*u),d=o.create(r*u),m=t.BASE.multiplyUnsafe(h).add(e.multiplyUnsafe(d));if(m.is0())return!1;return o.create(m.x)===r}catch(dy){return!1}},recoverPublicKey:function(t,e,n={}){const{prehash:i}=Ko(n,f);return e=M(e,i),w.fromBytes(t,"recovered").recoverPublicKey(e).toBytes()},Signature:w,hash:e})}function ra(t){const{CURVE:e,curveOpts:n}=function(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp;let i=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(t=>Math.ceil(t/2)))):void 0;return{CURVE:e,curveOpts:{Fp:n,Fn:Qn(e.n,{BITS:t.nBitLength,allowedLengths:i,modFromBytes:t.wrapPrivateKey}),allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes}}}(t),i={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,hash:t.hash,ecdsaOpts:i}}function sa(t){const{CURVE:e,curveOpts:n,hash:i,ecdsaOpts:r}=ra(t);return function(t,e){const n=e.Point;return Object.assign({},e,{ProjectivePoint:n,CURVE:Object.assign({},t,Gn(n.Fn.ORDER,n.Fn.BITS))})}(t,ia(Xo(e,n),i,r))}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const oa={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},aa={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},ca=BigInt(2);const la=Qn(oa.p,{sqrt:function(t){const e=oa.p,n=BigInt(3),i=BigInt(6),r=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=t*t*t%e,u=l*l*t%e,h=Un(u,n,e)*u%e,d=Un(h,n,e)*u%e,m=Un(d,ca,e)*l%e,f=Un(m,r,e)*m%e,p=Un(f,s,e)*f%e,g=Un(p,a,e)*p%e,y=Un(g,c,e)*g%e,w=Un(y,a,e)*p%e,v=Un(w,n,e)*u%e,b=Un(v,o,e)*f%e,x=Un(b,i,e)*l%e,E=Un(x,ca,e);if(!la.eql(la.sqr(E),t))throw new Error("Cannot find square root");return E}}),ua=function(t,e){const n=e=>sa({...t,hash:e});return{...n(e),create:n}}({...oa,Fp:la,lowS:!0,endo:aa},ln);function ha(t){try{return Bi.ExtendedPoint.fromHex(t),!0}catch{return!1}}Bi.utils.randomPrivateKey,Bi.getPublicKey;const da=(t,e)=>Bi.sign(t,e.slice(0,32)),ma=Bi.verify,fa=t=>Gt.Buffer.isBuffer(t)?t:t instanceof Uint8Array?Gt.Buffer.from(t.buffer,t.byteOffset,t.byteLength):Gt.Buffer.from(t);class pa{constructor(t){Object.assign(this,t)}encode(){return Gt.Buffer.from(Er(ga,this))}static decode(t){return Ar(ga,this,t)}static decodeUnchecked(t){return lr(ga,this,t)}}const ga=new Map;var ya;const wa=32;let va=1;class ba extends pa{constructor(t){if(super({}),this._bn=void 0,function(t){return void 0!==t._bn}(t))this._bn=t._bn;else{if("string"==typeof t){const e=qi.decode(t);if(e.length!=wa)throw new Error("Invalid public key input");this._bn=new Oi(e)}else this._bn=new Oi(t);if(this._bn.byteLength()>wa)throw new Error("Invalid public key input")}}static unique(){const t=new ba(va);return va+=1,new ba(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return qi.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(Gt.Buffer);if(t.length===wa)return t;const e=Gt.Buffer.alloc(32);return t.copy(e,32-t.length),e}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,e,n){const i=Gt.Buffer.concat([t.toBuffer(),Gt.Buffer.from(e),n.toBuffer()]),r=Fi(i);return new ba(r)}static createProgramAddressSync(t,e){let n=Gt.Buffer.alloc(0);t.forEach(function(t){if(t.length>32)throw new TypeError("Max seed length exceeded");n=Gt.Buffer.concat([n,fa(t)])}),n=Gt.Buffer.concat([n,e.toBuffer(),Gt.Buffer.from("ProgramDerivedAddress")]);const i=Fi(n);if(ha(i))throw new Error("Invalid seeds, address must fall off the curve");return new ba(i)}static async createProgramAddress(t,e){return this.createProgramAddressSync(t,e)}static findProgramAddressSync(t,e){let n,i=255;for(;0!=i;){try{const r=t.concat(Gt.Buffer.from([i]));n=this.createProgramAddressSync(r,e)}catch(r){if(r instanceof TypeError)throw r;i--;continue}return[n,i]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,e){return this.findProgramAddressSync(t,e)}static isOnCurve(t){return ha(new ba(t).toBytes())}}ya=ba,ba.default=new ya("11111111111111111111111111111111"),ga.set(ba,{kind:"struct",fields:[["_bn","u256"]]}),new ba("BPFLoader1111111111111111111111111111111111");const xa=1232;class Ea extends Error{constructor(t){super(`Signature ${t} has expired: block height exceeded.`),this.signature=void 0,this.signature=t}}Object.defineProperty(Ea.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class Ma extends Error{constructor(t,e){super(`Transaction was not confirmed in ${e.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=t}}Object.defineProperty(Ma.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Sa extends Error{constructor(t){super(`Signature ${t} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=t}}Object.defineProperty(Sa.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class Aa{constructor(t,e){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=e}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const e of this.keySegments()){if(t<e.length)return e[t];t-=e.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const e=new Map;this.keySegments().flat().forEach((t,n)=>{e.set(t.toBase58(),n)});const n=t=>{const n=e.get(t.toBase58());if(void 0===n)throw new Error("Encountered an unknown instruction account key during compilation");return n};return t.map(t=>({programIdIndex:n(t.programId),accountKeyIndexes:t.keys.map(t=>n(t.pubkey)),data:t.data}))}}const ka=(t="publicKey")=>ws(32,t),Ia=(t="signature")=>ws(64,t),Na=(t="string")=>{const e=gs([ms("length"),ms("lengthPadding"),ws(us(ms(),-8),"chars")],t),n=e.decode.bind(e),i=e.encode.bind(e),r=e;return r.decode=(t,e)=>n(t,e).chars.toString(),r.encode=(t,e,n)=>{const r={chars:Gt.Buffer.from(t,"utf8")};return i(r,e,n)},r.alloc=t=>ms().span+ms().span+Gt.Buffer.from(t,"utf8").length,r};function La(t){let e=0,n=0;for(;;){let i=t.shift();if(e|=(127&i)<<7*n,n+=1,!(128&i))break}return e}function ja(t,e){let n=e;for(;;){let e=127&n;if(n>>=7,0==n){t.push(e);break}e|=128,t.push(e)}}function Ca(t,e){if(!t)throw new Error(e||"Assertion failed")}class Ba{constructor(t,e){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=e}static compile(t,e){const n=new Map,i=t=>{const e=t.toBase58();let i=n.get(e);return void 0===i&&(i={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(e,i)),i},r=i(e);r.isSigner=!0,r.isWritable=!0;for(const s of t){i(s.programId).isInvoked=!0;for(const t of s.keys){const e=i(t.pubkey);e.isSigner||(e.isSigner=t.isSigner),e.isWritable||(e.isWritable=t.isWritable)}}return new Ba(e,n)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];Ca(t.length<=256,"Max static account keys length exceeded");const e=t.filter(([,t])=>t.isSigner&&t.isWritable),n=t.filter(([,t])=>t.isSigner&&!t.isWritable),i=t.filter(([,t])=>!t.isSigner&&t.isWritable),r=t.filter(([,t])=>!t.isSigner&&!t.isWritable),s={numRequiredSignatures:e.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:r.length};{Ca(e.length>0,"Expected at least one writable signer key");const[t]=e[0];Ca(t===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}return[s,[...e.map(([t])=>new ba(t)),...n.map(([t])=>new ba(t)),...i.map(([t])=>new ba(t)),...r.map(([t])=>new ba(t))]]}extractTableLookup(t){const[e,n]=this.drainKeysFoundInLookupTable(t.state.addresses,t=>!t.isSigner&&!t.isInvoked&&t.isWritable),[i,r]=this.drainKeysFoundInLookupTable(t.state.addresses,t=>!t.isSigner&&!t.isInvoked&&!t.isWritable);if(0!==e.length||0!==i.length)return[{accountKey:t.key,writableIndexes:e,readonlyIndexes:i},{writable:n,readonly:r}]}drainKeysFoundInLookupTable(t,e){const n=new Array,i=new Array;for(const[r,s]of this.keyMetaMap.entries())if(e(s)){const e=new ba(r),s=t.findIndex(t=>t.equals(e));s>=0&&(Ca(s<256,"Max lookup table index exceeded"),n.push(s),i.push(e),this.keyMetaMap.delete(r))}return[n,i]}}const _a="Reached end of buffer unexpectedly";function Ta(t){if(0===t.length)throw new Error(_a);return t.shift()}function Ra(t,...e){const[n]=e;if(2===e.length?n+(e[1]??0)>t.length:n>=t.length)throw new Error(_a);return t.splice(...e)}class Oa{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(t=>new ba(t)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:qi.decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Aa(this.staticAccountKeys)}static compile(t){const e=Ba.compile(t.instructions,t.payerKey),[n,i]=e.getMessageComponents(),r=new Aa(i).compileInstructions(t.instructions).map(t=>({programIdIndex:t.programIdIndex,accounts:t.accountKeyIndexes,data:qi.encode(t.data)}));return new Oa({header:n,accountKeys:i,recentBlockhash:t.recentBlockhash,instructions:r})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){return t-e<this.accountKeys.length-e-this.header.numReadonlyUnsignedAccounts}return t<e-this.header.numReadonlySignedAccounts}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,e)=>!this.isProgramId(e))}serialize(){const t=this.accountKeys.length;let e=[];ja(e,t);const n=this.instructions.map(t=>{const{accounts:e,programIdIndex:n}=t,i=Array.from(qi.decode(t.data));let r=[];ja(r,e.length);let s=[];return ja(s,i.length),{programIdIndex:n,keyIndicesCount:Gt.Buffer.from(r),keyIndices:e,dataLength:Gt.Buffer.from(s),data:i}});let i=[];ja(i,n.length);let r=Gt.Buffer.alloc(xa);Gt.Buffer.from(i).copy(r);let s=i.length;n.forEach(t=>{const e=gs([hs("programIdIndex"),ws(t.keyIndicesCount.length,"keyIndicesCount"),ys(hs("keyIndex"),t.keyIndices.length,"keyIndices"),ws(t.dataLength.length,"dataLength"),ys(hs("userdatum"),t.data.length,"data")]).encode(t,r,s);s+=e}),r=r.slice(0,s);const o=gs([ws(1,"numRequiredSignatures"),ws(1,"numReadonlySignedAccounts"),ws(1,"numReadonlyUnsignedAccounts"),ws(e.length,"keyCount"),ys(ka("key"),t,"keys"),ka("recentBlockhash")]),a={numRequiredSignatures:Gt.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Gt.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Gt.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Gt.Buffer.from(e),keys:this.accountKeys.map(t=>fa(t.toBytes())),recentBlockhash:qi.decode(this.recentBlockhash)};let c=Gt.Buffer.alloc(2048);const l=o.encode(a,c);return r.copy(c,l),c.slice(0,l+r.length)}static from(t){let e=[...t];const n=Ta(e);if(n!==(127&n))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=Ta(e),r=Ta(e),s=La(e);let o=[];for(let h=0;h<s;h++){const t=Ra(e,0,wa);o.push(new ba(Gt.Buffer.from(t)))}const a=Ra(e,0,wa),c=La(e);let l=[];for(let h=0;h<c;h++){const t=Ta(e),n=Ra(e,0,La(e)),i=Ra(e,0,La(e)),r=qi.encode(Gt.Buffer.from(i));l.push({programIdIndex:t,accounts:n,data:r})}const u={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:r},recentBlockhash:qi.encode(Gt.Buffer.from(a)),accountKeys:o,instructions:l};return new Oa(u)}}class Da{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(const e of this.addressTableLookups)t+=e.readonlyIndexes.length+e.writableIndexes.length;return t}getAccountKeys(t){let e;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");e=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)e=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Aa(this.staticAccountKeys,e)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(t>=n){return t-n<this.addressTableLookups.reduce((t,e)=>t+e.writableIndexes.length,0)}if(t>=this.header.numRequiredSignatures){return t-e<n-e-this.header.numReadonlyUnsignedAccounts}return t<e-this.header.numReadonlySignedAccounts}resolveAddressTableLookups(t){const e={writable:[],readonly:[]};for(const n of this.addressTableLookups){const i=t.find(t=>t.key.equals(n.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const t of n.writableIndexes){if(!(t<i.state.addresses.length))throw new Error(`Failed to find address for index ${t} in address lookup table ${n.accountKey.toBase58()}`);e.writable.push(i.state.addresses[t])}for(const t of n.readonlyIndexes){if(!(t<i.state.addresses.length))throw new Error(`Failed to find address for index ${t} in address lookup table ${n.accountKey.toBase58()}`);e.readonly.push(i.state.addresses[t])}}return e}static compile(t){const e=Ba.compile(t.instructions,t.payerKey),n=new Array,i={writable:new Array,readonly:new Array},r=t.addressLookupTableAccounts||[];for(const c of r){const t=e.extractTableLookup(c);if(void 0!==t){const[e,{writable:r,readonly:s}]=t;n.push(e),i.writable.push(...r),i.readonly.push(...s)}}const[s,o]=e.getMessageComponents(),a=new Aa(o,i).compileInstructions(t.instructions);return new Da({header:s,staticAccountKeys:o,recentBlockhash:t.recentBlockhash,compiledInstructions:a,addressTableLookups:n})}serialize(){const t=Array();ja(t,this.staticAccountKeys.length);const e=this.serializeInstructions(),n=Array();ja(n,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),r=Array();ja(r,this.addressTableLookups.length);const s=gs([hs("prefix"),gs([hs("numRequiredSignatures"),hs("numReadonlySignedAccounts"),hs("numReadonlyUnsignedAccounts")],"header"),ws(t.length,"staticAccountKeysLength"),ys(ka(),this.staticAccountKeys.length,"staticAccountKeys"),ka("recentBlockhash"),ws(n.length,"instructionsLength"),ws(e.length,"serializedInstructions"),ws(r.length,"addressTableLookupsLength"),ws(i.length,"serializedAddressTableLookups")]),o=new Uint8Array(xa),a=s.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map(t=>t.toBytes()),recentBlockhash:qi.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:e,addressTableLookupsLength:new Uint8Array(r),serializedAddressTableLookups:i},o);return o.slice(0,a)}serializeInstructions(){let t=0;const e=new Uint8Array(xa);for(const n of this.compiledInstructions){const i=Array();ja(i,n.accountKeyIndexes.length);const r=Array();ja(r,n.data.length);t+=gs([hs("programIdIndex"),ws(i.length,"encodedAccountKeyIndexesLength"),ys(hs(),n.accountKeyIndexes.length,"accountKeyIndexes"),ws(r.length,"encodedDataLength"),ws(n.data.length,"data")]).encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(r),data:n.data},e,t)}return e.slice(0,t)}serializeAddressTableLookups(){let t=0;const e=new Uint8Array(xa);for(const n of this.addressTableLookups){const i=Array();ja(i,n.writableIndexes.length);const r=Array();ja(r,n.readonlyIndexes.length);t+=gs([ka("accountKey"),ws(i.length,"encodedWritableIndexesLength"),ys(hs(),n.writableIndexes.length,"writableIndexes"),ws(r.length,"encodedReadonlyIndexesLength"),ys(hs(),n.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(r),readonlyIndexes:n.readonlyIndexes},e,t)}return e.slice(0,t)}static deserialize(t){let e=[...t];const n=Ta(e),i=127&n;Ca(n!==i,"Expected versioned message but received legacy message");Ca(0===i,`Expected versioned message with version 0 but found version ${i}`);const r={numRequiredSignatures:Ta(e),numReadonlySignedAccounts:Ta(e),numReadonlyUnsignedAccounts:Ta(e)},s=[],o=La(e);for(let d=0;d<o;d++)s.push(new ba(Ra(e,0,wa)));const a=qi.encode(Ra(e,0,wa)),c=La(e),l=[];for(let d=0;d<c;d++){const t=Ta(e),n=Ra(e,0,La(e)),i=La(e),r=new Uint8Array(Ra(e,0,i));l.push({programIdIndex:t,accountKeyIndexes:n,data:r})}const u=La(e),h=[];for(let d=0;d<u;d++){const t=new ba(Ra(e,0,wa)),n=Ra(e,0,La(e)),i=Ra(e,0,La(e));h.push({accountKey:t,writableIndexes:n,readonlyIndexes:i})}return new Da({header:r,staticAccountKeys:s,recentBlockhash:a,compiledInstructions:l,addressTableLookups:h})}}const za={deserializeMessageVersion(t){const e=t[0],n=127&e;return n===e?"legacy":n},deserialize:t=>{const e=za.deserializeMessageVersion(t);if("legacy"===e)return Oa.from(t);if(0===e)return Da.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let Pa=function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t}({});const Ua=Gt.Buffer.alloc(64).fill(0);class qa{constructor(t){this.keys=void 0,this.programId=void 0,this.data=Gt.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:e,isWritable:n})=>({pubkey:t.toJSON(),isSigner:e,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}}class Fa{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:e,nonceInfo:n}=t;this.minNonceContextSlot=e,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:e,lastValidBlockHeight:n}=t;this.recentBlockhash=e,this.lastValidBlockHeight=n}else{const{recentBlockhash:e,nonceInfo:n}=t;n&&(this.nonceInfo=n),this.recentBlockhash=e}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(0===t.length)throw new Error("No instructions");return t.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new qa(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,e,n;if(this.nonceInfo?(t=this.nonceInfo.nonce,e=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction,...this.instructions]:this.instructions):(t=this.recentBlockhash,e=this.instructions),!t)throw new Error("Transaction recentBlockhash required");if(e.length,this.feePayer)n=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");n=this.signatures[0].publicKey}for(let f=0;f<e.length;f++)if(void 0===e[f].programId)throw new Error(`Transaction instruction index ${f} has undefined program id`);const i=[],r=[];e.forEach(t=>{t.keys.forEach(t=>{r.push({...t})});const e=t.programId.toString();i.includes(e)||i.push(e)}),i.forEach(t=>{r.push({pubkey:new ba(t),isSigner:!1,isWritable:!1})});const s=[];r.forEach(t=>{const e=t.pubkey.toString(),n=s.findIndex(t=>t.pubkey.toString()===e);n>-1?(s[n].isWritable=s[n].isWritable||t.isWritable,s[n].isSigner=s[n].isSigner||t.isSigner):s.push(t)}),s.sort(function(t,e){if(t.isSigner!==e.isSigner)return t.isSigner?-1:1;if(t.isWritable!==e.isWritable)return t.isWritable?-1:1;return t.pubkey.toBase58().localeCompare(e.pubkey.toBase58(),"en",{localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"})});const o=s.findIndex(t=>t.pubkey.equals(n));if(o>-1){const[t]=s.splice(o,1);t.isSigner=!0,t.isWritable=!0,s.unshift(t)}else s.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const f of this.signatures){const t=s.findIndex(t=>t.pubkey.equals(f.publicKey));if(!(t>-1))throw new Error(`unknown signer: ${f.publicKey.toString()}`);s[t].isSigner||(s[t].isSigner=!0)}let a=0,c=0,l=0;const u=[],h=[];s.forEach(({pubkey:t,isSigner:e,isWritable:n})=>{e?(u.push(t.toString()),a+=1,n||(c+=1)):(h.push(t.toString()),n||(l+=1))});const d=u.concat(h),m=e.map(t=>{const{data:e,programId:n}=t;return{programIdIndex:d.indexOf(n.toString()),accounts:t.keys.map(t=>d.indexOf(t.pubkey.toString())),data:qi.encode(e)}});return m.forEach(t=>{Ca(t.programIdIndex>=0),t.accounts.forEach(t=>Ca(t>=0))}),new Oa({header:{numRequiredSignatures:a,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:l},accountKeys:d,recentBlockhash:t,instructions:m})}_compile(){const t=this.compileMessage(),e=t.accountKeys.slice(0,t.header.numRequiredSignatures);if(this.signatures.length===e.length){if(this.signatures.every((t,n)=>e[n].equals(t.publicKey)))return t}return this.signatures=e.map(t=>({signature:null,publicKey:t})),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(0===t.length)throw new Error("No signers");const e=new Set;this.signatures=t.filter(t=>{const n=t.toString();return!e.has(n)&&(e.add(n),!0)}).map(t=>({signature:null,publicKey:t}))}sign(...t){if(0===t.length)throw new Error("No signers");const e=new Set,n=[];for(const r of t){const t=r.publicKey.toString();e.has(t)||(e.add(t),n.push(r))}this.signatures=n.map(t=>({signature:null,publicKey:t.publicKey}));const i=this._compile();this._partialSign(i,...n)}partialSign(...t){if(0===t.length)throw new Error("No signers");const e=new Set,n=[];for(const r of t){const t=r.publicKey.toString();e.has(t)||(e.add(t),n.push(r))}const i=this._compile();this._partialSign(i,...n)}_partialSign(t,...e){const n=t.serialize();e.forEach(t=>{const e=da(n,t.secretKey);this._addSignature(t.publicKey,fa(e))})}addSignature(t,e){this._compile(),this._addSignature(t,e)}_addSignature(t,e){Ca(64===e.length);const n=this.signatures.findIndex(e=>t.equals(e.publicKey));if(n<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[n].signature=Gt.Buffer.from(e)}verifySignatures(t=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),t)}_getMessageSignednessErrors(t,e){const n={};for(const{signature:i,publicKey:r}of this.signatures)null===i?e&&(n.missing||(n.missing=[])).push(r):ma(i,t,r.toBytes())||(n.invalid||(n.invalid=[])).push(r);return n.invalid||n.missing?n:void 0}serialize(t){const{requireAllSignatures:e,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),i=this.serializeMessage();if(n){const t=this._getMessageSignednessErrors(i,e);if(t){let e="Signature verification failed.";throw t.invalid&&(e+=`\nInvalid signature for public key${1===t.invalid.length?"":"(s)"} [\`${t.invalid.map(t=>t.toBase58()).join("`, `")}\`].`),t.missing&&(e+=`\nMissing signature for public key${1===t.missing.length?"":"(s)"} [\`${t.missing.map(t=>t.toBase58()).join("`, `")}\`].`),new Error(e)}}return this._serialize(i)}_serialize(t){const{signatures:e}=this,n=[];ja(n,e.length);const i=n.length+64*e.length+t.length,r=Gt.Buffer.alloc(i);return Ca(e.length<256),Gt.Buffer.from(n).copy(r,0),e.forEach(({signature:t},e)=>{null!==t&&(Ca(64===t.length,"signature has invalid length"),Gt.Buffer.from(t).copy(r,n.length+64*e))}),t.copy(r,n.length+64*e.length),Ca(r.length<=xa,`Transaction too large: ${r.length} > 1232`),r}get keys(){return Ca(1===this.instructions.length),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return Ca(1===this.instructions.length),this.instructions[0].programId}get data(){return Ca(1===this.instructions.length),this.instructions[0].data}static from(t){let e=[...t];const n=La(e);let i=[];for(let r=0;r<n;r++){const t=Ra(e,0,64);i.push(qi.encode(Gt.Buffer.from(t)))}return Fa.populate(Oa.from(e),i)}static populate(t,e=[]){const n=new Fa;return n.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(n.feePayer=t.accountKeys[0]),e.forEach((e,i)=>{const r={signature:e==qi.encode(Ua)?null:qi.decode(e),publicKey:t.accountKeys[i]};n.signatures.push(r)}),t.instructions.forEach(e=>{const i=e.accounts.map(e=>{const i=t.accountKeys[e];return{pubkey:i,isSigner:n.signatures.some(t=>t.publicKey.toString()===i.toString())||t.isAccountSigner(e),isWritable:t.isAccountWritable(e)}});n.instructions.push(new qa({keys:i,programId:t.accountKeys[e.programIdIndex],data:qi.decode(e.data)}))}),n._message=t,n._json=n.toJSON(),n}}class Wa{get version(){return this.message.version}constructor(t,e){if(this.signatures=void 0,this.message=void 0,void 0!==e)Ca(e.length===t.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=e;else{const e=[];for(let n=0;n<t.header.numRequiredSignatures;n++)e.push(new Uint8Array(64));this.signatures=e}this.message=t}serialize(){const t=this.message.serialize(),e=Array();ja(e,this.signatures.length);const n=gs([ws(e.length,"encodedSignaturesLength"),ys(Ia(),this.signatures.length,"signatures"),ws(t.length,"serializedMessage")]),i=new Uint8Array(2048),r=n.encode({encodedSignaturesLength:new Uint8Array(e),signatures:this.signatures,serializedMessage:t},i);return i.slice(0,r)}static deserialize(t){let e=[...t];const n=[],i=La(e);for(let s=0;s<i;s++)n.push(new Uint8Array(Ra(e,0,64)));const r=za.deserialize(new Uint8Array(e));return new Wa(r,n)}sign(t){const e=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of t){const t=n.findIndex(t=>t.equals(i.publicKey));Ca(t>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[t]=da(e,i.secretKey)}}addSignature(t,e){Ca(64===e.byteLength,"Signature must be 64 bytes long");const n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(e=>e.equals(t));Ca(n>=0,`Can not add signature; \`${t.toBase58()}\` is not required to sign this transaction`),this.signatures[n]=e}}new ba("SysvarC1ock11111111111111111111111111111111"),new ba("SysvarEpochSchedu1e111111111111111111111111"),new ba("Sysvar1nstructions1111111111111111111111111"),new ba("SysvarRecentB1ockHashes11111111111111111111"),new ba("SysvarRent111111111111111111111111111111111"),new ba("SysvarRewards111111111111111111111111111111"),new ba("SysvarS1otHashes111111111111111111111111111"),new ba("SysvarS1otHistory11111111111111111111111111"),new ba("SysvarStakeHistory1111111111111111111111111");class Ka extends Error{constructor({action:t,signature:e,transactionMessage:n,logs:i}){const r=i?`Logs: \n${JSON.stringify(i.slice(-10),null,2)}. `:"",s="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let o;switch(t){case"send":o=`Transaction ${e} resulted in an error. \n${n}. `+r+s;break;case"simulate":o=`Simulation failed. \nMessage: ${n}. \n`+r+s;break;default:o=`Unknown action '${(t=>t)(t)}'`}super(o),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=e,this.transactionMessage=n,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const t=this.transactionLogs;if(null==t||"object"!=typeof t||!("then"in t))return t}async getLogs(t){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((e,n)=>{t.getTransaction(this.signature).then(t=>{if(t&&t.meta&&t.meta.logMessages){const n=t.meta.logMessages;this.transactionLogs=n,e(n)}else n(new Error("Log messages not found"))}).catch(n)})),await this.transactionLogs}}class Ha extends Error{constructor({code:t,message:e,data:n},i){super(null!=i?`${i}: ${e}`:e),this.code=void 0,this.data=void 0,this.code=t,this.data=n,this.name="SolanaJSONRPCError"}}function $a(t){return new Promise(e=>setTimeout(e,t))}const Va=fs("lamportsPerSignature"),Za=gs([ms("version"),ms("state"),ka("authorizedPubkey"),ka("nonce"),gs([Va],"feeCalculator")]);Za.span;class Ya{constructor(t){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=t.authorizedPubkey,this.nonce=t.nonce,this.feeCalculator=t.feeCalculator}static fromAccountData(t){const e=Za.decode(fa(t),0);return new Ya({authorizedPubkey:new ba(e.authorizedPubkey),nonce:new ba(e.nonce).toString(),feeCalculator:e.feeCalculator})}}function Ga(t){const e=ws(8,t),n=e.decode.bind(e),i=e.encode.bind(e),r=e,s=Is();return r.decode=(t,e)=>{const i=n(t,e);return s.decode(i)},r.encode=(t,e,n)=>{const r=s.encode(t);return i(r,e,n)},r}function Qa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ja,Xa;function tc(){if(Xa)return Ja;Xa=1;var t=Object.prototype.toString,e=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};function n(i,r){var s,o,a,c,l,u,h;if(!0===i)return"true";if(!1===i)return"false";switch(typeof i){case"object":if(null===i)return null;if(i.toJSON&&"function"==typeof i.toJSON)return n(i.toJSON(),r);if("[object Array]"===(h=t.call(i))){for(a="[",o=i.length-1,s=0;s<o;s++)a+=n(i[s],!0)+",";return o>-1&&(a+=n(i[s],!0)),a+"]"}if("[object Object]"===h){for(o=(c=e(i).sort()).length,a="",s=0;s<o;)void 0!==(u=n(i[l=c[s]],!1))&&(a&&(a+=","),a+=JSON.stringify(l)+":"+u),s++;return"{"+a+"}"}return JSON.stringify(i);case"function":case"undefined":return r?null:void 0;case"string":return JSON.stringify(i);default:return isFinite(i)?i:null}}return Ja=function(t){var e=n(t,!1);if(void 0!==e)return""+e}}Object.freeze({Create:{index:0,layout:gs([ms("instruction"),ps("lamports"),ps("space"),ka("programId")])},Assign:{index:1,layout:gs([ms("instruction"),ka("programId")])},Transfer:{index:2,layout:gs([ms("instruction"),Ga("lamports")])},CreateWithSeed:{index:3,layout:gs([ms("instruction"),ka("base"),Na("seed"),ps("lamports"),ps("space"),ka("programId")])},AdvanceNonceAccount:{index:4,layout:gs([ms("instruction")])},WithdrawNonceAccount:{index:5,layout:gs([ms("instruction"),ps("lamports")])},InitializeNonceAccount:{index:6,layout:gs([ms("instruction"),ka("authorized")])},AuthorizeNonceAccount:{index:7,layout:gs([ms("instruction"),ka("authorized")])},Allocate:{index:8,layout:gs([ms("instruction"),ps("space")])},AllocateWithSeed:{index:9,layout:gs([ms("instruction"),ka("base"),Na("seed"),ps("space"),ka("programId")])},AssignWithSeed:{index:10,layout:gs([ms("instruction"),ka("base"),Na("seed"),ka("programId")])},TransferWithSeed:{index:11,layout:gs([ms("instruction"),Ga("lamports"),Na("seed"),ka("programId")])},UpgradeNonceAccount:{index:12,layout:gs([ms("instruction")])}}),new ba("11111111111111111111111111111111"),new ba("BPFLoader2111111111111111111111111111111111");var ec=Qa(tc());function nc(t){let e=0;for(;t>1;)t/=2,e++;return e}class ic{constructor(t,e,n,i,r){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=t,this.leaderScheduleSlotOffset=e,this.warmup=n,this.firstNormalEpoch=i,this.firstNormalSlot=r}getEpoch(t){return this.getEpochAndSlotIndex(t)[0]}getEpochAndSlotIndex(t){if(t<this.firstNormalSlot){const n=nc(0===(e=t+32+1)?1:(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,1+(e|=e>>32)))-nc(32)-1;return[n,t-(this.getSlotsInEpoch(n)-32)]}{const e=t-this.firstNormalSlot,n=Math.floor(e/this.slotsPerEpoch);return[this.firstNormalEpoch+n,e%this.slotsPerEpoch]}var e}getFirstSlotInEpoch(t){return t<=this.firstNormalEpoch?32*(Math.pow(2,t)-1):(t-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(t){return this.getFirstSlotInEpoch(t)+this.getSlotsInEpoch(t)-1}getSlotsInEpoch(t){return t<this.firstNormalEpoch?Math.pow(2,t+nc(32)):this.slotsPerEpoch}}var rc=globalThis.fetch;class sc extends Po{constructor(t,e,n){super(t=>{const n=function(t,e){return new Do(t,e)}(t,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...e});return this.underlyingSocket="socket"in n?n.socket:n,n},t,e,n),this.underlyingSocket=void 0}call(...t){const e=this.underlyingSocket?.readyState;return 1===e?super.call(...t):Promise.reject(new Error("Tried to call a JSON-RPC method `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}notify(...t){const e=this.underlyingSocket?.readyState;return 1===e?super.notify(...t):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}}class oc{constructor(t){this.key=void 0,this.state=void 0,this.key=t.key,this.state=t.state}isActive(){const t=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===t}static deserialize(t){const e=function(t,e){let n;try{n=t.layout.decode(e)}catch(i){throw new Error("invalid instruction; "+i)}if(n.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${t.index}`);return n}(ac,t),n=t.length-56;Ca(n>=0,"lookup table is invalid"),Ca(n%32==0,"lookup table is invalid");const i=n/32,{addresses:r}=gs([ys(ka(),i,"addresses")]).decode(t.slice(56));return{deactivationSlot:e.deactivationSlot,lastExtendedSlot:e.lastExtendedSlot,lastExtendedSlotStartIndex:e.lastExtendedStartIndex,authority:0!==e.authority.length?new ba(e.authority[0]):void 0,addresses:r.map(t=>new ba(t))}}}const ac={index:1,layout:gs([ms("typeIndex"),Ga("deactivationSlot"),fs("lastExtendedSlot"),hs("lastExtendedStartIndex"),hs(),ys(ka(),us(hs(),-1),"authority")])},cc=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;const lc=Xs(Fs(ba),Zs(),t=>new ba(t)),uc=Ys([Zs(),Ws("base64")]),hc=Xs(Fs(Gt.Buffer),uc,t=>Gt.Buffer.from(t[0],"base64"));function dc(t){let e,n;if("string"==typeof t)e=t;else if(t){const{commitment:i,...r}=t;e=i,n=r}return{commitment:e,config:n}}function mc(t){return t.map(t=>"memcmp"in t?{...t,memcmp:{...t.memcmp,encoding:t.memcmp.encoding??"base58"}}:t)}function fc(t){return Qs([Gs({jsonrpc:Ws("2.0"),id:Zs(),result:t}),Gs({jsonrpc:Ws("2.0"),id:Zs(),error:Gs({code:Js(),message:Zs(),data:$s(Ps("any",()=>!0))})})])}const pc=fc(Js());function gc(t){return Xs(fc(t),pc,e=>"error"in e?e:{...e,result:Os(e.result,t)})}function yc(t){return gc(Gs({context:Gs({slot:Hs()}),value:t}))}function wc(t){return Gs({context:Gs({slot:Hs()}),value:t})}function vc(t,e){return 0===t?new Da({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new ba(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:qi.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new Oa(e)}const bc=Gs({foundation:Hs(),foundationTerm:Hs(),initial:Hs(),taper:Hs(),terminal:Hs()}),xc=gc(Us(Ks(Gs({epoch:Hs(),effectiveSlot:Hs(),amount:Hs(),postBalance:Hs(),commission:$s(Ks(Hs()))})))),Ec=Us(Gs({slot:Hs(),prioritizationFee:Hs()})),Mc=Gs({total:Hs(),validator:Hs(),foundation:Hs(),epoch:Hs()}),Sc=Gs({epoch:Hs(),slotIndex:Hs(),slotsInEpoch:Hs(),absoluteSlot:Hs(),blockHeight:$s(Hs()),transactionCount:$s(Hs())}),Ac=Gs({slotsPerEpoch:Hs(),leaderScheduleSlotOffset:Hs(),warmup:qs(),firstNormalEpoch:Hs(),firstNormalSlot:Hs()}),kc=Vs(Zs(),Us(Hs())),Ic=Ks(Qs([Gs({}),Zs()])),Nc=Gs({err:Ic}),Lc=Ws("receivedSignature"),jc=Gs({"solana-core":Zs(),"feature-set":$s(Hs())}),Cc=Gs({program:Zs(),programId:lc,parsed:Js()}),Bc=Gs({programId:lc,accounts:Us(lc),data:Zs()}),_c=yc(Gs({err:Ks(Qs([Gs({}),Zs()])),logs:Ks(Us(Zs())),accounts:$s(Ks(Us(Ks(Gs({executable:qs(),owner:Zs(),lamports:Hs(),data:Us(Zs()),rentEpoch:$s(Hs())}))))),unitsConsumed:$s(Hs()),returnData:$s(Ks(Gs({programId:Zs(),data:Ys([Zs(),Ws("base64")])}))),innerInstructions:$s(Ks(Us(Gs({index:Hs(),instructions:Us(Qs([Cc,Bc]))}))))})),Tc=yc(Gs({byIdentity:Vs(Zs(),Us(Hs())),range:Gs({firstSlot:Hs(),lastSlot:Hs()})}));const Rc=gc(bc),Oc=gc(Mc),Dc=gc(Ec),zc=gc(Sc),Pc=gc(Ac),Uc=gc(kc),qc=gc(Hs()),Fc=yc(Gs({total:Hs(),circulating:Hs(),nonCirculating:Hs(),nonCirculatingAccounts:Us(lc)})),Wc=Gs({amount:Zs(),uiAmount:Ks(Hs()),decimals:Hs(),uiAmountString:$s(Zs())}),Kc=yc(Us(Gs({address:lc,amount:Zs(),uiAmount:Ks(Hs()),decimals:Hs(),uiAmountString:$s(Zs())}))),Hc=yc(Us(Gs({pubkey:lc,account:Gs({executable:qs(),owner:lc,lamports:Hs(),data:hc,rentEpoch:Hs()})}))),$c=Gs({program:Zs(),parsed:Js(),space:Hs()}),Vc=yc(Us(Gs({pubkey:lc,account:Gs({executable:qs(),owner:lc,lamports:Hs(),data:$c,rentEpoch:Hs()})}))),Zc=yc(Us(Gs({lamports:Hs(),address:lc}))),Yc=Gs({executable:qs(),owner:lc,lamports:Hs(),data:hc,rentEpoch:Hs()}),Gc=Gs({pubkey:lc,account:Yc}),Qc=Xs(Qs([Fs(Gt.Buffer),$c]),Qs([uc,$c]),t=>Array.isArray(t)?Os(t,hc):t),Jc=Gs({executable:qs(),owner:lc,lamports:Hs(),data:Qc,rentEpoch:Hs()}),Xc=Gs({pubkey:lc,account:Jc}),tl=Gs({state:Qs([Ws("active"),Ws("inactive"),Ws("activating"),Ws("deactivating")]),active:Hs(),inactive:Hs()}),el=gc(Us(Gs({signature:Zs(),slot:Hs(),err:Ic,memo:Ks(Zs()),blockTime:$s(Ks(Hs()))}))),nl=gc(Us(Gs({signature:Zs(),slot:Hs(),err:Ic,memo:Ks(Zs()),blockTime:$s(Ks(Hs()))}))),il=Gs({subscription:Hs(),result:wc(Yc)}),rl=Gs({pubkey:lc,account:Yc}),sl=Gs({subscription:Hs(),result:wc(rl)}),ol=Gs({parent:Hs(),slot:Hs(),root:Hs()}),al=Gs({subscription:Hs(),result:ol}),cl=Qs([Gs({type:Qs([Ws("firstShredReceived"),Ws("completed"),Ws("optimisticConfirmation"),Ws("root")]),slot:Hs(),timestamp:Hs()}),Gs({type:Ws("createdBank"),parent:Hs(),slot:Hs(),timestamp:Hs()}),Gs({type:Ws("frozen"),slot:Hs(),timestamp:Hs(),stats:Gs({numTransactionEntries:Hs(),numSuccessfulTransactions:Hs(),numFailedTransactions:Hs(),maxTransactionsPerEntry:Hs()})}),Gs({type:Ws("dead"),slot:Hs(),timestamp:Hs(),err:Zs()})]),ll=Gs({subscription:Hs(),result:cl}),ul=Gs({subscription:Hs(),result:wc(Qs([Nc,Lc]))}),hl=Gs({subscription:Hs(),result:Hs()}),dl=Gs({pubkey:Zs(),gossip:Ks(Zs()),tpu:Ks(Zs()),rpc:Ks(Zs()),version:Ks(Zs())}),ml=Gs({votePubkey:Zs(),nodePubkey:Zs(),activatedStake:Hs(),epochVoteAccount:qs(),epochCredits:Us(Ys([Hs(),Hs(),Hs()])),commission:Hs(),lastVote:Hs(),rootSlot:Ks(Hs())}),fl=gc(Gs({current:Us(ml),delinquent:Us(ml)})),pl=Qs([Ws("processed"),Ws("confirmed"),Ws("finalized")]),gl=Gs({slot:Hs(),confirmations:Ks(Hs()),err:Ic,confirmationStatus:$s(pl)}),yl=yc(Us(Ks(gl))),wl=gc(Hs()),vl=Gs({accountKey:lc,writableIndexes:Us(Hs()),readonlyIndexes:Us(Hs())}),bl=Gs({signatures:Us(Zs()),message:Gs({accountKeys:Us(Zs()),header:Gs({numRequiredSignatures:Hs(),numReadonlySignedAccounts:Hs(),numReadonlyUnsignedAccounts:Hs()}),instructions:Us(Gs({accounts:Us(Hs()),data:Zs(),programIdIndex:Hs()})),recentBlockhash:Zs(),addressTableLookups:$s(Us(vl))})}),xl=Gs({pubkey:lc,signer:qs(),writable:qs(),source:$s(Qs([Ws("transaction"),Ws("lookupTable")]))}),El=Gs({accountKeys:Us(xl),signatures:Us(Zs())}),Ml=Gs({parsed:Js(),program:Zs(),programId:lc}),Sl=Gs({accounts:Us(lc),data:Zs(),programId:lc}),Al=Xs(Qs([Sl,Ml]),Qs([Gs({parsed:Js(),program:Zs(),programId:Zs()}),Gs({accounts:Us(Zs()),data:Zs(),programId:Zs()})]),t=>Os(t,"accounts"in t?Sl:Ml)),kl=Gs({signatures:Us(Zs()),message:Gs({accountKeys:Us(xl),instructions:Us(Al),recentBlockhash:Zs(),addressTableLookups:$s(Ks(Us(vl)))})}),Il=Gs({accountIndex:Hs(),mint:Zs(),owner:$s(Zs()),programId:$s(Zs()),uiTokenAmount:Wc}),Nl=Gs({writable:Us(lc),readonly:Us(lc)}),Ll=Gs({err:Ic,fee:Hs(),innerInstructions:$s(Ks(Us(Gs({index:Hs(),instructions:Us(Gs({accounts:Us(Hs()),data:Zs(),programIdIndex:Hs()}))})))),preBalances:Us(Hs()),postBalances:Us(Hs()),logMessages:$s(Ks(Us(Zs()))),preTokenBalances:$s(Ks(Us(Il))),postTokenBalances:$s(Ks(Us(Il))),loadedAddresses:$s(Nl),computeUnitsConsumed:$s(Hs()),costUnits:$s(Hs())}),jl=Gs({err:Ic,fee:Hs(),innerInstructions:$s(Ks(Us(Gs({index:Hs(),instructions:Us(Al)})))),preBalances:Us(Hs()),postBalances:Us(Hs()),logMessages:$s(Ks(Us(Zs()))),preTokenBalances:$s(Ks(Us(Il))),postTokenBalances:$s(Ks(Us(Il))),loadedAddresses:$s(Nl),computeUnitsConsumed:$s(Hs()),costUnits:$s(Hs())}),Cl=Qs([Ws(0),Ws("legacy")]),Bl=Gs({pubkey:Zs(),lamports:Hs(),postBalance:Ks(Hs()),rewardType:Ks(Zs()),commission:$s(Ks(Hs()))}),_l=gc(Ks(Gs({blockhash:Zs(),previousBlockhash:Zs(),parentSlot:Hs(),transactions:Us(Gs({transaction:bl,meta:Ks(Ll),version:$s(Cl)})),rewards:$s(Us(Bl)),blockTime:Ks(Hs()),blockHeight:Ks(Hs())}))),Tl=gc(Ks(Gs({blockhash:Zs(),previousBlockhash:Zs(),parentSlot:Hs(),rewards:$s(Us(Bl)),blockTime:Ks(Hs()),blockHeight:Ks(Hs())}))),Rl=gc(Ks(Gs({blockhash:Zs(),previousBlockhash:Zs(),parentSlot:Hs(),transactions:Us(Gs({transaction:El,meta:Ks(Ll),version:$s(Cl)})),rewards:$s(Us(Bl)),blockTime:Ks(Hs()),blockHeight:Ks(Hs())}))),Ol=gc(Ks(Gs({blockhash:Zs(),previousBlockhash:Zs(),parentSlot:Hs(),transactions:Us(Gs({transaction:kl,meta:Ks(jl),version:$s(Cl)})),rewards:$s(Us(Bl)),blockTime:Ks(Hs()),blockHeight:Ks(Hs())}))),Dl=gc(Ks(Gs({blockhash:Zs(),previousBlockhash:Zs(),parentSlot:Hs(),transactions:Us(Gs({transaction:El,meta:Ks(jl),version:$s(Cl)})),rewards:$s(Us(Bl)),blockTime:Ks(Hs()),blockHeight:Ks(Hs())}))),zl=gc(Ks(Gs({blockhash:Zs(),previousBlockhash:Zs(),parentSlot:Hs(),rewards:$s(Us(Bl)),blockTime:Ks(Hs()),blockHeight:Ks(Hs())}))),Pl=gc(Ks(Gs({blockhash:Zs(),previousBlockhash:Zs(),parentSlot:Hs(),transactions:Us(Gs({transaction:bl,meta:Ks(Ll)})),rewards:$s(Us(Bl)),blockTime:Ks(Hs())}))),Ul=gc(Ks(Gs({blockhash:Zs(),previousBlockhash:Zs(),parentSlot:Hs(),signatures:Us(Zs()),blockTime:Ks(Hs())}))),ql=gc(Ks(Gs({slot:Hs(),meta:Ks(Ll),blockTime:$s(Ks(Hs())),transaction:bl,version:$s(Cl)}))),Fl=gc(Ks(Gs({slot:Hs(),transaction:kl,meta:Ks(jl),blockTime:$s(Ks(Hs())),version:$s(Cl)}))),Wl=yc(Gs({blockhash:Zs(),lastValidBlockHeight:Hs()})),Kl=yc(qs()),Hl=gc(Us(Gs({slot:Hs(),numTransactions:Hs(),numSlots:Hs(),samplePeriodSecs:Hs()}))),$l=yc(Ks(Gs({feeCalculator:Gs({lamportsPerSignature:Hs()})}))),Vl=gc(Zs()),Zl=gc(Zs()),Yl=Gs({err:Ic,logs:Us(Zs()),signature:Zs()}),Gl=Gs({result:wc(Yl),subscription:Hs()}),Ql={"solana-client":"js/1.0.0-maintenance"};class Jl{constructor(t,e){let n,i,r,s,o,a;var c;this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const t={};return async e=>{const{commitment:n,config:i}=dc(e),r=this._buildArgs([],n,void 0,i),s=ec(r);return t[s]=t[s]??(async()=>{try{const t=Os(await this._rpcRequest("getBlockHeight",r),gc(Hs()));if("error"in t)throw new Ha(t.error,"failed to get block height information");return t.result}finally{delete t[s]}})(),await t[s]}})(),e&&"string"==typeof e?this._commitment=e:e&&(this._commitment=e.commitment,this._confirmTransactionInitialTimeout=e.confirmTransactionInitialTimeout,n=e.wsEndpoint,i=e.httpHeaders,r=e.fetch,s=e.fetchMiddleware,o=e.disableRetryOnRateLimit,a=e.httpAgent),this._rpcEndpoint=function(t){if(!1===/^https?:/.test(t))throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}(t),this._rpcWsEndpoint=n||function(t){const e=t.match(cc);if(null==e)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[n,i,r,s]=e,o=t.startsWith("https:")?"wss:":"ws:",a=null==r?null:parseInt(r.slice(1),10);return`${o}//${i}${null==a?"":`:${a+1}`}${s}`}(t),this._rpcClient=function(t,e,n,i,r){const s=n||rc;let o;return i&&(o=async(t,e)=>{const n=await new Promise((n,r)=>{try{i(t,e,(t,e)=>n([t,e]))}catch(s){r(s)}});return await s(...n)}),new To(async(n,i)=>{const a={method:"POST",body:n,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},e||{},Ql)};try{let e,n=5,c=500;for(;e=o?await o(t,a):await s(t,a),429===e.status&&!0!==r&&(n-=1,0!==n);)await $a(c),c*=2;const l=await e.text();e.ok?i(null,l):i(new Error(`${e.status} ${e.statusText}: ${l}`))}catch(c){c instanceof Error&&i(c)}},{})}(t,i,r,s,o),this._rpcRequest=(c=this._rpcClient,(t,e)=>new Promise((n,i)=>{c.request(t,e,(t,e)=>{t?i(t):n(e)})})),this._rpcBatchRequest=function(t){return e=>new Promise((n,i)=>{0===e.length&&n([]);const r=e.map(e=>t.request(e.methodName,e.args));t.request(r,(t,e)=>{t?i(t):n(e)})})}(this._rpcClient),this._rpcWebSocket=new sc(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(t,e){const{commitment:n,config:i}=dc(e),r=this._buildArgs([t.toBase58()],n,void 0,i),s=Os(await this._rpcRequest("getBalance",r),yc(Hs()));if("error"in s)throw new Ha(s.error,`failed to get balance for ${t.toBase58()}`);return s.result}async getBalance(t,e){return await this.getBalanceAndContext(t,e).then(t=>t.value).catch(e=>{throw new Error("failed to get balance of account "+t.toBase58()+": "+e)})}async getBlockTime(t){const e=Os(await this._rpcRequest("getBlockTime",[t]),gc(Ks(Hs())));if("error"in e)throw new Ha(e.error,`failed to get block time for slot ${t}`);return e.result}async getMinimumLedgerSlot(){const t=Os(await this._rpcRequest("minimumLedgerSlot",[]),gc(Hs()));if("error"in t)throw new Ha(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const t=Os(await this._rpcRequest("getFirstAvailableBlock",[]),qc);if("error"in t)throw new Ha(t.error,"failed to get first available block");return t.result}async getSupply(t){let e={};e="string"==typeof t?{commitment:t}:t?{...t,commitment:t&&t.commitment||this.commitment}:{commitment:this.commitment};const n=Os(await this._rpcRequest("getSupply",[e]),Fc);if("error"in n)throw new Ha(n.error,"failed to get supply");return n.result}async getTokenSupply(t,e){const n=this._buildArgs([t.toBase58()],e),i=Os(await this._rpcRequest("getTokenSupply",n),yc(Wc));if("error"in i)throw new Ha(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(t,e){const n=this._buildArgs([t.toBase58()],e),i=Os(await this._rpcRequest("getTokenAccountBalance",n),yc(Wc));if("error"in i)throw new Ha(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(t,e,n){const{commitment:i,config:r}=dc(n);let s=[t.toBase58()];"mint"in e?s.push({mint:e.mint.toBase58()}):s.push({programId:e.programId.toBase58()});const o=this._buildArgs(s,i,"base64",r),a=Os(await this._rpcRequest("getTokenAccountsByOwner",o),Hc);if("error"in a)throw new Ha(a.error,`failed to get token accounts owned by account ${t.toBase58()}`);return a.result}async getParsedTokenAccountsByOwner(t,e,n){let i=[t.toBase58()];"mint"in e?i.push({mint:e.mint.toBase58()}):i.push({programId:e.programId.toBase58()});const r=this._buildArgs(i,n,"jsonParsed"),s=Os(await this._rpcRequest("getTokenAccountsByOwner",r),Vc);if("error"in s)throw new Ha(s.error,`failed to get token accounts owned by account ${t.toBase58()}`);return s.result}async getLargestAccounts(t){const e={...t,commitment:t&&t.commitment||this.commitment},n=e.filter||e.commitment?[e]:[],i=Os(await this._rpcRequest("getLargestAccounts",n),Zc);if("error"in i)throw new Ha(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(t,e){const n=this._buildArgs([t.toBase58()],e),i=Os(await this._rpcRequest("getTokenLargestAccounts",n),Kc);if("error"in i)throw new Ha(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(t,e){const{commitment:n,config:i}=dc(e),r=this._buildArgs([t.toBase58()],n,"base64",i),s=Os(await this._rpcRequest("getAccountInfo",r),yc(Ks(Yc)));if("error"in s)throw new Ha(s.error,`failed to get info about account ${t.toBase58()}`);return s.result}async getParsedAccountInfo(t,e){const{commitment:n,config:i}=dc(e),r=this._buildArgs([t.toBase58()],n,"jsonParsed",i),s=Os(await this._rpcRequest("getAccountInfo",r),yc(Ks(Jc)));if("error"in s)throw new Ha(s.error,`failed to get info about account ${t.toBase58()}`);return s.result}async getAccountInfo(t,e){try{return(await this.getAccountInfoAndContext(t,e)).value}catch(dy){throw new Error("failed to get info about account "+t.toBase58()+": "+dy)}}async getMultipleParsedAccounts(t,e){const{commitment:n,config:i}=dc(e),r=t.map(t=>t.toBase58()),s=this._buildArgs([r],n,"jsonParsed",i),o=Os(await this._rpcRequest("getMultipleAccounts",s),yc(Us(Ks(Jc))));if("error"in o)throw new Ha(o.error,`failed to get info for accounts ${r}`);return o.result}async getMultipleAccountsInfoAndContext(t,e){const{commitment:n,config:i}=dc(e),r=t.map(t=>t.toBase58()),s=this._buildArgs([r],n,"base64",i),o=Os(await this._rpcRequest("getMultipleAccounts",s),yc(Us(Ks(Yc))));if("error"in o)throw new Ha(o.error,`failed to get info for accounts ${r}`);return o.result}async getMultipleAccountsInfo(t,e){return(await this.getMultipleAccountsInfoAndContext(t,e)).value}async getStakeActivation(t,e,n){const{commitment:i,config:r}=dc(e),s=this._buildArgs([t.toBase58()],i,void 0,{...r,epoch:null!=n?n:r?.epoch}),o=Os(await this._rpcRequest("getStakeActivation",s),gc(tl));if("error"in o)throw new Ha(o.error,`failed to get Stake Activation ${t.toBase58()}`);return o.result}async getProgramAccounts(t,e){const{commitment:n,config:i}=dc(e),{encoding:r,...s}=i||{},o=this._buildArgs([t.toBase58()],n,r||"base64",{...s,...s.filters?{filters:mc(s.filters)}:null}),a=await this._rpcRequest("getProgramAccounts",o),c=Us(Gc),l=!0===s.withContext?Os(a,yc(c)):Os(a,gc(c));if("error"in l)throw new Ha(l.error,`failed to get accounts owned by program ${t.toBase58()}`);return l.result}async getParsedProgramAccounts(t,e){const{commitment:n,config:i}=dc(e),r=this._buildArgs([t.toBase58()],n,"jsonParsed",i),s=Os(await this._rpcRequest("getProgramAccounts",r),gc(Us(Xc)));if("error"in s)throw new Ha(s.error,`failed to get accounts owned by program ${t.toBase58()}`);return s.result}async confirmTransaction(t,e){let n,i;if("string"==typeof t)n=t;else{const e=t;if(e.abortSignal?.aborted)return Promise.reject(e.abortSignal.reason);n=e.signature}try{i=qi.decode(n)}catch(r){throw new Error("signature must be base58 encoded: "+n)}return Ca(64===i.length,"signature has invalid length"),"string"==typeof t?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:e||this.commitment,signature:n}):"lastValidBlockHeight"in t?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e||this.commitment,strategy:t}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:e||this.commitment,strategy:t})}getCancellationPromise(t){return new Promise((e,n)=>{null!=t&&(t.aborted?n(t.reason):t.addEventListener("abort",()=>{n(t.reason)}))})}getTransactionConfirmationPromise({commitment:t,signature:e}){let n,i,r=!1;return{abortConfirmation:()=>{i&&(i(),i=void 0),null!=n&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:new Promise((s,o)=>{try{n=this.onSignature(e,(t,e)=>{n=void 0;const i={context:e,value:t};s({__type:Pa.PROCESSED,response:i})},t);const a=new Promise(t=>{null==n?t():i=this._onSubscriptionStateChange(n,e=>{"subscribed"===e&&t()})});(async()=>{if(await a,r)return;const n=await this.getSignatureStatus(e);if(r)return;if(null==n)return;const{context:i,value:c}=n;if(null!=c)if(c?.err)o(c.err);else{switch(t){case"confirmed":case"single":case"singleGossip":if("processed"===c.confirmationStatus)return;break;case"finalized":case"max":case"root":if("processed"===c.confirmationStatus||"confirmed"===c.confirmationStatus)return}r=!0,s({__type:Pa.PROCESSED,response:{context:i,value:c}})}})()}catch(a){o(a)}})}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t,strategy:{abortSignal:e,lastValidBlockHeight:n,signature:i}}){let r=!1;const s=new Promise(e=>{const i=async()=>{try{return await this.getBlockHeight(t)}catch(e){return-1}};(async()=>{let t=await i();if(!r){for(;t<=n;){if(await $a(1e3),r)return;if(t=await i(),r)return}e({__type:Pa.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:o,confirmationPromise:a}=this.getTransactionConfirmationPromise({commitment:t,signature:i}),c=this.getCancellationPromise(e);let l;try{const t=await Promise.race([c,a,s]);if(t.__type!==Pa.PROCESSED)throw new Ea(i);l=t.response}finally{r=!0,o()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:t,strategy:{abortSignal:e,minContextSlot:n,nonceAccountPubkey:i,nonceValue:r,signature:s}}){let o=!1;const a=new Promise(e=>{let s=r,a=null;const c=async()=>{try{const{context:e,value:r}=await this.getNonceAndContext(i,{commitment:t,minContextSlot:n});return a=e.slot,r?.nonce}catch(dy){return s}};(async()=>{if(s=await c(),!o)for(;;){if(r!==s)return void e({__type:Pa.NONCE_INVALID,slotInWhichNonceDidAdvance:a});if(await $a(2e3),o)return;if(s=await c(),o)return}})()}),{abortConfirmation:c,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:t,signature:s}),u=this.getCancellationPromise(e);let h;try{const e=await Promise.race([u,l,a]);if(e.__type===Pa.PROCESSED)h=e.response;else{let i;for(;;){const t=await this.getSignatureStatus(s);if(null==t)break;if(!(t.context.slot<(e.slotInWhichNonceDidAdvance??n))){i=t;break}await $a(400)}if(!i?.value)throw new Sa(s);{const e=t||"finalized",{confirmationStatus:n}=i.value;switch(e){case"processed":case"recent":if("processed"!==n&&"confirmed"!==n&&"finalized"!==n)throw new Sa(s);break;case"confirmed":case"single":case"singleGossip":if("confirmed"!==n&&"finalized"!==n)throw new Sa(s);break;case"finalized":case"max":case"root":if("finalized"!==n)throw new Sa(s)}h={context:i.context,value:{err:i.value.err}}}}}finally{o=!0,c()}return h}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:t,signature:e}){let n;const i=new Promise(e=>{let i=this._confirmTransactionInitialTimeout||6e4;switch(t){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":i=this._confirmTransactionInitialTimeout||3e4}n=setTimeout(()=>e({__type:Pa.TIMED_OUT,timeoutMs:i}),i)}),{abortConfirmation:r,confirmationPromise:s}=this.getTransactionConfirmationPromise({commitment:t,signature:e});let o;try{const t=await Promise.race([s,i]);if(t.__type!==Pa.PROCESSED)throw new Ma(e,t.timeoutMs/1e3);o=t.response}finally{clearTimeout(n),r()}return o}async getClusterNodes(){const t=Os(await this._rpcRequest("getClusterNodes",[]),gc(Us(dl)));if("error"in t)throw new Ha(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(t){const e=this._buildArgs([],t),n=Os(await this._rpcRequest("getVoteAccounts",e),fl);if("error"in n)throw new Ha(n.error,"failed to get vote accounts");return n.result}async getSlot(t){const{commitment:e,config:n}=dc(t),i=this._buildArgs([],e,void 0,n),r=Os(await this._rpcRequest("getSlot",i),gc(Hs()));if("error"in r)throw new Ha(r.error,"failed to get slot");return r.result}async getSlotLeader(t){const{commitment:e,config:n}=dc(t),i=this._buildArgs([],e,void 0,n),r=Os(await this._rpcRequest("getSlotLeader",i),gc(Zs()));if("error"in r)throw new Ha(r.error,"failed to get slot leader");return r.result}async getSlotLeaders(t,e){const n=[t,e],i=Os(await this._rpcRequest("getSlotLeaders",n),gc(Us(lc)));if("error"in i)throw new Ha(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(t,e){const{context:n,value:i}=await this.getSignatureStatuses([t],e);Ca(1===i.length);return{context:n,value:i[0]}}async getSignatureStatuses(t,e){const n=[t];e&&n.push(e);const i=Os(await this._rpcRequest("getSignatureStatuses",n),yl);if("error"in i)throw new Ha(i.error,"failed to get signature status");return i.result}async getTransactionCount(t){const{commitment:e,config:n}=dc(t),i=this._buildArgs([],e,void 0,n),r=Os(await this._rpcRequest("getTransactionCount",i),gc(Hs()));if("error"in r)throw new Ha(r.error,"failed to get transaction count");return r.result}async getTotalSupply(t){return(await this.getSupply({commitment:t,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(t){const e=this._buildArgs([],t),n=Os(await this._rpcRequest("getInflationGovernor",e),Rc);if("error"in n)throw new Ha(n.error,"failed to get inflation");return n.result}async getInflationReward(t,e,n){const{commitment:i,config:r}=dc(n),s=this._buildArgs([t.map(t=>t.toBase58())],i,void 0,{...r,epoch:null!=e?e:r?.epoch}),o=Os(await this._rpcRequest("getInflationReward",s),xc);if("error"in o)throw new Ha(o.error,"failed to get inflation reward");return o.result}async getInflationRate(){const t=Os(await this._rpcRequest("getInflationRate",[]),Oc);if("error"in t)throw new Ha(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(t){const{commitment:e,config:n}=dc(t),i=this._buildArgs([],e,void 0,n),r=Os(await this._rpcRequest("getEpochInfo",i),zc);if("error"in r)throw new Ha(r.error,"failed to get epoch info");return r.result}async getEpochSchedule(){const t=Os(await this._rpcRequest("getEpochSchedule",[]),Pc);if("error"in t)throw new Ha(t.error,"failed to get epoch schedule");const e=t.result;return new ic(e.slotsPerEpoch,e.leaderScheduleSlotOffset,e.warmup,e.firstNormalEpoch,e.firstNormalSlot)}async getLeaderSchedule(){const t=Os(await this._rpcRequest("getLeaderSchedule",[]),Uc);if("error"in t)throw new Ha(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(t,e){const n=this._buildArgs([t],e),i=Os(await this._rpcRequest("getMinimumBalanceForRentExemption",n),wl);return"error"in i?0:i.result}async getRecentBlockhashAndContext(t){const{context:e,value:{blockhash:n}}=await this.getLatestBlockhashAndContext(t);return{context:e,value:{blockhash:n,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON:()=>({})}}}}async getRecentPerformanceSamples(t){const e=Os(await this._rpcRequest("getRecentPerformanceSamples",t?[t]:[]),Hl);if("error"in e)throw new Ha(e.error,"failed to get recent performance samples");return e.result}async getFeeCalculatorForBlockhash(t,e){const n=this._buildArgs([t],e),i=Os(await this._rpcRequest("getFeeCalculatorForBlockhash",n),$l);if("error"in i)throw new Ha(i.error,"failed to get fee calculator");const{context:r,value:s}=i.result;return{context:r,value:null!==s?s.feeCalculator:null}}async getFeeForMessage(t,e){const n=fa(t.serialize()).toString("base64"),i=this._buildArgs([n],e),r=Os(await this._rpcRequest("getFeeForMessage",i),yc(Ks(Hs())));if("error"in r)throw new Ha(r.error,"failed to get fee for message");if(null===r.result)throw new Error("invalid blockhash");return r.result}async getRecentPrioritizationFees(t){const e=t?.lockedWritableAccounts?.map(t=>t.toBase58()),n=e?.length?[e]:[],i=Os(await this._rpcRequest("getRecentPrioritizationFees",n),Dc);if("error"in i)throw new Ha(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(t){try{return(await this.getRecentBlockhashAndContext(t)).value}catch(dy){throw new Error("failed to get recent blockhash: "+dy)}}async getLatestBlockhash(t){try{return(await this.getLatestBlockhashAndContext(t)).value}catch(dy){throw new Error("failed to get recent blockhash: "+dy)}}async getLatestBlockhashAndContext(t){const{commitment:e,config:n}=dc(t),i=this._buildArgs([],e,void 0,n),r=Os(await this._rpcRequest("getLatestBlockhash",i),Wl);if("error"in r)throw new Ha(r.error,"failed to get latest blockhash");return r.result}async isBlockhashValid(t,e){const{commitment:n,config:i}=dc(e),r=this._buildArgs([t],n,void 0,i),s=Os(await this._rpcRequest("isBlockhashValid",r),Kl);if("error"in s)throw new Ha(s.error,"failed to determine if the blockhash `"+t+"`is valid");return s.result}async getVersion(){const t=Os(await this._rpcRequest("getVersion",[]),gc(jc));if("error"in t)throw new Ha(t.error,"failed to get version");return t.result}async getGenesisHash(){const t=Os(await this._rpcRequest("getGenesisHash",[]),gc(Zs()));if("error"in t)throw new Ha(t.error,"failed to get genesis hash");return t.result}async getBlock(t,e){const{commitment:n,config:i}=dc(e),r=this._buildArgsAtLeastConfirmed([t],n,void 0,i),s=await this._rpcRequest("getBlock",r);try{switch(i?.transactionDetails){case"accounts":{const t=Os(s,Rl);if("error"in t)throw t.error;return t.result}case"none":{const t=Os(s,Tl);if("error"in t)throw t.error;return t.result}default:{const t=Os(s,_l);if("error"in t)throw t.error;const{result:e}=t;return e?{...e,transactions:e.transactions.map(({transaction:t,meta:e,version:n})=>({meta:e,transaction:{...t,message:vc(n,t.message)},version:n}))}:null}}}catch(dy){throw new Ha(dy,"failed to get confirmed block")}}async getParsedBlock(t,e){const{commitment:n,config:i}=dc(e),r=this._buildArgsAtLeastConfirmed([t],n,"jsonParsed",i),s=await this._rpcRequest("getBlock",r);try{switch(i?.transactionDetails){case"accounts":{const t=Os(s,Dl);if("error"in t)throw t.error;return t.result}case"none":{const t=Os(s,zl);if("error"in t)throw t.error;return t.result}default:{const t=Os(s,Ol);if("error"in t)throw t.error;return t.result}}}catch(dy){throw new Ha(dy,"failed to get block")}}async getBlockProduction(t){let e,n;if("string"==typeof t)n=t;else if(t){const{commitment:i,...r}=t;n=i,e=r}const i=this._buildArgs([],n,"base64",e),r=Os(await this._rpcRequest("getBlockProduction",i),Tc);if("error"in r)throw new Ha(r.error,"failed to get block production information");return r.result}async getTransaction(t,e){const{commitment:n,config:i}=dc(e),r=this._buildArgsAtLeastConfirmed([t],n,void 0,i),s=Os(await this._rpcRequest("getTransaction",r),ql);if("error"in s)throw new Ha(s.error,"failed to get transaction");const o=s.result;return o?{...o,transaction:{...o.transaction,message:vc(o.version,o.transaction.message)}}:o}async getParsedTransaction(t,e){const{commitment:n,config:i}=dc(e),r=this._buildArgsAtLeastConfirmed([t],n,"jsonParsed",i),s=Os(await this._rpcRequest("getTransaction",r),Fl);if("error"in s)throw new Ha(s.error,"failed to get transaction");return s.result}async getParsedTransactions(t,e){const{commitment:n,config:i}=dc(e),r=t.map(t=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([t],n,"jsonParsed",i)}));return(await this._rpcBatchRequest(r)).map(t=>{const e=Os(t,Fl);if("error"in e)throw new Ha(e.error,"failed to get transactions");return e.result})}async getTransactions(t,e){const{commitment:n,config:i}=dc(e),r=t.map(t=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([t],n,void 0,i)}));return(await this._rpcBatchRequest(r)).map(t=>{const e=Os(t,ql);if("error"in e)throw new Ha(e.error,"failed to get transactions");const n=e.result;return n?{...n,transaction:{...n.transaction,message:vc(n.version,n.transaction.message)}}:n})}async getConfirmedBlock(t,e){const n=this._buildArgsAtLeastConfirmed([t],e),i=Os(await this._rpcRequest("getBlock",n),Pl);if("error"in i)throw new Ha(i.error,"failed to get confirmed block");const r=i.result;if(!r)throw new Error("Confirmed block "+t+" not found");const s={...r,transactions:r.transactions.map(({transaction:t,meta:e})=>{const n=new Oa(t.message);return{meta:e,transaction:{...t,message:n}}})};return{...s,transactions:s.transactions.map(({transaction:t,meta:e})=>({meta:e,transaction:Fa.populate(t.message,t.signatures)}))}}async getBlocks(t,e,n){const i=this._buildArgsAtLeastConfirmed(void 0!==e?[t,e]:[t],n),r=Os(await this._rpcRequest("getBlocks",i),gc(Us(Hs())));if("error"in r)throw new Ha(r.error,"failed to get blocks");return r.result}async getBlockSignatures(t,e){const n=this._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),i=Os(await this._rpcRequest("getBlock",n),Ul);if("error"in i)throw new Ha(i.error,"failed to get block");const r=i.result;if(!r)throw new Error("Block "+t+" not found");return r}async getConfirmedBlockSignatures(t,e){const n=this._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),i=Os(await this._rpcRequest("getBlock",n),Ul);if("error"in i)throw new Ha(i.error,"failed to get confirmed block");const r=i.result;if(!r)throw new Error("Confirmed block "+t+" not found");return r}async getConfirmedTransaction(t,e){const n=this._buildArgsAtLeastConfirmed([t],e),i=Os(await this._rpcRequest("getTransaction",n),ql);if("error"in i)throw new Ha(i.error,"failed to get transaction");const r=i.result;if(!r)return r;const s=new Oa(r.transaction.message),o=r.transaction.signatures;return{...r,transaction:Fa.populate(s,o)}}async getParsedConfirmedTransaction(t,e){const n=this._buildArgsAtLeastConfirmed([t],e,"jsonParsed"),i=Os(await this._rpcRequest("getTransaction",n),Fl);if("error"in i)throw new Ha(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(t,e){const n=t.map(t=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([t],e,"jsonParsed")}));return(await this._rpcBatchRequest(n)).map(t=>{const e=Os(t,Fl);if("error"in e)throw new Ha(e.error,"failed to get confirmed transactions");return e.result})}async getConfirmedSignaturesForAddress(t,e,n){let i={},r=await this.getFirstAvailableBlock();for(;!("until"in i)&&!(--e<=0||e<r);)try{const t=await this.getConfirmedBlockSignatures(e,"finalized");t.signatures.length>0&&(i.until=t.signatures[t.signatures.length-1].toString())}catch(o){if(o instanceof Error&&o.message.includes("skipped"))continue;throw o}let s=await this.getSlot("finalized");for(;!("before"in i||++n>s);)try{const t=await this.getConfirmedBlockSignatures(n);t.signatures.length>0&&(i.before=t.signatures[t.signatures.length-1].toString())}catch(o){if(o instanceof Error&&o.message.includes("skipped"))continue;throw o}return(await this.getConfirmedSignaturesForAddress2(t,i)).map(t=>t.signature)}async getConfirmedSignaturesForAddress2(t,e,n){const i=this._buildArgsAtLeastConfirmed([t.toBase58()],n,void 0,e),r=Os(await this._rpcRequest("getConfirmedSignaturesForAddress2",i),el);if("error"in r)throw new Ha(r.error,"failed to get confirmed signatures for address");return r.result}async getSignaturesForAddress(t,e,n){const i=this._buildArgsAtLeastConfirmed([t.toBase58()],n,void 0,e),r=Os(await this._rpcRequest("getSignaturesForAddress",i),nl);if("error"in r)throw new Ha(r.error,"failed to get signatures for address");return r.result}async getAddressLookupTable(t,e){const{context:n,value:i}=await this.getAccountInfoAndContext(t,e);let r=null;return null!==i&&(r=new oc({key:t,state:oc.deserialize(i.data)})),{context:n,value:r}}async getNonceAndContext(t,e){const{context:n,value:i}=await this.getAccountInfoAndContext(t,e);let r=null;return null!==i&&(r=Ya.fromAccountData(i.data)),{context:n,value:r}}async getNonce(t,e){return await this.getNonceAndContext(t,e).then(t=>t.value).catch(e=>{throw new Error("failed to get nonce for account "+t.toBase58()+": "+e)})}async requestAirdrop(t,e){const n=Os(await this._rpcRequest("requestAirdrop",[t.toBase58(),e]),Vl);if("error"in n)throw new Ha(n.error,`airdrop to ${t.toBase58()} failed`);return n.result}async _blockhashWithExpiryBlockHeight(t){if(!t){for(;this._pollingBlockhash;)await $a(100);const t=Date.now()-this._blockhashInfo.lastFetch>=3e4;if(null!==this._blockhashInfo.latestBlockhash&&!t)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const t=Date.now(),e=this._blockhashInfo.latestBlockhash,n=e?e.blockhash:null;for(let i=0;i<50;i++){const t=await this.getLatestBlockhash("finalized");if(n!==t.blockhash)return this._blockhashInfo={latestBlockhash:t,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},t;await $a(200)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-t}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(t){const{commitment:e,config:n}=dc(t),i=this._buildArgs([],e,"base64",n),r=Os(await this._rpcRequest("getStakeMinimumDelegation",i),yc(Hs()));if("error"in r)throw new Ha(r.error,"failed to get stake minimum delegation");return r.result}async simulateTransaction(t,e,n){if("message"in t){const i=t.serialize(),r=Gt.Buffer.from(i).toString("base64");if(Array.isArray(e)||void 0!==n)throw new Error("Invalid arguments");const s=e||{};s.encoding="base64","commitment"in s||(s.commitment=this.commitment),e&&"object"==typeof e&&"innerInstructions"in e&&(s.innerInstructions=e.innerInstructions);const o=[r,s],a=Os(await this._rpcRequest("simulateTransaction",o),_c);if("error"in a)throw new Error("failed to simulate transaction: "+a.error.message);return a.result}let i;if(t instanceof Fa){let e=t;i=new Fa,i.feePayer=e.feePayer,i.instructions=t.instructions,i.nonceInfo=e.nonceInfo,i.signatures=e.signatures}else i=Fa.populate(t),i._message=i._json=void 0;if(void 0!==e&&!Array.isArray(e))throw new Error("Invalid arguments");const r=e;if(i.nonceInfo&&r)i.sign(...r);else{let t=this._disableBlockhashCaching;for(;;){const e=await this._blockhashWithExpiryBlockHeight(t);if(i.lastValidBlockHeight=e.lastValidBlockHeight,i.recentBlockhash=e.blockhash,!r)break;if(i.sign(...r),!i.signature)throw new Error("!signature");const n=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(n)&&!this._blockhashInfo.transactionSignatures.includes(n)){this._blockhashInfo.simulatedSignatures.push(n);break}t=!0}}const s=i._compile(),o=s.serialize(),a=i._serialize(o).toString("base64"),c={encoding:"base64",commitment:this.commitment};if(n){const t=(Array.isArray(n)?n:s.nonProgramIds()).map(t=>t.toBase58());c.accounts={encoding:"base64",addresses:t}}r&&(c.sigVerify=!0),e&&"object"==typeof e&&"innerInstructions"in e&&(c.innerInstructions=e.innerInstructions);const l=[a,c],u=Os(await this._rpcRequest("simulateTransaction",l),_c);if("error"in u){let t;if("data"in u.error&&(t=u.error.data.logs,t&&Array.isArray(t))){const e="\n    ";t.join(e)}throw new Ka({action:"simulate",signature:"",transactionMessage:u.error.message,logs:t})}return u.result}async sendTransaction(t,e,n){if("version"in t){if(e&&Array.isArray(e))throw new Error("Invalid arguments");const n=t.serialize();return await this.sendRawTransaction(n,e)}if(void 0===e||!Array.isArray(e))throw new Error("Invalid arguments");const i=e;if(t.nonceInfo)t.sign(...i);else{let e=this._disableBlockhashCaching;for(;;){const n=await this._blockhashWithExpiryBlockHeight(e);if(t.lastValidBlockHeight=n.lastValidBlockHeight,t.recentBlockhash=n.blockhash,t.sign(...i),!t.signature)throw new Error("!signature");const r=t.signature.toString("base64");if(!this._blockhashInfo.transactionSignatures.includes(r)){this._blockhashInfo.transactionSignatures.push(r);break}e=!0}}const r=t.serialize();return await this.sendRawTransaction(r,n)}async sendRawTransaction(t,e){const n=fa(t).toString("base64");return await this.sendEncodedTransaction(n,e)}async sendEncodedTransaction(t,e){const n={encoding:"base64"},i=e&&e.skipPreflight,r=!0===i?"processed":e&&e.preflightCommitment||this.commitment;e&&null!=e.maxRetries&&(n.maxRetries=e.maxRetries),e&&null!=e.minContextSlot&&(n.minContextSlot=e.minContextSlot),i&&(n.skipPreflight=i),r&&(n.preflightCommitment=r);const s=[t,n],o=Os(await this._rpcRequest("sendTransaction",s),Zl);if("error"in o){let t;throw"data"in o.error&&(t=o.error.data.logs),new Ka({action:i?"send":"simulate",signature:"",transactionMessage:o.error.message,logs:t})}return o.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(t){this._rpcWebSocketConnected=!1}_wsOnClose(t){this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),1e3!==t?(this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,e])=>{this._setSubscription(t,{...e,state:"pending"})})):this._updateSubscriptions()}_setSubscription(t,e){const n=this._subscriptionsByHash[t]?.state;if(this._subscriptionsByHash[t]=e,n!==e.state){const n=this._subscriptionStateChangeCallbacksByHash[t];n&&n.forEach(t=>{try{t(e.state)}catch{}})}}_onSubscriptionStateChange(t,e){var n;const i=this._subscriptionHashByClientSubscriptionId[t];if(null==i)return()=>{};const r=(n=this._subscriptionStateChangeCallbacksByHash)[i]||(n[i]=new Set);return r.add(e),()=>{r.delete(e),0===r.size&&delete this._subscriptionStateChangeCallbacksByHash[i]}}async _updateSubscriptions(){if(0===Object.keys(this._subscriptionsByHash).length)return void(this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(t){Error}},500)));if(null!==this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected)return void this._rpcWebSocket.connect();const t=this._rpcWebSocketGeneration,e=()=>t===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async t=>{const n=this._subscriptionsByHash[t];if(void 0!==n)switch(n.state){case"pending":case"unsubscribed":if(0===n.callbacks.size)return delete this._subscriptionsByHash[t],"unsubscribed"===n.state&&delete this._subscriptionCallbacksByServerSubscriptionId[n.serverSubscriptionId],void(await this._updateSubscriptions());await(async()=>{const{args:i,method:r}=n;try{this._setSubscription(t,{...n,state:"subscribing"});const e=await this._rpcWebSocket.call(r,i);this._setSubscription(t,{...n,serverSubscriptionId:e,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[e]=n.callbacks,await this._updateSubscriptions()}catch(dy){if(!e())return;this._setSubscription(t,{...n,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":0===n.callbacks.size&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:r}=n;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(t,{...n,state:"unsubscribing"}),this._setSubscription(t,{...n,state:"unsubscribing"});try{await this._rpcWebSocket.call(r,[i])}catch(dy){if(Error,!e())return;return this._setSubscription(t,{...n,state:"subscribed"}),void(await this._updateSubscriptions())}}this._setSubscription(t,{...n,state:"unsubscribed"}),await this._updateSubscriptions()})()}}))}_handleServerNotification(t,e){const n=this._subscriptionCallbacksByServerSubscriptionId[t];void 0!==n&&n.forEach(t=>{try{t(...e)}catch(dy){}})}_wsOnAccountNotification(t){const{result:e,subscription:n}=Os(t,il);this._handleServerNotification(n,[e.value,e.context])}_makeSubscription(t,e){const n=this._nextClientSubscriptionId++,i=ec([t.method,e]),r=this._subscriptionsByHash[i];return void 0===r?this._subscriptionsByHash[i]={...t,args:e,callbacks:new Set([t.callback]),state:"pending"}:r.callbacks.add(t.callback),this._subscriptionHashByClientSubscriptionId[n]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];const e=this._subscriptionsByHash[i];Ca(void 0!==e,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),e.callbacks.delete(t.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(t,e,n){const{commitment:i,config:r}=dc(n),s=this._buildArgs([t.toBase58()],i||this._commitment||"finalized","base64",r);return this._makeSubscription({callback:e,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},s)}async removeAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"account change")}_wsOnProgramAccountNotification(t){const{result:e,subscription:n}=Os(t,sl);this._handleServerNotification(n,[{accountId:e.value.pubkey,accountInfo:e.value.account},e.context])}onProgramAccountChange(t,e,n,i){const{commitment:r,config:s}=dc(n),o=this._buildArgs([t.toBase58()],r||this._commitment||"finalized","base64",s||(i?{filters:mc(i)}:void 0));return this._makeSubscription({callback:e,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},o)}async removeProgramAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"program account change")}onLogs(t,e,n){const i=this._buildArgs(["object"==typeof t?{mentions:[t.toString()]}:t],n||this._commitment||"finalized");return this._makeSubscription({callback:e,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(t){await this._unsubscribeClientSubscription(t,"logs")}_wsOnLogsNotification(t){const{result:e,subscription:n}=Os(t,Gl);this._handleServerNotification(n,[e.value,e.context])}_wsOnSlotNotification(t){const{result:e,subscription:n}=Os(t,al);this._handleServerNotification(n,[e])}onSlotChange(t){return this._makeSubscription({callback:t,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(t){await this._unsubscribeClientSubscription(t,"slot change")}_wsOnSlotUpdatesNotification(t){const{result:e,subscription:n}=Os(t,ll);this._handleServerNotification(n,[e])}onSlotUpdate(t){return this._makeSubscription({callback:t,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(t){await this._unsubscribeClientSubscription(t,"slot update")}async _unsubscribeClientSubscription(t,e){const n=this._subscriptionDisposeFunctionsByClientSubscriptionId[t];n&&await n()}_buildArgs(t,e,n,i){const r=e||this._commitment;if(r||n||i){let e={};n&&(e.encoding=n),r&&(e.commitment=r),i&&(e=Object.assign(e,i)),t.push(e)}return t}_buildArgsAtLeastConfirmed(t,e,n,i){const r=e||this._commitment;if(r&&!["confirmed","finalized"].includes(r))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(t,e,n,i)}_wsOnSignatureNotification(t){const{result:e,subscription:n}=Os(t,ul);"receivedSignature"!==e.value&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,"receivedSignature"===e.value?[{type:"received"},e.context]:[{type:"status",result:e.value},e.context])}onSignature(t,e,n){const i=this._buildArgs([t],n||this._commitment||"finalized"),r=this._makeSubscription({callback:(t,n)=>{if("status"===t.type){e(t.result,n);try{this.removeSignatureListener(r)}catch(i){}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return r}onSignatureWithOptions(t,e,n){const{commitment:i,...r}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},s=this._buildArgs([t],i,void 0,r),o=this._makeSubscription({callback:(t,n)=>{e(t,n);try{this.removeSignatureListener(o)}catch(i){}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return o}async removeSignatureListener(t){await this._unsubscribeClientSubscription(t,"signature result")}_wsOnRootNotification(t){const{result:e,subscription:n}=Os(t,hl);this._handleServerNotification(n,[e])}onRootChange(t){return this._makeSubscription({callback:t,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(t){await this._unsubscribeClientSubscription(t,"root change")}}var Xl;Object.freeze({CreateLookupTable:{index:0,layout:gs([ms("instruction"),Ga("recentSlot"),hs("bumpSeed")])},FreezeLookupTable:{index:1,layout:gs([ms("instruction")])},ExtendLookupTable:{index:2,layout:gs([ms("instruction"),Ga(),ys(ka(),us(ms(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:gs([ms("instruction")])},CloseLookupTable:{index:4,layout:gs([ms("instruction")])}}),new ba("AddressLookupTab1e1111111111111111111111111"),Object.freeze({RequestUnits:{index:0,layout:gs([hs("instruction"),ms("units"),ms("additionalFee")])},RequestHeapFrame:{index:1,layout:gs([hs("instruction"),ms("bytes")])},SetComputeUnitLimit:{index:2,layout:gs([hs("instruction"),ms("units")])},SetComputeUnitPrice:{index:3,layout:gs([hs("instruction"),Ga("microLamports")])}}),new ba("ComputeBudget111111111111111111111111111111"),gs([hs("numSignatures"),hs("padding"),ds("signatureOffset"),ds("signatureInstructionIndex"),ds("publicKeyOffset"),ds("publicKeyInstructionIndex"),ds("messageDataOffset"),ds("messageDataSize"),ds("messageInstructionIndex")]),new ba("Ed25519SigVerify111111111111111111111111111"),ua.utils.isValidPrivateKey,gs([hs("numSignatures"),ds("signatureOffset"),hs("signatureInstructionIndex"),ds("ethAddressOffset"),hs("ethAddressInstructionIndex"),ds("messageDataOffset"),ds("messageDataSize"),hs("messageInstructionIndex"),ws(20,"ethAddress"),ws(64,"signature"),hs("recoveryId")]),new ba("KeccakSecp256k11111111111111111111111111111"),new ba("StakeConfig11111111111111111111111111111111");class tu{constructor(t,e,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=e,this.custodian=n}}Xl=tu,tu.default=new Xl(0,0,ba.default),Object.freeze({Initialize:{index:0,layout:gs([ms("instruction"),((t="authorized")=>gs([ka("staker"),ka("withdrawer")],t))(),((t="lockup")=>gs([ps("unixTimestamp"),ps("epoch"),ka("custodian")],t))()])},Authorize:{index:1,layout:gs([ms("instruction"),ka("newAuthorized"),ms("stakeAuthorizationType")])},Delegate:{index:2,layout:gs([ms("instruction")])},Split:{index:3,layout:gs([ms("instruction"),ps("lamports")])},Withdraw:{index:4,layout:gs([ms("instruction"),ps("lamports")])},Deactivate:{index:5,layout:gs([ms("instruction")])},Merge:{index:7,layout:gs([ms("instruction")])},AuthorizeWithSeed:{index:8,layout:gs([ms("instruction"),ka("newAuthorized"),ms("stakeAuthorizationType"),Na("authoritySeed"),ka("authorityOwner")])}}),new ba("Stake11111111111111111111111111111111111111"),Object.freeze({InitializeAccount:{index:0,layout:gs([ms("instruction"),((t="voteInit")=>gs([ka("nodePubkey"),ka("authorizedVoter"),ka("authorizedWithdrawer"),hs("commission")],t))()])},Authorize:{index:1,layout:gs([ms("instruction"),ka("newAuthorized"),ms("voteAuthorizationType")])},Withdraw:{index:3,layout:gs([ms("instruction"),ps("lamports")])},UpdateValidatorIdentity:{index:4,layout:gs([ms("instruction")])},AuthorizeWithSeed:{index:10,layout:gs([ms("instruction"),((t="voteAuthorizeWithSeedArgs")=>gs([ms("voteAuthorizationType"),ka("currentAuthorityDerivedKeyOwnerPubkey"),Na("currentAuthorityDerivedKeySeed"),ka("newAuthorized")],t))()])}}),new ba("Vote111111111111111111111111111111111111111"),new ba("Va1idator1nfo111111111111111111111111111111"),Gs({name:Zs(),website:$s(Zs()),details:$s(Zs()),iconUrl:$s(Zs()),keybaseUsername:$s(Zs())}),new ba("Vote111111111111111111111111111111111111111"),gs([ka("nodePubkey"),ka("authorizedWithdrawer"),hs("commission"),fs(),ys(gs([fs("slot"),ms("confirmationCount")]),us(ms(),-8),"votes"),hs("rootSlotValid"),fs("rootSlot"),fs(),ys(gs([fs("epoch"),ka("authorizedVoter")]),us(ms(),-8),"authorizedVoters"),gs([ys(gs([ka("authorizedPubkey"),fs("epochOfLastAuthorizedSwitch"),fs("targetEpoch")]),32,"buf"),fs("idx"),hs("isEmpty")],"priorVoters"),fs(),ys(gs([fs("epoch"),fs("credits"),fs("prevCredits")]),us(ms(),-8),"epochCredits"),gs([fs("slot"),fs("timestamp")],"lastTimestamp")]);const eu={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};const nu=n.createContext({});const iu=({children:t,endpoint:e,config:i={commitment:"confirmed"}})=>{const r=n.useMemo(()=>new Jl(e,i),[e,i]);return a.createElement(nu.Provider,{value:{connection:r}},t)};class ru extends Error{constructor(t,e){super(t),this.error=e}}class su extends ru{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class ou extends ru{constructor(){super(...arguments),this.name="WalletLoadError"}}class au extends ru{constructor(){super(...arguments),this.name="WalletConfigError"}}class cu extends ru{constructor(){super(...arguments),this.name="WalletConnectionError"}}class lu extends ru{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class uu extends ru{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class hu extends ru{constructor(){super(...arguments),this.name="WalletAccountError"}}class du extends ru{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class mu extends ru{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class fu extends ru{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class pu extends ru{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class gu extends ru{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class yu extends ru{constructor(){super(...arguments),this.name="WalletSignInError"}}var wu,vu;(vu=wu||(wu={})).Installed="Installed",vu.NotDetected="NotDetected",vu.Loadable="Loadable",vu.Unsupported="Unsupported";class bu extends Oo{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(t,e,n={}){const i=this.publicKey;if(!i)throw new mu;return t.feePayer=t.feePayer||i,t.recentBlockhash=t.recentBlockhash||(await e.getLatestBlockhash({commitment:n.preflightCommitment,minContextSlot:n.minContextSlot})).blockhash,t}}function xu(t){if("undefined"==typeof window||"undefined"==typeof document)return;const e=[];function n(){if(t())for(const t of e)t()}const i=setInterval(n,1e3);e.push(()=>clearInterval(i)),"loading"===document.readyState&&(document.addEventListener("DOMContentLoaded",n,{once:!0}),e.push(()=>document.removeEventListener("DOMContentLoaded",n))),"complete"!==document.readyState&&(window.addEventListener("load",n,{once:!0}),e.push(()=>window.removeEventListener("load",n))),n()}function Eu(){if(!navigator)return!1;const t=navigator.userAgent.toLowerCase(),e=t.includes("iphone")||t.includes("ipad"),n=t.includes("safari");return e&&n}function Mu(t){return"version"in t}class Su extends bu{async sendTransaction(t,e,n={}){let i=!0;try{if(Mu(t)){if(!this.supportedTransactionVersions)throw new fu("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(t.version))throw new fu(`Sending transaction version ${t.version} isn't supported by this wallet`);try{const i=(t=await this.signTransaction(t)).serialize();return await e.sendRawTransaction(i,n)}catch(r){if(r instanceof pu)throw i=!1,r;throw new fu(r?.message,r)}}else try{const{signers:i,...r}=n;t=await this.prepareTransaction(t,e,r),i?.length&&t.partialSign(...i);const s=(t=await this.signTransaction(t)).serialize();return await e.sendRawTransaction(s,r)}catch(r){if(r instanceof pu)throw i=!1,r;throw new fu(r?.message,r)}}catch(r){throw i&&this.emit("error",r),r}}async signAllTransactions(t){for(const n of t)if(Mu(n)){if(!this.supportedTransactionVersions)throw new pu("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(n.version))throw new pu(`Signing transaction version ${n.version} isn't supported by this wallet`)}const e=[];for(const n of t)e.push(await this.signTransaction(n));return e}}class Au extends Su{}class ku extends Au{}const Iu="solana:signAndSendTransaction",Nu="solana:signIn",Lu="solana:signMessage",ju="solana:signTransaction",Cu="standard:connect",Bu="standard:disconnect",_u="standard:events";var Tu,Ru;(Ru=Tu||(Tu={})).Mainnet="mainnet-beta",Ru.Testnet="testnet",Ru.Devnet="devnet";class Ou extends ru{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}const Du=[],zu={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){Pu("call","select")},connect:()=>Promise.reject(Pu("call","connect")),disconnect:()=>Promise.reject(Pu("call","disconnect")),sendTransaction:()=>Promise.reject(Pu("call","sendTransaction")),signTransaction:()=>Promise.reject(Pu("call","signTransaction")),signAllTransactions:()=>Promise.reject(Pu("call","signAllTransactions")),signMessage:()=>Promise.reject(Pu("call","signMessage")),signIn:()=>Promise.reject(Pu("call","signIn"))};function Pu(t,e){return new Error(`You have tried to ${t} "${e}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.`)}Object.defineProperty(zu,"wallets",{get:()=>(Pu("read","wallets"),Du)}),Object.defineProperty(zu,"wallet",{get:()=>(Pu("read","wallet"),null)}),Object.defineProperty(zu,"publicKey",{get:()=>(Pu("read","publicKey"),null)});const Uu=n.createContext(zu);function qu(){return n.useContext(Uu)}var Fu={},Wu={};let Ku;const Hu=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Wu.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return 4*t+17},Wu.getSymbolTotalCodewords=function(t){return Hu[t]},Wu.getBCHDigit=function(t){let e=0;for(;0!==t;)e++,t>>>=1;return e},Wu.setToSJISFunction=function(t){if("function"!=typeof t)throw new Error('"toSJISFunc" is not a valid function.');Ku=t},Wu.isKanjiModeEnabled=function(){return void 0!==Ku},Wu.toSJIS=function(t){return Ku(t)};var $u,Vu={};function Zu(){this.buffer=[],this.length=0}($u=Vu).L={bit:1},$u.M={bit:0},$u.Q={bit:3},$u.H={bit:2},$u.isValid=function(t){return t&&void 0!==t.bit&&t.bit>=0&&t.bit<4},$u.from=function(t,e){if($u.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return $u.L;case"m":case"medium":return $u.M;case"q":case"quartile":return $u.Q;case"h":case"high":return $u.H;default:throw new Error("Unknown EC Level: "+t)}}(t)}catch(dy){return e}},Zu.prototype={get:function(t){const e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(let n=0;n<e;n++)this.putBit(1==(t>>>e-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Yu=Zu;function Gu(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}Gu.prototype.set=function(t,e,n,i){const r=t*this.size+e;this.data[r]=n,i&&(this.reservedBit[r]=!0)},Gu.prototype.get=function(t,e){return this.data[t*this.size+e]},Gu.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n},Gu.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var Qu=Gu,Ju={};!function(t){const e=Wu.getSymbolSize;t.getRowColCoords=function(t){if(1===t)return[];const n=Math.floor(t/7)+2,i=e(t),r=145===i?26:2*Math.ceil((i-13)/(2*n-2)),s=[i-7];for(let e=1;e<n-1;e++)s[e]=s[e-1]-r;return s.push(6),s.reverse()},t.getPositions=function(e){const n=[],i=t.getRowColCoords(e),r=i.length;for(let t=0;t<r;t++)for(let e=0;e<r;e++)0===t&&0===e||0===t&&e===r-1||t===r-1&&0===e||n.push([i[t],i[e]]);return n}}(Ju);var Xu={};const th=Wu.getSymbolSize;Xu.getPositions=function(t){const e=th(t);return[[0,0],[e-7,0],[0,e-7]]};var eh={};!function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e=3,n=3,i=40,r=10;function s(e,n,i){switch(e){case t.Patterns.PATTERN000:return(n+i)%2==0;case t.Patterns.PATTERN001:return n%2==0;case t.Patterns.PATTERN010:return i%3==0;case t.Patterns.PATTERN011:return(n+i)%3==0;case t.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(i/3))%2==0;case t.Patterns.PATTERN101:return n*i%2+n*i%3==0;case t.Patterns.PATTERN110:return(n*i%2+n*i%3)%2==0;case t.Patterns.PATTERN111:return(n*i%3+(n+i)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}}t.isValid=function(t){return null!=t&&""!==t&&!isNaN(t)&&t>=0&&t<=7},t.from=function(e){return t.isValid(e)?parseInt(e,10):void 0},t.getPenaltyN1=function(t){const n=t.size;let i=0,r=0,s=0,o=null,a=null;for(let c=0;c<n;c++){r=s=0,o=a=null;for(let l=0;l<n;l++){let n=t.get(c,l);n===o?r++:(r>=5&&(i+=e+(r-5)),o=n,r=1),n=t.get(l,c),n===a?s++:(s>=5&&(i+=e+(s-5)),a=n,s=1)}r>=5&&(i+=e+(r-5)),s>=5&&(i+=e+(s-5))}return i},t.getPenaltyN2=function(t){const e=t.size;let i=0;for(let n=0;n<e-1;n++)for(let r=0;r<e-1;r++){const e=t.get(n,r)+t.get(n,r+1)+t.get(n+1,r)+t.get(n+1,r+1);4!==e&&0!==e||i++}return i*n},t.getPenaltyN3=function(t){const e=t.size;let n=0,r=0,s=0;for(let i=0;i<e;i++){r=s=0;for(let o=0;o<e;o++)r=r<<1&2047|t.get(i,o),o>=10&&(1488===r||93===r)&&n++,s=s<<1&2047|t.get(o,i),o>=10&&(1488===s||93===s)&&n++}return n*i},t.getPenaltyN4=function(t){let e=0;const n=t.data.length;for(let i=0;i<n;i++)e+=t.data[i];return Math.abs(Math.ceil(100*e/n/5)-10)*r},t.applyMask=function(t,e){const n=e.size;for(let i=0;i<n;i++)for(let r=0;r<n;r++)e.isReserved(r,i)||e.xor(r,i,s(t,r,i))},t.getBestMask=function(e,n){const i=Object.keys(t.Patterns).length;let r=0,s=1/0;for(let o=0;o<i;o++){n(o),t.applyMask(o,e);const i=t.getPenaltyN1(e)+t.getPenaltyN2(e)+t.getPenaltyN3(e)+t.getPenaltyN4(e);t.applyMask(o,e),i<s&&(s=i,r=o)}return r}}(eh);var nh={};const ih=Vu,rh=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],sh=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];nh.getBlocksCount=function(t,e){switch(e){case ih.L:return rh[4*(t-1)+0];case ih.M:return rh[4*(t-1)+1];case ih.Q:return rh[4*(t-1)+2];case ih.H:return rh[4*(t-1)+3];default:return}},nh.getTotalCodewordsCount=function(t,e){switch(e){case ih.L:return sh[4*(t-1)+0];case ih.M:return sh[4*(t-1)+1];case ih.Q:return sh[4*(t-1)+2];case ih.H:return sh[4*(t-1)+3];default:return}};var oh={},ah={};const ch=new Uint8Array(512),lh=new Uint8Array(256);!function(){let t=1;for(let e=0;e<255;e++)ch[e]=t,lh[t]=e,t<<=1,256&t&&(t^=285);for(let e=255;e<512;e++)ch[e]=ch[e-255]}(),ah.log=function(t){if(t<1)throw new Error("log("+t+")");return lh[t]},ah.exp=function(t){return ch[t]},ah.mul=function(t,e){return 0===t||0===e?0:ch[lh[t]+lh[e]]},function(t){const e=ah;t.mul=function(t,n){const i=new Uint8Array(t.length+n.length-1);for(let r=0;r<t.length;r++)for(let s=0;s<n.length;s++)i[r+s]^=e.mul(t[r],n[s]);return i},t.mod=function(t,n){let i=new Uint8Array(t);for(;i.length-n.length>=0;){const t=i[0];for(let s=0;s<n.length;s++)i[s]^=e.mul(n[s],t);let r=0;for(;r<i.length&&0===i[r];)r++;i=i.slice(r)}return i},t.generateECPolynomial=function(n){let i=new Uint8Array([1]);for(let r=0;r<n;r++)i=t.mul(i,new Uint8Array([1,e.exp(r)]));return i}}(oh);const uh=oh;function hh(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}hh.prototype.initialize=function(t){this.degree=t,this.genPoly=uh.generateECPolynomial(this.degree)},hh.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const e=new Uint8Array(t.length+this.degree);e.set(t);const n=uh.mod(e,this.genPoly),i=this.degree-n.length;if(i>0){const t=new Uint8Array(this.degree);return t.set(n,i),t}return n};var dh=hh,mh={},fh={},ph={isValid:function(t){return!isNaN(t)&&t>=1&&t<=40}},gh={};const yh="[0-9]+";let wh="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";wh=wh.replace(/u/g,"\\u");const vh="(?:(?![A-Z0-9 $%*+\\-./:]|"+wh+")(?:.|[\r\n]))+";gh.KANJI=new RegExp(wh,"g"),gh.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),gh.BYTE=new RegExp(vh,"g"),gh.NUMERIC=new RegExp(yh,"g"),gh.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const bh=new RegExp("^"+wh+"$"),xh=new RegExp("^"+yh+"$"),Eh=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");gh.testKanji=function(t){return bh.test(t)},gh.testNumeric=function(t){return xh.test(t)},gh.testAlphanumeric=function(t){return Eh.test(t)},function(t){const e=ph,n=gh;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(t,n){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(!e.isValid(n))throw new Error("Invalid version: "+n);return n>=1&&n<10?t.ccBits[0]:n<27?t.ccBits[1]:t.ccBits[2]},t.getBestModeForData=function(e){return n.testNumeric(e)?t.NUMERIC:n.testAlphanumeric(e)?t.ALPHANUMERIC:n.testKanji(e)?t.KANJI:t.BYTE},t.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")},t.isValid=function(t){return t&&t.bit&&t.ccBits},t.from=function(e,n){if(t.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+e)}}(e)}catch(dy){return n}}}(fh),function(t){const e=Wu,n=nh,i=Vu,r=fh,s=ph,o=e.getBCHDigit(7973);function a(t,e){return r.getCharCountIndicator(t,e)+4}function c(t,e){let n=0;return t.forEach(function(t){const i=a(t.mode,e);n+=i+t.getBitsLength()}),n}t.from=function(t,e){return s.isValid(t)?parseInt(t,10):e},t.getCapacity=function(t,i,o){if(!s.isValid(t))throw new Error("Invalid QR Code version");void 0===o&&(o=r.BYTE);const c=8*(e.getSymbolTotalCodewords(t)-n.getTotalCodewordsCount(t,i));if(o===r.MIXED)return c;const l=c-a(o,t);switch(o){case r.NUMERIC:return Math.floor(l/10*3);case r.ALPHANUMERIC:return Math.floor(l/11*2);case r.KANJI:return Math.floor(l/13);case r.BYTE:default:return Math.floor(l/8)}},t.getBestVersionForData=function(e,n){let s;const o=i.from(n,i.M);if(Array.isArray(e)){if(e.length>1)return function(e,n){for(let i=1;i<=40;i++)if(c(e,i)<=t.getCapacity(i,n,r.MIXED))return i}(e,o);if(0===e.length)return 1;s=e[0]}else s=e;return function(e,n,i){for(let r=1;r<=40;r++)if(n<=t.getCapacity(r,i,e))return r}(s.mode,s.getLength(),o)},t.getEncodedBits=function(t){if(!s.isValid(t)||t<7)throw new Error("Invalid QR Code version");let n=t<<12;for(;e.getBCHDigit(n)-o>=0;)n^=7973<<e.getBCHDigit(n)-o;return t<<12|n}}(mh);var Mh={};const Sh=Wu,Ah=Sh.getBCHDigit(1335);Mh.getEncodedBits=function(t,e){const n=t.bit<<3|e;let i=n<<10;for(;Sh.getBCHDigit(i)-Ah>=0;)i^=1335<<Sh.getBCHDigit(i)-Ah;return 21522^(n<<10|i)};var kh={};const Ih=fh;function Nh(t){this.mode=Ih.NUMERIC,this.data=t.toString()}Nh.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)},Nh.prototype.getLength=function(){return this.data.length},Nh.prototype.getBitsLength=function(){return Nh.getBitsLength(this.data.length)},Nh.prototype.write=function(t){let e,n,i;for(e=0;e+3<=this.data.length;e+=3)n=this.data.substr(e,3),i=parseInt(n,10),t.put(i,10);const r=this.data.length-e;r>0&&(n=this.data.substr(e),i=parseInt(n,10),t.put(i,3*r+1))};var Lh=Nh;const jh=fh,Ch=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Bh(t){this.mode=jh.ALPHANUMERIC,this.data=t}Bh.getBitsLength=function(t){return 11*Math.floor(t/2)+t%2*6},Bh.prototype.getLength=function(){return this.data.length},Bh.prototype.getBitsLength=function(){return Bh.getBitsLength(this.data.length)},Bh.prototype.write=function(t){let e;for(e=0;e+2<=this.data.length;e+=2){let n=45*Ch.indexOf(this.data[e]);n+=Ch.indexOf(this.data[e+1]),t.put(n,11)}this.data.length%2&&t.put(Ch.indexOf(this.data[e]),6)};var _h=Bh;const Th=fh;function Rh(t){this.mode=Th.BYTE,this.data="string"==typeof t?(new TextEncoder).encode(t):new Uint8Array(t)}Rh.getBitsLength=function(t){return 8*t},Rh.prototype.getLength=function(){return this.data.length},Rh.prototype.getBitsLength=function(){return Rh.getBitsLength(this.data.length)},Rh.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};var Oh=Rh;const Dh=fh,zh=Wu;function Ph(t){this.mode=Dh.KANJI,this.data=t}Ph.getBitsLength=function(t){return 13*t},Ph.prototype.getLength=function(){return this.data.length},Ph.prototype.getBitsLength=function(){return Ph.getBitsLength(this.data.length)},Ph.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=zh.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else{if(!(n>=57408&&n<=60351))throw new Error("Invalid SJIS character: "+this.data[e]+"\nMake sure your charset is UTF-8");n-=49472}n=192*(n>>>8&255)+(255&n),t.put(n,13)}};var Uh,qh=Ph,Fh={exports:{}},Wh=Fh.exports=Uh={single_source_shortest_paths:function(t,e,n){var i={},r={};r[e]=0;var s,o,a,c,l,u,h,d=Uh.PriorityQueue.make();for(d.push(e,0);!d.empty();)for(a in o=(s=d.pop()).value,c=s.cost,l=t[o]||{})l.hasOwnProperty(a)&&(u=c+l[a],h=r[a],(void 0===r[a]||h>u)&&(r[a]=u,d.push(a,u),i[a]=o));if(void 0!==n&&void 0===r[n]){var m=["Could not find a path from ",e," to ",n,"."].join("");throw new Error(m)}return i},extract_shortest_path_from_predecessor_list:function(t,e){for(var n=[],i=e;i;)n.push(i),t[i],i=t[i];return n.reverse(),n},find_path:function(t,e,n){var i=Uh.single_source_shortest_paths(t,e,n);return Uh.extract_shortest_path_from_predecessor_list(i,n)},PriorityQueue:{make:function(t){var e,n=Uh.PriorityQueue,i={};for(e in t=t||{},n)n.hasOwnProperty(e)&&(i[e]=n[e]);return i.queue=[],i.sorter=t.sorter||n.default_sorter,i},default_sorter:function(t,e){return t.cost-e.cost},push:function(t,e){var n={value:t,cost:e};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};!function(t){const e=fh,n=Lh,i=_h,r=Oh,s=qh,o=gh,a=Wu,c=Wh;function l(t){return unescape(encodeURIComponent(t)).length}function u(t,e,n){const i=[];let r;for(;null!==(r=t.exec(n));)i.push({data:r[0],index:r.index,mode:e,length:r[0].length});return i}function h(t){const n=u(o.NUMERIC,e.NUMERIC,t),i=u(o.ALPHANUMERIC,e.ALPHANUMERIC,t);let r,s;a.isKanjiModeEnabled()?(r=u(o.BYTE,e.BYTE,t),s=u(o.KANJI,e.KANJI,t)):(r=u(o.BYTE_KANJI,e.BYTE,t),s=[]);return n.concat(i,r,s).sort(function(t,e){return t.index-e.index}).map(function(t){return{data:t.data,mode:t.mode,length:t.length}})}function d(t,o){switch(o){case e.NUMERIC:return n.getBitsLength(t);case e.ALPHANUMERIC:return i.getBitsLength(t);case e.KANJI:return s.getBitsLength(t);case e.BYTE:return r.getBitsLength(t)}}function m(t,o){let c;const l=e.getBestModeForData(t);if(c=e.from(o,l),c!==e.BYTE&&c.bit<l.bit)throw new Error('"'+t+'" cannot be encoded with mode '+e.toString(c)+".\n Suggested mode is: "+e.toString(l));switch(c!==e.KANJI||a.isKanjiModeEnabled()||(c=e.BYTE),c){case e.NUMERIC:return new n(t);case e.ALPHANUMERIC:return new i(t);case e.KANJI:return new s(t);case e.BYTE:return new r(t)}}t.fromArray=function(t){return t.reduce(function(t,e){return"string"==typeof e?t.push(m(e,null)):e.data&&t.push(m(e.data,e.mode)),t},[])},t.fromString=function(n,i){const r=function(t){const n=[];for(let i=0;i<t.length;i++){const r=t[i];switch(r.mode){case e.NUMERIC:n.push([r,{data:r.data,mode:e.ALPHANUMERIC,length:r.length},{data:r.data,mode:e.BYTE,length:r.length}]);break;case e.ALPHANUMERIC:n.push([r,{data:r.data,mode:e.BYTE,length:r.length}]);break;case e.KANJI:n.push([r,{data:r.data,mode:e.BYTE,length:l(r.data)}]);break;case e.BYTE:n.push([{data:r.data,mode:e.BYTE,length:l(r.data)}])}}return n}(h(n,a.isKanjiModeEnabled())),s=function(t,n){const i={},r={start:{}};let s=["start"];for(let o=0;o<t.length;o++){const a=t[o],c=[];for(let t=0;t<a.length;t++){const l=a[t],u=""+o+t;c.push(u),i[u]={node:l,lastCount:0},r[u]={};for(let t=0;t<s.length;t++){const o=s[t];i[o]&&i[o].node.mode===l.mode?(r[o][u]=d(i[o].lastCount+l.length,l.mode)-d(i[o].lastCount,l.mode),i[o].lastCount+=l.length):(i[o]&&(i[o].lastCount=l.length),r[o][u]=d(l.length,l.mode)+4+e.getCharCountIndicator(l.mode,n))}}s=c}for(let e=0;e<s.length;e++)r[s[e]].end=0;return{map:r,table:i}}(r,i),o=c.find_path(s.map,"start","end"),u=[];for(let t=1;t<o.length-1;t++)u.push(s.table[o[t]].node);return t.fromArray(function(t){return t.reduce(function(t,e){const n=t.length-1>=0?t[t.length-1]:null;return n&&n.mode===e.mode?(t[t.length-1].data+=e.data,t):(t.push(e),t)},[])}(u))},t.rawSplit=function(e){return t.fromArray(h(e,a.isKanjiModeEnabled()))}}(kh);const Kh=Wu,Hh=Vu,$h=Yu,Vh=Qu,Zh=Ju,Yh=Xu,Gh=eh,Qh=nh,Jh=dh,Xh=mh,td=Mh,ed=fh,nd=kh;function id(t,e,n){const i=t.size,r=td.getEncodedBits(e,n);let s,o;for(s=0;s<15;s++)o=1==(r>>s&1),s<6?t.set(s,8,o,!0):s<8?t.set(s+1,8,o,!0):t.set(i-15+s,8,o,!0),s<8?t.set(8,i-s-1,o,!0):s<9?t.set(8,15-s-1+1,o,!0):t.set(8,15-s-1,o,!0);t.set(i-8,8,1,!0)}function rd(t,e,n){const i=new $h;n.forEach(function(e){i.put(e.mode.bit,4),i.put(e.getLength(),ed.getCharCountIndicator(e.mode,t)),e.write(i)});const r=8*(Kh.getSymbolTotalCodewords(t)-Qh.getTotalCodewordsCount(t,e));for(i.getLengthInBits()+4<=r&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(0);const s=(r-i.getLengthInBits())/8;for(let o=0;o<s;o++)i.put(o%2?17:236,8);return function(t,e,n){const i=Kh.getSymbolTotalCodewords(e),r=Qh.getTotalCodewordsCount(e,n),s=i-r,o=Qh.getBlocksCount(e,n),a=i%o,c=o-a,l=Math.floor(i/o),u=Math.floor(s/o),h=u+1,d=l-u,m=new Jh(d);let f=0;const p=new Array(o),g=new Array(o);let y=0;const w=new Uint8Array(t.buffer);for(let M=0;M<o;M++){const t=M<c?u:h;p[M]=w.slice(f,f+t),g[M]=m.encode(p[M]),f+=t,y=Math.max(y,t)}const v=new Uint8Array(i);let b,x,E=0;for(b=0;b<y;b++)for(x=0;x<o;x++)b<p[x].length&&(v[E++]=p[x][b]);for(b=0;b<d;b++)for(x=0;x<o;x++)v[E++]=g[x][b];return v}(i,t,e)}function sd(t,e,n,i){let r;if(Array.isArray(t))r=nd.fromArray(t);else{if("string"!=typeof t)throw new Error("Invalid data");{let i=e;if(!i){const e=nd.rawSplit(t);i=Xh.getBestVersionForData(e,n)}r=nd.fromString(t,i||40)}}const s=Xh.getBestVersionForData(r,n);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(e){if(e<s)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+s+".\n")}else e=s;const o=rd(e,n,r),a=Kh.getSymbolSize(e),c=new Vh(a);return function(t,e){const n=t.size,i=Yh.getPositions(e);for(let r=0;r<i.length;r++){const e=i[r][0],s=i[r][1];for(let i=-1;i<=7;i++)if(!(e+i<=-1||n<=e+i))for(let r=-1;r<=7;r++)s+r<=-1||n<=s+r||(i>=0&&i<=6&&(0===r||6===r)||r>=0&&r<=6&&(0===i||6===i)||i>=2&&i<=4&&r>=2&&r<=4?t.set(e+i,s+r,!0,!0):t.set(e+i,s+r,!1,!0))}}(c,e),function(t){const e=t.size;for(let n=8;n<e-8;n++){const e=n%2==0;t.set(n,6,e,!0),t.set(6,n,e,!0)}}(c),function(t,e){const n=Zh.getPositions(e);for(let i=0;i<n.length;i++){const e=n[i][0],r=n[i][1];for(let n=-2;n<=2;n++)for(let i=-2;i<=2;i++)-2===n||2===n||-2===i||2===i||0===n&&0===i?t.set(e+n,r+i,!0,!0):t.set(e+n,r+i,!1,!0)}}(c,e),id(c,n,0),e>=7&&function(t,e){const n=t.size,i=Xh.getEncodedBits(e);let r,s,o;for(let a=0;a<18;a++)r=Math.floor(a/3),s=a%3+n-8-3,o=1==(i>>a&1),t.set(r,s,o,!0),t.set(s,r,o,!0)}(c,e),function(t,e){const n=t.size;let i=-1,r=n-1,s=7,o=0;for(let a=n-1;a>0;a-=2)for(6===a&&a--;;){for(let n=0;n<2;n++)if(!t.isReserved(r,a-n)){let i=!1;o<e.length&&(i=1==(e[o]>>>s&1)),t.set(r,a-n,i),s--,-1===s&&(o++,s=7)}if(r+=i,r<0||n<=r){r-=i,i=-i;break}}}(c,o),isNaN(i)&&(i=Gh.getBestMask(c,id.bind(null,c,n))),Gh.applyMask(i,c),id(c,n,i),{modules:c,version:e,errorCorrectionLevel:n,maskPattern:i,segments:r}}Fu.create=function(t,e){if(void 0===t||""===t)throw new Error("No input text");let n,i,r=Hh.M;return void 0!==e&&(r=Hh.from(e.errorCorrectionLevel,Hh.M),n=Xh.from(e.version),i=Gh.from(e.maskPattern),e.toSJISFunc&&Kh.setToSJISFunction(e.toSJISFunc)),sd(t,n,r,i)};var od={},ad={};!function(t){function e(t){if("number"==typeof t&&(t=t.toString()),"string"!=typeof t)throw new Error("Color should be defined as hex string");let e=t.slice().replace("#","").split("");if(e.length<3||5===e.length||e.length>8)throw new Error("Invalid hex color: "+t);3!==e.length&&4!==e.length||(e=Array.prototype.concat.apply([],e.map(function(t){return[t,t]}))),6===e.length&&e.push("F","F");const n=parseInt(e.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n,hex:"#"+e.slice(0,6).join("")}}t.getOptions=function(t){t||(t={}),t.color||(t.color={});const n=void 0===t.margin||null===t.margin||t.margin<0?4:t.margin,i=t.width&&t.width>=21?t.width:void 0,r=t.scale||4;return{width:i,scale:i?4:r,margin:n,color:{dark:e(t.color.dark||"#000000ff"),light:e(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},t.getScale=function(t,e){return e.width&&e.width>=t+2*e.margin?e.width/(t+2*e.margin):e.scale},t.getImageWidth=function(e,n){const i=t.getScale(e,n);return Math.floor((e+2*n.margin)*i)},t.qrToImageData=function(e,n,i){const r=n.modules.size,s=n.modules.data,o=t.getScale(r,i),a=Math.floor((r+2*i.margin)*o),c=i.margin*o,l=[i.color.light,i.color.dark];for(let t=0;t<a;t++)for(let n=0;n<a;n++){let u=4*(t*a+n),h=i.color.light;if(t>=c&&n>=c&&t<a-c&&n<a-c){h=l[s[Math.floor((t-c)/o)*r+Math.floor((n-c)/o)]?1:0]}e[u++]=h.r,e[u++]=h.g,e[u++]=h.b,e[u]=h.a}}}(ad),function(t){const e=ad;t.render=function(t,n,i){let r=i,s=n;void 0!==r||n&&n.getContext||(r=n,n=void 0),n||(s=function(){try{return document.createElement("canvas")}catch(dy){throw new Error("You need to specify a canvas element")}}()),r=e.getOptions(r);const o=e.getImageWidth(t.modules.size,r),a=s.getContext("2d"),c=a.createImageData(o,o);return e.qrToImageData(c.data,t,r),function(t,e,n){t.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=n,e.width=n,e.style.height=n+"px",e.style.width=n+"px"}(a,s,o),a.putImageData(c,0,0),s},t.renderToDataURL=function(e,n,i){let r=i;void 0!==r||n&&n.getContext||(r=n,n=void 0),r||(r={});const s=t.render(e,n,r),o=r.type||"image/png",a=r.rendererOpts||{};return s.toDataURL(o,a.quality)}}(od);var cd={};const ld=ad;function ud(t,e){const n=t.a/255,i=e+'="'+t.hex+'"';return n<1?i+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':i}function hd(t,e,n){let i=t+e;return void 0!==n&&(i+=" "+n),i}cd.render=function(t,e,n){const i=ld.getOptions(e),r=t.modules.size,s=t.modules.data,o=r+2*i.margin,a=i.color.light.a?"<path "+ud(i.color.light,"fill")+' d="M0 0h'+o+"v"+o+'H0z"/>':"",c="<path "+ud(i.color.dark,"stroke")+' d="'+function(t,e,n){let i="",r=0,s=!1,o=0;for(let a=0;a<t.length;a++){const c=Math.floor(a%e),l=Math.floor(a/e);c||s||(s=!0),t[a]?(o++,a>0&&c>0&&t[a-1]||(i+=s?hd("M",c+n,.5+l+n):hd("m",r,0),r=0,s=!1),c+1<e&&t[a+1]||(i+=hd("h",o),o=0)):r++}return i}(s,r,i.margin)+'"/>',l='viewBox="0 0 '+o+" "+o+'"',u='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+l+' shape-rendering="crispEdges">'+a+c+"</svg>\n";return"function"==typeof n&&n(null,u),u};const dd=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then},md=Fu,fd=od,pd=cd;function gd(t,e,n,i,r){const s=[].slice.call(arguments,1),o=s.length,a="function"==typeof s[o-1];if(!a&&!dd())throw new Error("Callback required as last argument");if(!a){if(o<1)throw new Error("Too few arguments provided");return 1===o?(n=e,e=i=void 0):2!==o||e.getContext||(i=n,n=e,e=void 0),new Promise(function(r,s){try{const s=md.create(n,i);r(t(s,e,i))}catch(dy){s(dy)}})}if(o<2)throw new Error("Too few arguments provided");2===o?(r=n,n=e,e=i=void 0):3===o&&(e.getContext&&void 0===r?(r=i,i=void 0):(r=i,i=n,n=e,e=void 0));try{const s=md.create(n,i);r(null,t(s,e,i))}catch(dy){r(dy)}}function yd(t){switch(t){case"processed":case"confirmed":case"finalized":case void 0:return t;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}md.create,gd.bind(null,fd.render),gd.bind(null,fd.renderToDataURL),gd.bind(null,function(t,e,n){return pd.render(t,n)});const wd="solana:mainnet",vd="solana:devnet",bd="solana:testnet";const xd="ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",Ed="ERROR_FORBIDDEN_WALLET_BASE_URL",Md="ERROR_SECURE_CONTEXT_REQUIRED",Sd="ERROR_SESSION_CLOSED",Ad="ERROR_SESSION_TIMEOUT",kd="ERROR_WALLET_NOT_FOUND",Id="ERROR_INVALID_PROTOCOL_VERSION";class Nd extends Error{constructor(...t){const[e,n,i]=t;super(n),this.code=e,this.data=i,this.name="SolanaMobileWalletAdapterError"}}class Ld extends Error{constructor(...t){const[e,n,i,r]=t;super(i),this.code=n,this.data=r,this.jsonRpcMessageId=e,this.name="SolanaMobileWalletAdapterProtocolError"}}function jd(t,e,n,i){return new(n||(n=Promise))(function(e,r){function s(t){try{a(i.next(t))}catch(dy){r(dy)}}function o(t){try{a(i.throw(t))}catch(dy){r(dy)}}function a(t){var i;t.done?e(t.value):(i=t.value,i instanceof n?i:new n(function(t){t(i)})).then(s,o)}a((i=i.apply(t,[])).next())})}function Cd(t,e){return jd(this,0,void 0,function*(){const n=yield crypto.subtle.exportKey("raw",t),i=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},e,n),r=new Uint8Array(n.byteLength+i.byteLength);return r.set(new Uint8Array(n),0),r.set(new Uint8Array(i),n.byteLength),r})}function Bd(t){return e=function(t){return function(t){let e=`${t.domain} wants you to sign in with your Solana account:\n`;e+=`${t.address}`,t.statement&&(e+=`\n\n${t.statement}`);const n=[];if(t.uri&&n.push(`URI: ${t.uri}`),t.version&&n.push(`Version: ${t.version}`),t.chainId&&n.push(`Chain ID: ${t.chainId}`),t.nonce&&n.push(`Nonce: ${t.nonce}`),t.issuedAt&&n.push(`Issued At: ${t.issuedAt}`),t.expirationTime&&n.push(`Expiration Time: ${t.expirationTime}`),t.notBefore&&n.push(`Not Before: ${t.notBefore}`),t.requestId&&n.push(`Request ID: ${t.requestId}`),t.resources){n.push("Resources:");for(const e of t.resources)n.push(`- ${e}`)}return n.length&&(e+=`\n\n${n.join("\n")}`),e}(t)}(t),window.btoa(e);var e}const _d="solana:signTransactions",Td="solana:cloneAuthorization";function Rd(t,e){return new Proxy({},{get:(n,i)=>"then"===i?null:(null==n[i]&&(n[i]=function(n){return jd(this,0,void 0,function*(){const{method:r,params:s}=function(t,e,n){let i=e,r=t.toString().replace(/[A-Z]/g,t=>`_${t.toLowerCase()}`).toLowerCase();switch(t){case"authorize":{let{chain:t}=i;if("legacy"===n){switch(t){case"solana:testnet":t="testnet";break;case"solana:devnet":t="devnet";break;case"solana:mainnet":t="mainnet-beta";break;default:t=i.cluster}i.cluster=t}else{switch(t){case"testnet":case"devnet":t=`solana:${t}`;break;case"mainnet-beta":t="solana:mainnet"}i.chain=t}}case"reauthorize":{const{auth_token:t,identity:e}=i;if(t)if("legacy"===n)r="reauthorize",i={auth_token:t,identity:e};else r="authorize";break}}return{method:r,params:i}}(i,n,t),o=yield e(r,s);return"authorize"===r&&s.sign_in_payload&&!o.sign_in_result&&(o.sign_in_result=yield function(t,e,n){var i;return jd(this,0,void 0,function*(){const r=null!==(i=t.domain)&&void 0!==i?i:window.location.host,s=e.accounts[0].address,o=Bd(Object.assign(Object.assign({},t),{domain:r,address:s}));return{address:s,signed_message:o,signature:(yield n("sign_messages",{addresses:[s],payloads:[o]})).signed_payloads[0].slice(o.length)}})}(s.sign_in_payload,o,e)),function(t,e,n){if("getCapabilities"===t){const t=e;switch(n){case"legacy":{const e=[_d];return!0===t.supports_clone_authorization&&e.push(Td),Object.assign(Object.assign({},t),{features:e})}case"v1":return Object.assign(Object.assign({},t),{supports_sign_and_send_transactions:!0,supports_clone_authorization:t.features.includes(Td)})}}return e}(i,o,t)})}),n[i]),defineProperty:()=>!1,deleteProperty:()=>!1})}function Od(t,e,n){return jd(this,0,void 0,function*(){const i=function(t){if(t>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const e=new ArrayBuffer(4);return new DataView(e).setUint32(0,t,!1),new Uint8Array(e)}(e),r=new Uint8Array(12);crypto.getRandomValues(r);const s=yield crypto.subtle.encrypt(zd(i,r),n,(new TextEncoder).encode(t)),o=new Uint8Array(i.byteLength+r.byteLength+s.byteLength);return o.set(new Uint8Array(i),0),o.set(new Uint8Array(r),i.byteLength),o.set(new Uint8Array(s),i.byteLength+r.byteLength),o})}function Dd(t,e){return jd(this,0,void 0,function*(){const n=t.slice(0,4),i=t.slice(4,16),r=t.slice(16),s=yield crypto.subtle.decrypt(zd(n,i),e,r);return function(){void 0===Pd&&(Pd=new TextDecoder("utf-8"));return Pd}().decode(s)})}function zd(t,e){return{additionalData:t,iv:e,name:"AES-GCM",tagLength:128}}let Pd;function Ud(){return jd(this,0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}function qd(t){if(t<49152||t>65535)throw new Nd(xd,`Association port number must be between 49152 and 65535. ${t} given.`,{port:t});return t}function Fd(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function Wd(t,e,n,i=["v1"]){return jd(this,0,void 0,function*(){const r=qd(e),s=function(t){let e="";const n=new Uint8Array(t),i=n.byteLength;for(let r=0;r<i;r++)e+=String.fromCharCode(n[r]);return window.btoa(e)}(yield crypto.subtle.exportKey("raw",t)),o=function(t,e){let n=null;if(e){try{n=new URL(e)}catch(r){}if("https:"!==(null==n?void 0:n.protocol))throw new Nd(Ed,"Base URLs supplied by wallets must be valid `https` URLs")}n||(n=new URL("solana-wallet:/"));const i=t.startsWith("/")?t:[...Fd(n.pathname),...Fd(t)].join("/");return new URL(i,n)}("v1/associate/local",n);return o.searchParams.set("association",s.replace(/[/+=]/g,t=>({"/":"_","+":"-","=":"."}[t]))),o.searchParams.set("port",`${r}`),i.forEach(t=>{o.searchParams.set("v",t)}),o})}const Kd=0,Hd=1;let $d=null;function Vd(t){return jd(this,0,void 0,function*(){if("https:"===t.protocol)window.location.assign(t);else try{const n=-1!==navigator.userAgent.indexOf("Firefox/")?Kd:Hd;switch(n){case Kd:e=t,null==$d&&($d=document.createElement("iframe"),$d.style.display="none",document.body.appendChild($d)),$d.contentWindow.location.href=e.toString();break;case Hd:{const e=new Promise((t,e)=>{function n(){clearTimeout(r),window.removeEventListener("blur",i)}function i(){n(),t()}window.addEventListener("blur",i);const r=setTimeout(()=>{n(),e()},3e3)});window.location.assign(t),yield e;break}}}catch(dy){throw new Nd(kd,"Found no installed wallet that supports the mobile wallet protocol.")}var e})}function Zd(t,e){return jd(this,0,void 0,function*(){const n=qd(49152+Math.floor(16384*Math.random())),i=yield Wd(t,n,e);return yield Vd(i),n})}const Yd={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4};function Gd(t){return new DataView(t).getUint32(0,!1)}function Qd(t,e){return jd(this,0,void 0,function*(){!function(){if("undefined"==typeof window||!0!==window.isSecureContext)throw new Nd(Md,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}();const n=yield function(){return jd(this,0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}(),i=`ws://localhost:${yield Zd(n.publicKey,null==e?void 0:e.baseUri)}/solana-wallet`;let r;const s=(()=>{const t=[...Yd.retryDelayScheduleMs];return()=>t.length>1?t.shift():t[0]})();let o=1,a=0,c={__type:"disconnected"};return new Promise((e,l)=>{let u;const h={},d=()=>jd(this,0,void 0,function*(){if("connecting"!==c.__type)return;u.removeEventListener("open",d);const{associationKeypair:t}=c,e=yield Ud();u.send(yield Cd(e.publicKey,t.privateKey)),c={__type:"hello_req_sent",associationPublicKey:t.publicKey,ecdhPrivateKey:e.privateKey}}),m=t=>{t.wasClean?c={__type:"disconnected"}:l(new Nd(Sd,`The wallet session dropped unexpectedly (${t.code}: ${t.reason}).`,{closeEvent:t})),g()},f=t=>jd(this,0,void 0,function*(){g(),Date.now()-r>=Yd.timeoutMs?l(new Nd(Ad,`Failed to connect to the wallet websocket at ${i}.`)):(yield new Promise(t=>{const e=s();y=window.setTimeout(t,e)}),w())}),p=i=>jd(this,0,void 0,function*(){const r=yield i.data.arrayBuffer();switch(c.__type){case"connecting":if(0!==r.byteLength)throw new Error("Encountered unexpected message while connecting");const i=yield Ud();u.send(yield Cd(i.publicKey,n.privateKey)),c={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:i.privateKey};break;case"connected":try{const t=Gd(r.slice(0,4));if(t!==a+1)throw new Error("Encrypted message has invalid sequence number");a=t;const e=yield function(t,e){return jd(this,0,void 0,function*(){const n=yield Dd(t,e),i=JSON.parse(n);if(Object.hasOwnProperty.call(i,"error"))throw new Ld(i.id,i.error.code,i.error.message);return i})}(r,c.sharedSecret),n=h[e.id];delete h[e.id],n.resolve(e.result)}catch(dy){if(!(dy instanceof Ld))throw dy;{const e=h[dy.jsonRpcMessageId];delete h[dy.jsonRpcMessageId],e.reject(dy)}}break;case"hello_req_sent":{if(0===r.byteLength){const t=yield Ud();u.send(yield Cd(t.publicKey,n.privateKey)),c={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:t.privateKey};break}const i=yield function(t,e,n){return jd(this,0,void 0,function*(){const[i,r]=yield Promise.all([crypto.subtle.exportKey("raw",e),crypto.subtle.importKey("raw",t.slice(0,65),{name:"ECDH",namedCurve:"P-256"},!1,[])]),s=yield crypto.subtle.deriveBits({name:"ECDH",public:r},n,256),o=yield crypto.subtle.importKey("raw",s,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(i),info:new Uint8Array},o,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])})}(r,c.associationPublicKey,c.ecdhPrivateKey),s=r.slice(65),d=0!==s.byteLength?yield(()=>jd(this,0,void 0,function*(){const t=Gd(s.slice(0,4));if(t!==a+1)throw new Error("Encrypted message has invalid sequence number");return a=t,function(t,e){return jd(this,0,void 0,function*(){const n=yield Dd(t,e),i=JSON.parse(n);let r="legacy";if(Object.hasOwnProperty.call(i,"v"))switch(i.v){case 1:case"1":case"v1":r="v1";break;case"legacy":r="legacy";break;default:throw new Nd(Id,`Unknown/unsupported protocol version: ${i.v}`)}return{protocol_version:r}})}(s,i)}))():{protocol_version:"legacy"};c={__type:"connected",sharedSecret:i,sessionProperties:d};const m=Rd(d.protocol_version,(t,e)=>jd(this,0,void 0,function*(){const n=o++;return u.send(yield function(t,e){return jd(this,0,void 0,function*(){return Od(JSON.stringify(t),t.id,e)})}({id:n,jsonrpc:"2.0",method:t,params:null!=e?e:{}},i)),new Promise((e,i)=>{h[n]={resolve(n){switch(t){case"authorize":case"reauthorize":{const{wallet_uri_base:t}=n;if(null!=t)try{!function(t){let e;try{e=new URL(t)}catch(n){throw new Nd(Ed,"Invalid base URL supplied by wallet")}if("https:"!==e.protocol)throw new Nd(Ed,"Base URLs supplied by wallets must be valid `https` URLs")}(t)}catch(dy){return void i(dy)}break}}e(n)},reject:i}})}));try{e(yield t(m))}catch(dy){l(dy)}finally{g(),u.close()}break}}});let g,y;const w=()=>{g&&g(),c={__type:"connecting",associationKeypair:n},void 0===r&&(r=Date.now()),u=new WebSocket(i,["com.solana.mobilewalletadapter.v1"]),u.addEventListener("open",d),u.addEventListener("close",m),u.addEventListener("error",f),u.addEventListener("message",p),g=()=>{window.clearTimeout(y),u.removeEventListener("open",d),u.removeEventListener("close",m),u.removeEventListener("error",f),u.removeEventListener("message",p)}};w()})})}var Jd=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var i=0;i<t.length;i++){var r=t.charAt(i),s=r.charCodeAt(0);if(255!==e[s])throw new TypeError(r+" is ambiguous");e[s]=i}var o=t.length,a=t.charAt(0),c=Math.log(o)/Math.log(256),l=Math.log(256)/Math.log(o);function u(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return new Uint8Array;for(var n=0,i=0,r=0;t[n]===a;)i++,n++;for(var s=(t.length-n)*c+1>>>0,l=new Uint8Array(s);t[n];){var u=t.charCodeAt(n);if(u>255)return;var h=e[u];if(255===h)return;for(var d=0,m=s-1;(0!==h||d<r)&&-1!==m;m--,d++)h+=o*l[m]>>>0,l[m]=h%256>>>0,h=h/256>>>0;if(0!==h)throw new Error("Non-zero carry");r=d,n++}for(var f=s-r;f!==s&&0===l[f];)f++;for(var p=new Uint8Array(i+(s-f)),g=i;f!==s;)p[g++]=l[f++];return p}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===e.length)return"";for(var n=0,i=0,r=0,s=e.length;r!==s&&0===e[r];)r++,n++;for(var c=(s-r)*l+1>>>0,u=new Uint8Array(c);r!==s;){for(var h=e[r],d=0,m=c-1;(0!==h||d<i)&&-1!==m;m--,d++)h+=256*u[m]>>>0,u[m]=h%o>>>0,h=h/o>>>0;if(0!==h)throw new Error("Non-zero carry");i=d,r++}for(var f=c-i;f!==c&&0===u[f];)f++;for(var p=a.repeat(n);f<c;++f)p+=t.charAt(u[f]);return p},decodeUnsafe:u,decode:function(t){var e=u(t);if(e)return e;throw new Error("Non-base"+o+" character")}}};const Xd=o(Jd("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"));function tm(t,e,n,i){return new(n||(n=Promise))(function(e,r){function s(t){try{a(i.next(t))}catch(dy){r(dy)}}function o(t){try{a(i.throw(t))}catch(dy){r(dy)}}function a(t){var i;t.done?e(t.value):(i=t.value,i instanceof n?i:new n(function(t){t(i)})).then(s,o)}a((i=i.apply(t,[])).next())})}function em(t,e,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(t):i?i.value:e.get(t)}function nm(t,e,n,i,r){if("function"==typeof e||!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var im,rm,sm,om,am,cm,lm,um;class hm{constructor(){im.add(this),rm.set(this,null),sm.set(this,{}),om.set(this,!1),this.dom=null,this.open=()=>{em(this,im,"m",cm).call(this),em(this,rm,"f")&&(em(this,rm,"f").style.display="flex")},this.close=(t=void 0)=>{var e;em(this,im,"m",lm).call(this),em(this,rm,"f")&&(em(this,rm,"f").style.display="none"),null===(e=em(this,sm,"f").close)||void 0===e||e.forEach(e=>e(t))},um.set(this,t=>{"Escape"===t.key&&this.close(t)}),this.init=this.init.bind(this),nm(this,rm,document.getElementById("mobile-wallet-adapter-embedded-root-ui"))}init(){return tm(this,0,void 0,function*(){em(this,im,"m",am).call(this)})}addEventListener(t,e){var n;return(null===(n=em(this,sm,"f")[t])||void 0===n?void 0:n.push(e))||(em(this,sm,"f")[t]=[e]),()=>this.removeEventListener(t,e)}removeEventListener(t,e){var n;em(this,sm,"f")[t]=null===(n=em(this,sm,"f")[t])||void 0===n?void 0:n.filter(t=>e!==t)}}rm=new WeakMap,sm=new WeakMap,om=new WeakMap,um=new WeakMap,im=new WeakSet,am=function(){if(document.getElementById("mobile-wallet-adapter-embedded-root-ui"))return void(em(this,rm,"f")||nm(this,rm,document.getElementById("mobile-wallet-adapter-embedded-root-ui")));nm(this,rm,document.createElement("div")),em(this,rm,"f").id="mobile-wallet-adapter-embedded-root-ui",em(this,rm,"f").innerHTML='\n<div class="mobile-wallet-adapter-embedded-modal-container" role="dialog" aria-modal="true" aria-labelledby="modal-title">\n    <div data-modal-close style="position: absolute; width: 100%; height: 100%;"></div>\n\t<div class="mobile-wallet-adapter-embedded-modal-card">\n\t\t<div>\n\t\t\t<button data-modal-close class="mobile-wallet-adapter-embedded-modal-close">\n\t\t\t\t<svg width="14" height="14">\n\t\t\t\t\t<path d="M 6.7125,8.3036995 1.9082,13.108199 c -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 C 0.1056,12.896899 0,12.631699 0,12.312499 c 0,-0.3192 0.1056,-0.5844 0.3167,-0.7958 L 5.1212,6.7124995 0.3167,1.9082 C 0.1056,1.6969 0,1.4317 0,1.1125 0,0.7933 0.1056,0.5281 0.3167,0.3167 0.5281,0.1056 0.7933,0 1.1125,0 1.4317,0 1.6969,0.1056 1.9082,0.3167 L 6.7125,5.1212 11.5167,0.3167 C 11.7281,0.1056 11.9933,0 12.3125,0 c 0.3192,0 0.5844,0.1056 0.7957,0.3167 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 L 8.3037001,6.7124995 13.1082,11.516699 c 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 z" />\n\t\t\t\t</svg>\n\t\t\t</button>\n\t\t</div>\n\t\t<div class="mobile-wallet-adapter-embedded-modal-content"></div>\n\t</div>\n</div>\n',em(this,rm,"f").style.display="none";const t=em(this,rm,"f").querySelector(".mobile-wallet-adapter-embedded-modal-content");t&&(t.innerHTML=this.contentHtml);const e=document.createElement("style");e.id="mobile-wallet-adapter-embedded-modal-styles",e.textContent='\n.mobile-wallet-adapter-embedded-modal-container {\n    display: flex; /* Use flexbox to center content */\n    justify-content: center; /* Center horizontally */\n    align-items: center; /* Center vertically */\n    position: fixed; /* Stay in place */\n    z-index: 1; /* Sit on top */\n    left: 0;\n    top: 0;\n    width: 100%; /* Full width */\n    height: 100%; /* Full height */\n    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */\n    overflow-y: auto; /* enable scrolling */\n}\n\n.mobile-wallet-adapter-embedded-modal-card {\n    display: flex;\n    flex-direction: column;\n    margin: auto 20px;\n    max-width: 780px;\n    padding: 20px;\n    border-radius: 24px;\n    background: #ffffff;\n    font-family: "Inter Tight", "PT Sans", Calibri, sans-serif;\n    transform: translateY(-200%);\n    animation: slide-in 0.5s forwards;\n}\n\n@keyframes slide-in {\n    100% { transform: translateY(0%); }\n}\n\n.mobile-wallet-adapter-embedded-modal-close {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 32px;\n    height: 32px;\n    cursor: pointer;\n    background: #e4e9e9;\n    border: none;\n    border-radius: 50%;\n}\n\n.mobile-wallet-adapter-embedded-modal-close:focus-visible {\n    outline-color: red;\n}\n\n.mobile-wallet-adapter-embedded-modal-close svg {\n    fill: #546266;\n    transition: fill 200ms ease 0s;\n}\n\n.mobile-wallet-adapter-embedded-modal-close:hover svg {\n    fill: #fff;\n}\n'+this.contentStyles;const n=document.createElement("div");n.innerHTML='\n<link rel="preconnect" href="https://fonts.googleapis.com">\n<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>\n<link href="https://fonts.googleapis.com/css2?family=Inter+Tight:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">\n',this.dom=n.attachShadow({mode:"closed"}),this.dom.appendChild(e),this.dom.appendChild(em(this,rm,"f")),document.body.appendChild(n)},cm=function(){if(!em(this,rm,"f")||em(this,om,"f"))return;[...em(this,rm,"f").querySelectorAll("[data-modal-close]")].forEach(t=>null==t?void 0:t.addEventListener("click",this.close)),window.addEventListener("load",this.close),document.addEventListener("keydown",em(this,um,"f")),nm(this,om,!0)},lm=function(){if(!em(this,om,"f"))return;if(window.removeEventListener("load",this.close),document.removeEventListener("keydown",em(this,um,"f")),!em(this,rm,"f"))return;[...em(this,rm,"f").querySelectorAll("[data-modal-close]")].forEach(t=>null==t?void 0:t.removeEventListener("click",this.close)),nm(this,om,!1)};function dm(t){return window.btoa(String.fromCharCode.call(null,...t))}function mm(t){return new Uint8Array(window.atob(t).split("").map(t=>t.charCodeAt(0)))}var fm,pm,gm,ym,wm,vm,bm,xm,Em,Mm,Sm,Am,km,Im,Nm,Lm,jm,Cm,Bm,_m,Tm,Rm,Om,Dm,zm,Pm,Um,qm,Fm,Wm,Km,Hm,$m,Vm;const Zm="Mobile Wallet Adapter",Ym=[Iu,ju,Lu,Nu];class Gm{constructor(t){fm.add(this),pm.set(this,{}),gm.set(this,"1.0.0"),ym.set(this,Zm),wm.set(this,"https://solanamobile.com/wallets"),vm.set(this,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDIuNUgxN0MxNy44Mjg0IDIuNSAxOC41IDMuMTcxNTcgMTguNSA0VjIwQzE4LjUgMjAuODI4NCAxNy44Mjg0IDIxLjUgMTcgMjEuNUg3QzYuMTcxNTcgMjEuNSA1LjUgMjAuODI4NCA1LjUgMjBWNEM1LjUgMy4xNzE1NyA2LjE3MTU3IDIuNSA3IDIuNVpNMyA0QzMgMS43OTA4NiA0Ljc5MDg2IDAgNyAwSDE3QzE5LjIwOTEgMCAyMSAxLjc5MDg2IDIxIDRWMjBDMjEgMjIuMjA5MSAxOS4yMDkxIDI0IDE3IDI0SDdDNC43OTA4NiAyNCAzIDIyLjIwOTEgMyAyMFY0Wk0xMSA0LjYxNTM4QzEwLjQ0NzcgNC42MTUzOCAxMCA1LjA2MzEgMTAgNS42MTUzOFY2LjM4NDYyQzEwIDYuOTM2OSAxMC40NDc3IDcuMzg0NjIgMTEgNy4zODQ2MkgxM0MxMy41NTIzIDcuMzg0NjIgMTQgNi45MzY5IDE0IDYuMzg0NjJWNS42MTUzOEMxNCA1LjA2MzEgMTMuNTUyMyA0LjYxNTM4IDEzIDQuNjE1MzhIMTFaIiBmaWxsPSIjRENCOEZGIi8+Cjwvc3ZnPgo="),bm.set(this,void 0),xm.set(this,void 0),Em.set(this,void 0),Mm.set(this,!1),Sm.set(this,0),Am.set(this,[]),km.set(this,void 0),Im.set(this,void 0),Nm.set(this,void 0),Lm.set(this,(t,e)=>{var n;return(null===(n=em(this,pm,"f")[t])||void 0===n?void 0:n.push(e))||(em(this,pm,"f")[t]=[e]),()=>em(this,fm,"m",Cm).call(this,t,e)}),Bm.set(this,({silent:t}={})=>tm(this,0,void 0,function*(){if(em(this,Mm,"f")||this.connected)return{accounts:this.accounts};nm(this,Mm,!0);try{if(t){const t=yield em(this,Em,"f").get();if(!t)return{accounts:this.accounts};yield em(this,Rm,"f").call(this,t.capabilities),yield em(this,Tm,"f").call(this,t)}else yield em(this,_m,"f").call(this)}catch(dy){throw new Error(dy instanceof Error&&dy.message||"Unknown error")}finally{nm(this,Mm,!1)}return{accounts:this.accounts}})),_m.set(this,t=>tm(this,0,void 0,function*(){try{const e=yield em(this,Em,"f").get();if(e)return em(this,Tm,"f").call(this,e),e;const n=yield em(this,km,"f").select(em(this,Am,"f"));return yield em(this,zm,"f").call(this,e=>tm(this,0,void 0,function*(){const[i,r]=yield Promise.all([e.getCapabilities(),e.authorize({chain:n,identity:em(this,bm,"f"),sign_in_payload:t})]),s=em(this,Um,"f").call(this,r.accounts),o=Object.assign(Object.assign({},r),{accounts:s,chain:n,capabilities:i});return Promise.all([em(this,Rm,"f").call(this,i),em(this,Em,"f").set(o),em(this,Tm,"f").call(this,o)]),o}))}catch(dy){throw new Error(dy instanceof Error&&dy.message||"Unknown error")}})),Tm.set(this,t=>tm(this,0,void 0,function*(){var e;const n=null==em(this,xm,"f")||(null===(e=em(this,xm,"f"))||void 0===e?void 0:e.accounts.length)!==t.accounts.length||em(this,xm,"f").accounts.some((e,n)=>e.address!==t.accounts[n].address);nm(this,xm,t),n&&em(this,fm,"m",jm).call(this,"change",{accounts:this.accounts})})),Rm.set(this,t=>tm(this,0,void 0,function*(){const e=t.features.includes("solana:signTransactions"),n=t.supports_sign_and_send_transactions,i=Iu in this.features!==n||ju in this.features!==e;nm(this,Im,Object.assign(Object.assign({},(n||!n&&!e)&&{[Iu]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:em(this,Wm,"f")}}),e&&{[ju]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:em(this,Km,"f")}})),i&&em(this,fm,"m",jm).call(this,"change",{features:this.features})})),Om.set(this,(t,e,n)=>tm(this,0,void 0,function*(){var i,r;try{const[s,o]=yield Promise.all([null!==(r=null===(i=em(this,xm,"f"))||void 0===i?void 0:i.capabilities)&&void 0!==r?r:yield t.getCapabilities(),t.authorize({auth_token:e,identity:em(this,bm,"f"),chain:n})]),a=em(this,Um,"f").call(this,o.accounts),c=Object.assign(Object.assign({},o),{accounts:a,chain:n,capabilities:s});Promise.all([em(this,Em,"f").set(c),em(this,Tm,"f").call(this,c)])}catch(dy){throw em(this,Dm,"f").call(this),new Error(dy instanceof Error&&dy.message||"Unknown error")}})),Dm.set(this,()=>tm(this,0,void 0,function*(){var t;em(this,Em,"f").clear(),nm(this,Mm,!1),nm(this,Sm,(t=em(this,Sm,"f"),++t)),nm(this,xm,void 0),em(this,fm,"m",jm).call(this,"change",{accounts:this.accounts})})),zm.set(this,t=>tm(this,0,void 0,function*(){var e;const n=null===(e=em(this,xm,"f"))||void 0===e?void 0:e.wallet_uri_base,i=n?{baseUri:n}:void 0,r=em(this,Sm,"f");try{return yield Qd(t,i)}catch(dy){throw em(this,Sm,"f")!==r&&(yield new Promise(()=>{})),dy instanceof Error&&"SolanaMobileWalletAdapterError"===dy.name&&"ERROR_WALLET_NOT_FOUND"===dy.code&&(yield em(this,Nm,"f").call(this,this)),dy}})),Pm.set(this,()=>{if(!em(this,xm,"f"))throw new Error("Wallet not connected");return{authToken:em(this,xm,"f").auth_token,chain:em(this,xm,"f").chain}}),Um.set(this,t=>t.map(t=>{var e,n;const i=mm(t.address);return{address:Xd.encode(i),publicKey:i,label:t.label,icon:t.icon,chains:null!==(e=t.chains)&&void 0!==e?e:em(this,Am,"f"),features:null!==(n=t.features)&&void 0!==n?n:Ym}})),qm.set(this,t=>tm(this,0,void 0,function*(){const{authToken:e,chain:n}=em(this,Pm,"f").call(this);try{const i=t.map(t=>dm(t));return yield em(this,zm,"f").call(this,t=>tm(this,0,void 0,function*(){yield em(this,Om,"f").call(this,t,e,n);return(yield t.signTransactions({payloads:i})).signed_payloads.map(mm)}))}catch(dy){throw new Error(dy instanceof Error&&dy.message||"Unknown error")}})),Fm.set(this,(t,e)=>tm(this,0,void 0,function*(){const{authToken:n,chain:i}=em(this,Pm,"f").call(this);try{return yield em(this,zm,"f").call(this,r=>tm(this,0,void 0,function*(){const[s,o]=yield Promise.all([r.getCapabilities(),em(this,Om,"f").call(this,r,n,i)]);if(s.supports_sign_and_send_transactions){const n=dm(t);return(yield r.signAndSendTransactions(Object.assign(Object.assign({},e),{payloads:[n]}))).signatures.map(mm)[0]}throw new Error("connected wallet does not support signAndSendTransaction")}))}catch(dy){throw new Error(dy instanceof Error&&dy.message||"Unknown error")}})),Wm.set(this,(...t)=>tm(this,0,void 0,function*(){const e=[];for(const n of t){const t=yield em(this,Fm,"f").call(this,n.transaction,n.options);e.push({signature:t})}return e})),Km.set(this,(...t)=>tm(this,0,void 0,function*(){return(yield em(this,qm,"f").call(this,t.map(({transaction:t})=>t))).map(t=>({signedTransaction:t}))})),Hm.set(this,(...t)=>tm(this,0,void 0,function*(){const{authToken:e,chain:n}=em(this,Pm,"f").call(this),i=t.map(({account:t})=>dm(t.publicKey)),r=t.map(({message:t})=>dm(t));try{return yield em(this,zm,"f").call(this,t=>tm(this,0,void 0,function*(){yield em(this,Om,"f").call(this,t,e,n);return(yield t.signMessages({addresses:i,payloads:r})).signed_payloads.map(mm).map(t=>({signedMessage:t,signature:t.slice(-64)}))}))}catch(dy){throw new Error(dy instanceof Error&&dy.message||"Unknown error")}})),$m.set(this,(...t)=>tm(this,0,void 0,function*(){const e=[];if(!(t.length>1))return[yield em(this,Vm,"f").call(this,t[0])];for(const n of t)e.push(yield em(this,Vm,"f").call(this,n));return e})),Vm.set(this,t=>tm(this,0,void 0,function*(){var e,n,i;nm(this,Mm,!0);try{const r=yield em(this,_m,"f").call(this,Object.assign(Object.assign({},t),{domain:null!==(e=null==t?void 0:t.domain)&&void 0!==e?e:window.location.host}));if(!r.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const s=r.sign_in_result.address,o=r.accounts.find(t=>t.address==s);return{account:Object.assign(Object.assign({},null!=o?o:{address:Xd.encode(mm(s))}),{publicKey:mm(s),chains:null!==(n=null==o?void 0:o.chains)&&void 0!==n?n:em(this,Am,"f"),features:null!==(i=null==o?void 0:o.features)&&void 0!==i?i:r.capabilities.features}),signedMessage:mm(r.sign_in_result.signed_message),signature:mm(r.sign_in_result.signature)}}catch(dy){throw new Error(dy instanceof Error&&dy.message||"Unknown error")}finally{nm(this,Mm,!1)}})),nm(this,Em,t.authorizationCache),nm(this,bm,t.appIdentity),nm(this,Am,t.chains),nm(this,km,t.chainSelector),nm(this,Nm,t.onWalletNotFound),nm(this,Im,{[Iu]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:em(this,Wm,"f")},[ju]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:em(this,Km,"f")}})}get version(){return em(this,gm,"f")}get name(){return em(this,ym,"f")}get url(){return em(this,wm,"f")}get icon(){return em(this,vm,"f")}get chains(){return em(this,Am,"f")}get features(){return Object.assign({[Cu]:{version:"1.0.0",connect:em(this,Bm,"f")},[Bu]:{version:"1.0.0",disconnect:em(this,Dm,"f")},[_u]:{version:"1.0.0",on:em(this,Lm,"f")},[Lu]:{version:"1.0.0",signMessage:em(this,Hm,"f")},[Nu]:{version:"1.0.0",signIn:em(this,$m,"f")}},em(this,Im,"f"))}get accounts(){var t,e;return null!==(e=null===(t=em(this,xm,"f"))||void 0===t?void 0:t.accounts)&&void 0!==e?e:[]}get connected(){return!!em(this,xm,"f")}get isAuthorized(){return!!em(this,xm,"f")}get currentAuthorization(){return em(this,xm,"f")}get cachedAuthorizationResult(){return em(this,Em,"f").get()}}pm=new WeakMap,gm=new WeakMap,ym=new WeakMap,wm=new WeakMap,vm=new WeakMap,bm=new WeakMap,xm=new WeakMap,Em=new WeakMap,Mm=new WeakMap,Sm=new WeakMap,Am=new WeakMap,km=new WeakMap,Im=new WeakMap,Nm=new WeakMap,Lm=new WeakMap,Bm=new WeakMap,_m=new WeakMap,Tm=new WeakMap,Rm=new WeakMap,Om=new WeakMap,Dm=new WeakMap,zm=new WeakMap,Pm=new WeakMap,Um=new WeakMap,qm=new WeakMap,Fm=new WeakMap,Wm=new WeakMap,Km=new WeakMap,Hm=new WeakMap,$m=new WeakMap,Vm=new WeakMap,fm=new WeakSet,jm=function(t,...e){var n;null===(n=em(this,pm,"f")[t])||void 0===n||n.forEach(t=>t.apply(null,e))},Cm=function(t,e){var n;em(this,pm,"f")[t]=null===(n=em(this,pm,"f")[t])||void 0===n?void 0:n.filter(t=>e!==t)};class Qm extends hm{constructor(){super(...arguments),this.contentStyles=Xm,this.contentHtml=Jm}initWithError(t){super.init(),this.populateError(t)}populateError(t){var e,n;const i=null===(e=this.dom)||void 0===e?void 0:e.getElementById("mobile-wallet-adapter-error-message"),r=null===(n=this.dom)||void 0===n?void 0:n.getElementById("mobile-wallet-adapter-error-action");if(i){if("SolanaMobileWalletAdapterError"===t.name)switch(t.code){case"ERROR_WALLET_NOT_FOUND":return i.innerHTML="To use mobile wallet adapter, you must have a compatible mobile wallet application installed on your device.",void(r&&r.addEventListener("click",()=>{window.location.href="https://solanamobile.com/wallets"}));case"ERROR_BROWSER_NOT_SUPPORTED":return i.innerHTML="This browser appears to be incompatible with mobile wallet adapter. Open this page in a compatible mobile browser app and try again.",void(r&&(r.style.display="none"))}i.innerHTML=`An unexpected error occurred: ${t.message}`}}}const Jm='\n<svg class="mobile-wallet-adapter-embedded-modal-error-icon" xmlns="http://www.w3.org/2000/svg" height="50px" viewBox="0 -960 960 960" width="50px" fill="#000000"><path d="M 280,-80 Q 197,-80 138.5,-138.5 80,-197 80,-280 80,-363 138.5,-421.5 197,-480 280,-480 q 83,0 141.5,58.5 58.5,58.5 58.5,141.5 0,83 -58.5,141.5 Q 363,-80 280,-80 Z M 824,-120 568,-376 Q 556,-389 542.5,-402.5 529,-416 516,-428 q 38,-24 61,-64 23,-40 23,-88 0,-75 -52.5,-127.5 Q 495,-760 420,-760 345,-760 292.5,-707.5 240,-655 240,-580 q 0,6 0.5,11.5 0.5,5.5 1.5,11.5 -18,2 -39.5,8 -21.5,6 -38.5,14 -2,-11 -3,-22 -1,-11 -1,-23 0,-109 75.5,-184.5 Q 311,-840 420,-840 q 109,0 184.5,75.5 75.5,75.5 75.5,184.5 0,43 -13.5,81.5 Q 653,-460 629,-428 l 251,252 z m -615,-61 71,-71 70,71 29,-28 -71,-71 71,-71 -28,-28 -71,71 -71,-71 -28,28 71,71 -71,71 z"/></svg>\n<div class="mobile-wallet-adapter-embedded-modal-title">We can\'t find a wallet.</div>\n<div id="mobile-wallet-adapter-error-message" class="mobile-wallet-adapter-embedded-modal-subtitle"></div>\n<div>\n    <button data-error-action id="mobile-wallet-adapter-error-action" class="mobile-wallet-adapter-embedded-modal-error-action">\n        Find a wallet\n    </button>\n</div>\n',Xm="\n.mobile-wallet-adapter-embedded-modal-content {\n    text-align: center;\n}\n\n.mobile-wallet-adapter-embedded-modal-error-icon {\n    margin-top: 24px;\n}\n\n.mobile-wallet-adapter-embedded-modal-title {\n    margin: 18px 100px auto 100px;\n    color: #000000;\n    font-size: 2.75em;\n    font-weight: 600;\n}\n\n.mobile-wallet-adapter-embedded-modal-subtitle {\n    margin: 30px 60px 40px 60px;\n    color: #000000;\n    font-size: 1.25em;\n    font-weight: 400;\n}\n\n.mobile-wallet-adapter-embedded-modal-error-action {\n    display: block;\n    width: 100%;\n    height: 56px;\n    /*margin-top: 40px;*/\n    font-size: 1.25em;\n    /*line-height: 24px;*/\n    /*letter-spacing: -1%;*/\n    background: #000000;\n    color: #FFFFFF;\n    border-radius: 18px;\n}\n\n/* Smaller screens */\n@media all and (max-width: 600px) {\n    .mobile-wallet-adapter-embedded-modal-title {\n        font-size: 1.5em;\n        margin-right: 12px;\n        margin-left: 12px;\n    }\n    .mobile-wallet-adapter-embedded-modal-subtitle {\n        margin-right: 12px;\n        margin-left: 12px;\n    }\n}\n";const tf="SolanaMobileWalletAdapterDefaultAuthorizationCache";function ef(t,e,n,i){return new(n||(n=Promise))(function(e,r){function s(t){try{a(i.next(t))}catch(dy){r(dy)}}function o(t){try{a(i.throw(t))}catch(dy){r(dy)}}function a(t){var i;t.done?e(t.value):(i=t.value,i instanceof n?i:new n(function(t){t(i)})).then(s,o)}a((i=i.apply(t,[])).next())})}function nf(t,e,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(t):i?i.value:e.get(t)}function rf(t,e,n,i,r){if("function"==typeof e||!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}const sf="standard:connect";function of(t){return window.btoa(String.fromCharCode.call(null,...t))}var af,cf,lf,uf,hf,df,mf,ff,pf,gf,yf,wf,vf;const bf=Zm;function xf(t){switch(t){case"mainnet-beta":return"solana:mainnet";case"testnet":return"solana:testnet";case"devnet":return"solana:devnet";default:return t}}class Ef extends ku{constructor(t,e){super(),af.add(this),this.supportedTransactionVersions=new Set(["legacy",0]),cf.set(this,void 0),lf.set(this,!1),uf.set(this,"undefined"!=typeof window&&window.isSecureContext&&"undefined"!=typeof document&&/android/i.test(navigator.userAgent)?wu.Loadable:wu.Unsupported),hf.set(this,void 0),df.set(this,void 0),mf.set(this,void 0),ff.set(this,t=>ef(this,0,void 0,function*(){if(t.accounts&&t.accounts.length>0){nf(this,af,"m",gf).call(this);const e=yield nf(this,hf,"f").call(this,t.accounts);e!==nf(this,df,"f")&&(rf(this,df,e),rf(this,mf,void 0),this.emit("connect",this.publicKey))}})),rf(this,hf,t=>ef(this,0,void 0,function*(){var n;const i=yield e.addressSelector.select(t.map(({publicKey:t})=>of(t)));return null!==(n=t.find(({publicKey:t})=>of(t)===i))&&void 0!==n?n:t[0]})),rf(this,cf,t),nf(this,cf,"f").features["standard:events"].on("change",nf(this,ff,"f")),this.name=nf(this,cf,"f").name,this.icon=nf(this,cf,"f").icon,this.url=nf(this,cf,"f").url}get publicKey(){var t;if(!nf(this,mf,"f")&&nf(this,df,"f"))try{rf(this,mf,new ba(nf(this,df,"f").publicKey))}catch(dy){throw new du(dy instanceof Error&&(null==dy?void 0:dy.message)||"Unknown error",dy)}return null!==(t=nf(this,mf,"f"))&&void 0!==t?t:null}get connected(){return nf(this,cf,"f").connected}get connecting(){return nf(this,lf,"f")}get readyState(){return nf(this,uf,"f")}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return ef(this,0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return ef(this,0,void 0,function*(){nf(this,af,"m",pf).call(this,!0)})}connect(){return ef(this,0,void 0,function*(){nf(this,af,"m",pf).call(this)})}performAuthorization(t){return ef(this,0,void 0,function*(){try{const e=yield nf(this,cf,"f").cachedAuthorizationResult;if(e)return yield nf(this,cf,"f").features[sf].connect({silent:!0}),e;t?yield nf(this,cf,"f").features[Nu].signIn(t):yield nf(this,cf,"f").features[sf].connect();return yield yield nf(this,cf,"f").cachedAuthorizationResult}catch(dy){throw new cu(dy instanceof Error&&dy.message||"Unknown error",dy)}})}disconnect(){return ef(this,0,void 0,function*(){return yield nf(this,af,"m",vf).call(this,()=>ef(this,0,void 0,function*(){rf(this,lf,!1),rf(this,mf,void 0),rf(this,df,void 0),yield nf(this,cf,"f").features["standard:disconnect"].disconnect(),this.emit("disconnect")}))})}signIn(t){return ef(this,0,void 0,function*(){return nf(this,af,"m",vf).call(this,()=>ef(this,0,void 0,function*(){var e;if(nf(this,uf,"f")!==wu.Installed&&nf(this,uf,"f")!==wu.Loadable)throw new su;rf(this,lf,!0);try{const n=yield nf(this,cf,"f").features[Nu].signIn(Object.assign(Object.assign({},t),{domain:null!==(e=null==t?void 0:t.domain)&&void 0!==e?e:window.location.host}));if(n.length>0)return n[0];throw new Error("Sign in failed, no sign in result returned by wallet")}catch(dy){throw new cu(dy instanceof Error&&dy.message||"Unknown error",dy)}finally{rf(this,lf,!1)}}))})}signMessage(t){return ef(this,0,void 0,function*(){return yield nf(this,af,"m",vf).call(this,()=>ef(this,0,void 0,function*(){const e=nf(this,af,"m",yf).call(this);try{return(yield nf(this,cf,"f").features[Lu].signMessage({account:e,message:t}))[0].signature}catch(n){throw new gu(null==n?void 0:n.message,n)}}))})}sendTransaction(t,e,n){return ef(this,0,void 0,function*(){return yield nf(this,af,"m",vf).call(this,()=>ef(this,0,void 0,function*(){const i=nf(this,af,"m",yf).call(this);try{let r=function(){let t,i;switch(e.commitment){case"confirmed":case"finalized":case"processed":t=e.commitment;break;default:t="finalized"}switch(null==n?void 0:n.preflightCommitment){case"confirmed":case"finalized":case"processed":i=n.preflightCommitment;break;case void 0:i=t;break;default:i="finalized"}return("finalized"===i?2:"confirmed"===i?1:0)<("finalized"===t?2:"confirmed"===t?1:0)?i:t};if(Iu in nf(this,cf,"f").features){const e=xf(nf(this,cf,"f").currentAuthorization.chain),[r]=(yield nf(this,cf,"f").features[Iu].signAndSendTransaction({account:i,transaction:t.serialize(),chain:e,options:n?{skipPreflight:n.skipPreflight,maxRetries:n.maxRetries}:void 0})).map(t=>of(t.signature));return r}{const[i]=yield nf(this,af,"m",wf).call(this,[t]);if(function(t){return"version"in t}(i))return yield e.sendTransaction(i);{const t=i.serialize();return yield e.sendRawTransaction(t,Object.assign(Object.assign({},n),{preflightCommitment:r()}))}}}catch(r){throw new fu(null==r?void 0:r.message,r)}}))})}signTransaction(t){return ef(this,0,void 0,function*(){return yield nf(this,af,"m",vf).call(this,()=>ef(this,0,void 0,function*(){const[e]=yield nf(this,af,"m",wf).call(this,[t]);return e}))})}signAllTransactions(t){return ef(this,0,void 0,function*(){return yield nf(this,af,"m",vf).call(this,()=>ef(this,0,void 0,function*(){return yield nf(this,af,"m",wf).call(this,t)}))})}}cf=new WeakMap,lf=new WeakMap,uf=new WeakMap,hf=new WeakMap,df=new WeakMap,mf=new WeakMap,ff=new WeakMap,af=new WeakSet,pf=function(t=!1){return ef(this,0,void 0,function*(){if(!this.connecting&&!this.connected)return yield nf(this,af,"m",vf).call(this,()=>ef(this,0,void 0,function*(){if(nf(this,uf,"f")!==wu.Installed&&nf(this,uf,"f")!==wu.Loadable)throw new su;rf(this,lf,!0);try{yield nf(this,cf,"f").features[sf].connect({silent:t})}catch(dy){throw new cu(dy instanceof Error&&dy.message||"Unknown error",dy)}finally{rf(this,lf,!1)}}))})},gf=function(){nf(this,uf,"f")!==wu.Installed&&this.emit("readyStateChange",rf(this,uf,wu.Installed))},yf=function(){if(!nf(this,cf,"f").isAuthorized||!nf(this,df,"f"))throw new mu;return nf(this,df,"f")},wf=function(t){return ef(this,0,void 0,function*(){const e=nf(this,af,"m",yf).call(this);try{if(ju in nf(this,cf,"f").features)return nf(this,cf,"f").features[ju].signTransaction(...t.map(t=>({account:e,transaction:t.serialize()}))).then(t=>t.map(t=>{const e=t.signedTransaction,n=64*e[0]+1;return"legacy"===za.deserializeMessageVersion(e.slice(n,e.length))?Fa.from(e):Wa.deserialize(e)}));throw new Error("Connected wallet does not support signing transactions")}catch(n){throw new pu(null==n?void 0:n.message,n)}})},vf=function(t){return ef(this,0,void 0,function*(){try{return yield t()}catch(dy){throw this.emit("error",dy),dy}})};class Mf extends Ef{constructor(t){var e;const n=xf(null!==(e=t.chain)&&void 0!==e?e:t.cluster);super(new Gm({appIdentity:t.appIdentity,authorizationCache:{set:t.authorizationResultCache.set,get:()=>ef(this,0,void 0,function*(){return yield t.authorizationResultCache.get()}),clear:t.authorizationResultCache.clear},chains:[n],chainSelector:{select(t){return tm(this,0,void 0,function*(){return 1===t.length?t[0]:t.includes(wd)?wd:t[0]})}},onWalletNotFound:()=>ef(this,0,void 0,function*(){t.onWalletNotFound(this)})}),{addressSelector:t.addressSelector,chain:n})}}class Sf extends Mf{}function Af(){return function(){let t;try{t=window.localStorage}catch(e){}return{clear(){return tm(this,0,void 0,function*(){if(t)try{t.removeItem(tf)}catch(e){}})},get(){return tm(this,0,void 0,function*(){if(t)try{const e=JSON.parse(t.getItem(tf));if(e&&e.accounts){const t=e.accounts.map(t=>Object.assign(Object.assign({},t),{publicKey:"publicKey"in t?new Uint8Array(Object.values(t.publicKey)):Xd.decode(t.address)}));return Object.assign(Object.assign({},e),{accounts:t})}return e||void 0}catch(e){}})},set(n){return tm(this,0,void 0,function*(){if(t)try{t.setItem(tf,JSON.stringify(n))}catch(e){}})}}}()}function kf(t){return ef(this,0,void 0,function*(){return function(){return tm(this,0,void 0,function*(){if("undefined"!=typeof window){const t=window.navigator.userAgent.toLowerCase(),e=new Qm;t.includes("wv")?e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_BROWSER_NOT_SUPPORTED",message:""}):e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_WALLET_NOT_FOUND",message:""}),e.open()}})}()})}var If;class Nf extends Event{get detail(){return function(t,e,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(t):i?i.value:e.get(t)}(this,If,"f")}get type(){return"wallet-standard:register-wallet"}constructor(t){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),If.set(this,void 0),function(t,e,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===i?r.call(t,n):r?r.value=n:e.set(t,n)}(this,If,t,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}If=new WeakMap;const Lf=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let a=0;a<e.length;a++)e[a]=255;for(let a=0;a<t.length;a++){const n=t.charAt(a),i=n.charCodeAt(0);if(255!==e[i])throw new TypeError(n+" is ambiguous");e[i]=a}const n=t.length,i=t.charAt(0),r=Math.log(n)/Math.log(256),s=Math.log(256)/Math.log(n);function o(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return new Uint8Array;let s=0,o=0,a=0;for(;t[s]===i;)o++,s++;const c=(t.length-s)*r+1>>>0,l=new Uint8Array(c);for(;s<t.length;){const i=t.charCodeAt(s);if(i>255)return;let r=e[i];if(255===r)return;let o=0;for(let t=c-1;(0!==r||o<a)&&-1!==t;t--,o++)r+=n*l[t]>>>0,l[t]=r%256>>>0,r=r/256>>>0;if(0!==r)throw new Error("Non-zero carry");a=o,s++}let u=c-a;for(;u!==c&&0===l[u];)u++;const h=new Uint8Array(o+(c-u));let d=o;for(;u!==c;)h[d++]=l[u++];return h}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===e.length)return"";let r=0,o=0,a=0;const c=e.length;for(;a!==c&&0===e[a];)a++,r++;const l=(c-a)*s+1>>>0,u=new Uint8Array(l);for(;a!==c;){let t=e[a],i=0;for(let e=l-1;(0!==t||i<o)&&-1!==e;e--,i++)t+=256*u[e]>>>0,u[e]=t%n>>>0,t=t/n>>>0;if(0!==t)throw new Error("Non-zero carry");o=i,a++}let h=l-o;for(;h!==l&&0===u[h];)h++;let d=i.repeat(r);for(;h<l;++h)d+=t.charAt(u[h]);return d},decodeUnsafe:o,decode:function(t){const e=o(t);if(e)return e;throw new Error("Non-base"+n+" character")}}}("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var jf,Cf,Bf,_f,Tf,Rf,Of,Df,zf,Pf,Uf,qf,Ff,Wf,Kf,Hf,$f,Vf,Zf=function(t,e,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(t):i?i.value:e.get(t)},Yf=function(t,e,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(t,n):r?r.value=n:e.set(t,n),n};class Gf extends bu{get name(){return Zf(this,Df,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return Zf(this,Df,"f").icon}get readyState(){return Zf(this,zf,"f")}get publicKey(){return Zf(this,Bf,"f")}get connecting(){return Zf(this,_f,"f")}get supportedTransactionVersions(){return Zf(this,Of,"f")}get wallet(){return Zf(this,Df,"f")}get standard(){return!0}constructor({wallet:t}){super(),jf.add(this),Cf.set(this,void 0),Bf.set(this,void 0),_f.set(this,void 0),Tf.set(this,void 0),Rf.set(this,void 0),Of.set(this,void 0),Df.set(this,void 0),zf.set(this,"undefined"==typeof window||"undefined"==typeof document?wu.Unsupported:wu.Installed),Wf.set(this,t=>{if("accounts"in t){const t=Zf(this,Df,"f").accounts[0];Zf(this,Cf,"f")&&!Zf(this,Tf,"f")&&t!==Zf(this,Cf,"f")&&(t?Zf(this,jf,"m",Uf).call(this,t):(this.emit("error",new lu),Zf(this,jf,"m",qf).call(this)))}"features"in t&&Zf(this,jf,"m",Ff).call(this)}),Yf(this,Df,t,"f"),Yf(this,Cf,null,"f"),Yf(this,Bf,null,"f"),Yf(this,_f,!1,"f"),Yf(this,Tf,!1,"f"),Yf(this,Rf,Zf(this,Df,"f").features[_u].on("change",Zf(this,Wf,"f")),"f"),Zf(this,jf,"m",Ff).call(this)}destroy(){Yf(this,Cf,null,"f"),Yf(this,Bf,null,"f"),Yf(this,_f,!1,"f"),Yf(this,Tf,!1,"f");const t=Zf(this,Rf,"f");t&&(Yf(this,Rf,null,"f"),t())}async autoConnect(){return Zf(this,jf,"m",Pf).call(this,{silent:!0})}async connect(){return Zf(this,jf,"m",Pf).call(this)}async disconnect(){if(Bu in Zf(this,Df,"f").features)try{Yf(this,Tf,!0,"f"),await Zf(this,Df,"f").features[Bu].disconnect()}catch(t){this.emit("error",new uu(t?.message,t))}finally{Yf(this,Tf,!1,"f")}Zf(this,jf,"m",qf).call(this)}async sendTransaction(t,e,n={}){try{const s=Zf(this,Cf,"f");if(!s)throw new mu;let o;if(Iu in Zf(this,Df,"f").features)if(s.features.includes(Iu))o=Iu;else{if(!(ju in Zf(this,Df,"f").features)||!s.features.includes(ju))throw new hu;o=ju}else{if(!(ju in Zf(this,Df,"f").features))throw new au;if(!s.features.includes(ju))throw new hu;o=ju}const a=(i=e.rpcEndpoint).includes("https://api.mainnet-beta.solana.com")?wd:/\bdevnet\b/i.test(i)?vd:/\btestnet\b/i.test(i)?bd:/\blocalhost\b/i.test(i)||/\b127\.0\.0\.1\b/.test(i)?"solana:localnet":wd;if(!s.chains.includes(a))throw new fu;try{const{signers:i,...r}=n;let c;if(Mu(t)?(i?.length&&t.sign(i),c=t.serialize()):(t=await this.prepareTransaction(t,e,r),i?.length&&t.partialSign(...i),c=new Uint8Array(t.serialize({requireAllSignatures:!1,verifySignatures:!1}))),o===Iu){const[t]=await Zf(this,Df,"f").features[Iu].signAndSendTransaction({account:s,chain:a,transaction:c,options:{preflightCommitment:yd(r.preflightCommitment||e.commitment),skipPreflight:r.skipPreflight,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot}});return Lf.encode(t.signature)}{const[t]=await Zf(this,Df,"f").features[ju].signTransaction({account:s,chain:a,transaction:c,options:{preflightCommitment:yd(r.preflightCommitment||e.commitment),minContextSlot:r.minContextSlot}});return await e.sendRawTransaction(t.signedTransaction,{...r,preflightCommitment:yd(r.preflightCommitment||e.commitment)})}}catch(r){if(r instanceof ru)throw r;throw new fu(r?.message,r)}}catch(r){throw this.emit("error",r),r}var i}}Cf=new WeakMap,Bf=new WeakMap,_f=new WeakMap,Tf=new WeakMap,Rf=new WeakMap,Of=new WeakMap,Df=new WeakMap,zf=new WeakMap,Wf=new WeakMap,jf=new WeakSet,Pf=async function(t){try{if(this.connected||this.connecting)return;if(Zf(this,zf,"f")!==wu.Installed)throw new su;if(Yf(this,_f,!0,"f"),!Zf(this,Df,"f").accounts.length)try{await Zf(this,Df,"f").features[Cu].connect(t)}catch(e){throw new cu(e?.message,e)}const n=Zf(this,Df,"f").accounts[0];if(!n)throw new hu;Zf(this,jf,"m",Uf).call(this,n)}catch(e){throw this.emit("error",e),e}finally{Yf(this,_f,!1,"f")}},Uf=function(t){let e;try{e=new ba(t.address)}catch(n){throw new du(n?.message,n)}Yf(this,Cf,t,"f"),Yf(this,Bf,e,"f"),Zf(this,jf,"m",Ff).call(this),this.emit("connect",e)},qf=function(){Yf(this,Cf,null,"f"),Yf(this,Bf,null,"f"),Zf(this,jf,"m",Ff).call(this),this.emit("disconnect")},Ff=function(){const t=Iu in Zf(this,Df,"f").features?Zf(this,Df,"f").features[Iu].supportedTransactionVersions:Zf(this,Df,"f").features[ju].supportedTransactionVersions;Yf(this,Of,function(t,e){if(t===e)return!0;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}(t,["legacy"])?null:new Set(t),"f"),ju in Zf(this,Df,"f").features&&Zf(this,Cf,"f")?.features.includes(ju)?(this.signTransaction=Zf(this,jf,"m",Kf),this.signAllTransactions=Zf(this,jf,"m",Hf)):(delete this.signTransaction,delete this.signAllTransactions),Lu in Zf(this,Df,"f").features&&Zf(this,Cf,"f")?.features.includes(Lu)?this.signMessage=Zf(this,jf,"m",$f):delete this.signMessage,Nu in Zf(this,Df,"f").features?this.signIn=Zf(this,jf,"m",Vf):delete this.signIn},Kf=async function(t){try{const n=Zf(this,Cf,"f");if(!n)throw new mu;if(!(ju in Zf(this,Df,"f").features))throw new au;if(!n.features.includes(ju))throw new hu;try{const e=(await Zf(this,Df,"f").features[ju].signTransaction({account:n,transaction:Mu(t)?t.serialize():new Uint8Array(t.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return Mu(t)?Wa.deserialize(e):Fa.from(e)}catch(e){if(e instanceof ru)throw e;throw new pu(e?.message,e)}}catch(e){throw this.emit("error",e),e}},Hf=async function(t){try{const n=Zf(this,Cf,"f");if(!n)throw new mu;if(!(ju in Zf(this,Df,"f").features))throw new au;if(!n.features.includes(ju))throw new hu;try{const e=await Zf(this,Df,"f").features[ju].signTransaction(...t.map(t=>({account:n,transaction:Mu(t)?t.serialize():new Uint8Array(t.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return t.map((t,n)=>{const i=e[n].signedTransaction;return Mu(t)?Wa.deserialize(i):Fa.from(i)})}catch(e){throw new pu(e?.message,e)}}catch(e){throw this.emit("error",e),e}},$f=async function(t){try{const n=Zf(this,Cf,"f");if(!n)throw new mu;if(!(Lu in Zf(this,Df,"f").features))throw new au;if(!n.features.includes(Lu))throw new hu;try{return(await Zf(this,Df,"f").features[Lu].signMessage({account:n,message:t}))[0].signature}catch(e){throw new gu(e?.message,e)}}catch(e){throw this.emit("error",e),e}},Vf=async function(t={}){try{if(!(Nu in Zf(this,Df,"f").features))throw new au;let n;try{[n]=await Zf(this,Df,"f").features[Nu].signIn(t)}catch(e){throw new yu(e?.message,e)}if(!n)throw new yu;return Zf(this,jf,"m",Uf).call(this,n.account),n}catch(e){throw this.emit("error",e),e}};const Qf=function(t){return Cu in t.features&&_u in t.features&&(Iu in t.features||ju in t.features)};var Jf;let Xf;const tp=new Set;const ep={};function np(...t){return(t=t.filter(t=>!tp.has(t))).length?(t.forEach(t=>function(t){ip=void 0,tp.add(t)}(t)),ep.register?.forEach(e=>op(()=>e(...t))),function(){t.forEach(t=>function(t){ip=void 0,tp.delete(t)}(t)),ep.unregister?.forEach(e=>op(()=>e(...t)))}):()=>{}}let ip;function rp(){return ip||(ip=[...tp]),ip}function sp(t,e){return ep[t]?.push(e)||(ep[t]=[e]),function(){ep[t]=ep[t]?.filter(t=>e!==t)}}function op(t){try{t()}catch(e){}}class ap extends Event{get detail(){return function(t,e,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(t):i?i.value:e.get(t)}(this,Jf,"f")}get type(){return"wallet-standard:app-ready"}constructor(t){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),Jf.set(this,void 0),function(t,e,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===i?r.call(t,n):r?r.value=n:e.set(t,n)}(this,Jf,t,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}function cp(){if(Xf)return Xf;if(Xf=function(){if(Xf)return Xf;if(Xf=Object.freeze({register:np,get:rp,on:sp}),"undefined"==typeof window)return Xf;const t=Object.freeze({register:np});try{window.addEventListener("wallet-standard:register-wallet",({detail:e})=>e(t))}catch(e){}try{window.dispatchEvent(new ap(t))}catch(e){}return Xf}(),"undefined"==typeof window)return Xf;const t=window.navigator.wallets||[];if(!Array.isArray(t))return Xf;const{register:e}=Xf,n=(...t)=>t.forEach(t=>op(()=>t({register:e})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:n})})}catch(i){return Xf}return n(...t),Xf}function lp(t){const e=up(()=>new Set),{get:i,on:r}=up(()=>cp()),[s,o]=n.useState(()=>hp(i()));n.useEffect(()=>{const t=[r("register",(...t)=>o(e=>[...e,...hp(t)])),r("unregister",(...t)=>o(e=>e.filter(e=>t.some(t=>t===e.wallet))))];return()=>t.forEach(t=>t())},[r]);const a=function(t){const e=n.useRef(void 0);return n.useEffect(()=>{e.current=t}),e.current}(s);return n.useEffect(()=>{if(!a)return;const t=new Set(s);new Set(a.filter(e=>!t.has(e))).forEach(t=>t.destroy())},[a,s]),n.useEffect(()=>()=>s.forEach(t=>t.destroy()),[]),n.useMemo(()=>[...s,...t.filter(({name:t})=>!s.some(e=>e.name===t)||(e.has(t)||e.add(t),!1))],[s,t,e])}function up(t){const e=n.useRef(void 0);return void 0===e.current&&(e.current={value:t()}),e.current.value}function hp(t){return t.filter(Qf).map(t=>new Gf({wallet:t}))}var dp,mp;function fp({children:t,wallets:e,adapter:i,isUnloadingRef:r,onAutoConnectRequest:s,onConnectError:o,onError:c,onSelectWallet:l}){const u=n.useRef(!1),[h,d]=n.useState(!1),m=n.useRef(!1),[f,p]=n.useState(!1),[g,y]=n.useState(()=>i?.publicKey??null),[w,v]=n.useState(()=>i?.connected??!1),b=n.useRef(c);n.useEffect(()=>(b.current=c,()=>{b.current=void 0}),[c]);const x=n.useRef((t,e)=>(r.current||(b.current?b.current(t,e):t instanceof su&&"undefined"!=typeof window&&e&&window.open(e.url,"_blank")),t)),[E,M]=n.useState(()=>e.map(t=>({adapter:t,readyState:t.readyState})).filter(({readyState:t})=>t!==wu.Unsupported));n.useEffect(()=>{function t(t){M(e=>{const n=e.findIndex(({adapter:t})=>t===this);if(-1===n)return e;const{adapter:i}=e[n];return[...e.slice(0,n),{adapter:i,readyState:t},...e.slice(n+1)].filter(({readyState:t})=>t!==wu.Unsupported)})}return M(t=>e.map((e,n)=>{const i=t[n];return i&&i.adapter===e&&i.readyState===e.readyState?i:{adapter:e,readyState:e.readyState}}).filter(({readyState:t})=>t!==wu.Unsupported)),e.forEach(e=>e.on("readyStateChange",t,e)),()=>{e.forEach(e=>e.off("readyStateChange",t,e))}},[i,e]);const S=n.useMemo(()=>E.find(t=>t.adapter===i)??null,[i,E]);n.useEffect(()=>{if(!i)return;const t=t=>{y(t),u.current=!1,d(!1),v(!0),m.current=!1,p(!1)},e=()=>{r.current||(y(null),u.current=!1,d(!1),v(!1),m.current=!1,p(!1))},n=t=>{x.current(t,i)};return i.on("connect",t),i.on("disconnect",e),i.on("error",n),()=>{i.off("connect",t),i.off("disconnect",e),i.off("error",n),e()}},[i,r]);const A=n.useRef(!1);n.useEffect(()=>()=>{A.current=!1},[i]),n.useEffect(()=>{A.current||u.current||w||!s||S?.readyState!==wu.Installed&&S?.readyState!==wu.Loadable||(u.current=!0,d(!0),A.current=!0,async function(){try{await s()}catch{o()}finally{d(!1),u.current=!1}}())},[w,s,o,S]);const k=n.useCallback(async(t,e,n)=>{if(!i)throw x.current(new Ou);if(!w)throw x.current(new mu,i);return await i.sendTransaction(t,e,n)},[i,w]),I=n.useMemo(()=>i&&"signTransaction"in i?async t=>{if(!w)throw x.current(new mu,i);return await i.signTransaction(t)}:void 0,[i,w]),N=n.useMemo(()=>i&&"signAllTransactions"in i?async t=>{if(!w)throw x.current(new mu,i);return await i.signAllTransactions(t)}:void 0,[i,w]),L=n.useMemo(()=>i&&"signMessage"in i?async t=>{if(!w)throw x.current(new mu,i);return await i.signMessage(t)}:void 0,[i,w]),j=n.useMemo(()=>i&&"signIn"in i?async t=>await i.signIn(t):void 0,[i]),C=n.useCallback(async()=>{if(u.current||m.current||S?.adapter.connected)return;if(!S)throw x.current(new Ou);const{adapter:t,readyState:e}=S;if(e!==wu.Installed&&e!==wu.Loadable)throw x.current(new su,t);u.current=!0,d(!0);try{await t.connect()}catch(dy){throw o(),dy}finally{d(!1),u.current=!1}},[o,S]),B=n.useCallback(async()=>{if(!m.current&&i){m.current=!0,p(!0);try{await i.disconnect()}finally{p(!1),m.current=!1}}},[i]);return a.createElement(Uu.Provider,{value:{autoConnect:!!s,wallets:E,wallet:S,publicKey:g,connected:w,connecting:h,disconnecting:f,select:l,connect:C,disconnect:B,sendTransaction:k,signTransaction:I,signAllTransactions:N,signMessage:L,signIn:j}},t)}let pp;function gp(t){return function({adapters:t,userAgentString:e}){return t.some(t=>t.name!==bf&&t.readyState===wu.Installed)?dp.DESKTOP_WEB:e&&/android/i.test(e)&&!function(t){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(t)}(e)?dp.MOBILE_WEB:dp.DESKTOP_WEB}({adapters:t,userAgentString:(void 0===pp&&(pp=globalThis.navigator?.userAgent??null),pp)})===dp.MOBILE_WEB}function yp(){const t=globalThis.location;if(t)return`${t.protocol}//${t.host}`}function wp({children:t,wallets:e,autoConnect:i,localStorageKey:r="walletName",onError:s}){const{connection:o}=n.useContext(nu),c=lp(e),l=n.useMemo(()=>{if(!gp(c))return null;const t=c.find(t=>t.name===bf);return t||new Sf({addressSelector:{select(t){return ef(this,0,void 0,function*(){return t[0]})}},appIdentity:{uri:yp()},authorizationResultCache:Af(),cluster:(e=o?.rpcEndpoint,e?/devnet/i.test(e)?"devnet":/testnet/i.test(e)?"testnet":"mainnet-beta":"mainnet-beta"),onWalletNotFound:kf});var e},[c,o?.rpcEndpoint]),u=n.useMemo(()=>null==l||-1!==c.indexOf(l)?c:[l,...c],[c,l]),[h,d]=function(t,e){const i=n.useState(()=>{try{const e=localStorage.getItem(t);if(e)return JSON.parse(e)}catch(n){}return e}),r=i[0],s=n.useRef(!0);return n.useEffect(()=>{if(s.current)s.current=!1;else try{null===r?localStorage.removeItem(t):localStorage.setItem(t,JSON.stringify(r))}catch(e){}},[r,t]),i}(r,null),m=n.useMemo(()=>u.find(t=>t.name===h)??null,[u,h]),f=n.useCallback(t=>{h!==t&&(m&&m.name!==bf&&m.disconnect(),d(t))},[m,d,h]);n.useEffect(()=>{if(m)return m.on("disconnect",t),()=>{m.off("disconnect",t)};function t(){y.current||d(null)}},[m,c,d,h]);const p=n.useRef(!1),g=n.useMemo(()=>{if(i&&m)return async()=>{(!0===i||await i(m))&&(p.current?await m.connect():await m.autoConnect())}},[i,m]),y=n.useRef(!1);n.useEffect(()=>{if(h!==bf||!gp(c))return window.addEventListener("beforeunload",t),()=>{window.removeEventListener("beforeunload",t)};function t(){y.current=!0}y.current=!1},[c,h]);const w=n.useCallback(()=>{m&&f(null)},[m,f]),v=n.useCallback(t=>{p.current=!0,f(t)},[f]);return a.createElement(fp,{wallets:u,adapter:m,isUnloadingRef:y,onAutoConnectRequest:g,onConnectError:w,onError:s,onSelectWallet:v},t)}Jf=new WeakMap,(mp=dp||(dp={}))[mp.DESKTOP_WEB=0]="DESKTOP_WEB",mp[mp.MOBILE_WEB=1]="MOBILE_WEB";const vp={setVisible(t){},visible:!1};Object.defineProperty(vp,"visible",{get:()=>!1});const bp=n.createContext(vp);function xp(){return n.useContext(bp)}const Ep=t=>a.createElement("button",{className:`wallet-adapter-button ${t.className||""}`,disabled:t.disabled,style:t.style,onClick:t.onClick,tabIndex:t.tabIndex||0,type:"button"},t.startIcon&&a.createElement("i",{className:"wallet-adapter-button-start-icon"},t.startIcon),t.children,t.endIcon&&a.createElement("i",{className:"wallet-adapter-button-end-icon"},t.endIcon)),Mp=({wallet:t,...e})=>t&&a.createElement("img",{src:t.adapter.icon,alt:`${t.adapter.name} icon`,...e});function Sp({walletIcon:t,walletName:e,...n}){return a.createElement(Ep,{...n,className:"wallet-adapter-button-trigger",startIcon:t&&e?a.createElement(Mp,{wallet:{adapter:{icon:t,name:e}}}):void 0})}function Ap({children:t,labels:e,...i}){const{setVisible:r}=xp(),{buttonState:s,onConnect:o,onDisconnect:c,publicKey:l,walletIcon:u,walletName:h}=function({onSelectWallet:t}){const{connect:e,connected:i,connecting:r,disconnect:s,disconnecting:o,publicKey:a,select:c,wallet:l,wallets:u}=qu();let h;h=r?"connecting":i?"connected":o?"disconnecting":l?"has-wallet":"no-wallet";const d=n.useCallback(()=>{e().catch(()=>{})},[e]),m=n.useCallback(()=>{s().catch(()=>{})},[s]);return{buttonState:h,onConnect:"has-wallet"===h?d:void 0,onDisconnect:"disconnecting"!==h&&"no-wallet"!==h?m:void 0,onSelectWallet:n.useCallback(()=>{t({onSelectWallet:c,wallets:u})},[t,c,u]),publicKey:a??void 0,walletIcon:l?.adapter.icon,walletName:l?.adapter.name}}({onSelectWallet(){r(!0)}}),[d,m]=n.useState(!1),[f,p]=n.useState(!1),g=n.useRef(null);n.useEffect(()=>{const t=t=>{const e=g.current;e&&!e.contains(t.target)&&p(!1)};return document.addEventListener("mousedown",t),document.addEventListener("touchstart",t),()=>{document.removeEventListener("mousedown",t),document.removeEventListener("touchstart",t)}},[]);const y=n.useMemo(()=>{if(t)return t;if(l){const t=l.toBase58();return t.slice(0,4)+".."+t.slice(-4)}return"connecting"===s||"has-wallet"===s?e[s]:e["no-wallet"]},[s,t,e,l]);return a.createElement("div",{className:"wallet-adapter-dropdown"},a.createElement(Sp,{...i,"aria-expanded":f,style:{pointerEvents:f?"none":"auto",...i.style},onClick:()=>{switch(s){case"no-wallet":r(!0);break;case"has-wallet":o&&o();break;case"connected":p(!0)}},walletIcon:u,walletName:h},y),a.createElement("ul",{"aria-label":"dropdown-list",className:`wallet-adapter-dropdown-list ${f&&"wallet-adapter-dropdown-list-active"}`,ref:g,role:"menu"},l?a.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:async()=>{await navigator.clipboard.writeText(l.toBase58()),m(!0),setTimeout(()=>m(!1),400)},role:"menuitem"},d?e.copied:e["copy-address"]):null,a.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{r(!0),p(!1)},role:"menuitem"},e["change-wallet"]),c?a.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{c(),p(!1)},role:"menuitem"},e.disconnect):null))}const kp=({id:t,children:e,expanded:i=!1})=>{const r=n.useRef(null),s=n.useRef(!0);return n.useLayoutEffect(()=>{i?(()=>{const t=r.current;t&&requestAnimationFrame(()=>{t.style.height=t.scrollHeight+"px"})})():(()=>{const t=r.current;t&&requestAnimationFrame(()=>{t.style.height=t.offsetHeight+"px",t.style.overflow="hidden",requestAnimationFrame(()=>{t.style.height="0"})})})()},[i]),n.useLayoutEffect(()=>{const t=r.current;if(t)return s.current&&(e(),s.current=!1),t.addEventListener("transitionend",n),()=>t.removeEventListener("transitionend",n);function e(){t&&(t.style.overflow=i?"initial":"hidden",i&&(t.style.height="auto"))}function n(n){t&&n.target===t&&"height"===n.propertyName&&e()}},[i]),a.createElement("div",{className:"wallet-adapter-collapse",id:t,ref:r,role:"region",style:{height:0,transition:s.current?void 0:"height 250ms ease-out"}},e)},Ip=({handleClick:t,tabIndex:e,wallet:n})=>a.createElement("li",null,a.createElement(Ep,{onClick:t,startIcon:a.createElement(Mp,{wallet:n}),tabIndex:e},n.adapter.name,n.readyState===wu.Installed&&a.createElement("span",null,"Detected"))),Np=()=>a.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),a.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),a.createElement("g",{clipPath:"url(#clip0_880_5115)"},a.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),a.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),a.createElement("defs",null,a.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#9945FF"}),a.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),a.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),a.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),a.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),a.createElement("stop",{offset:"1",stopColor:"#00D18C"})),a.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#9945FF"}),a.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),a.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),a.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),a.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),a.createElement("stop",{offset:"1",stopColor:"#00D18C"})),a.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#9945FF"}),a.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),a.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),a.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),a.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),a.createElement("stop",{offset:"1",stopColor:"#00D18C"})),a.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#9945FF"}),a.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),a.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),a.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),a.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),a.createElement("stop",{offset:"1",stopColor:"#00D18C"})),a.createElement("clipPath",{id:"clip0_880_5115"},a.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"})))),Lp=({className:t="",container:e="body"})=>{const r=n.useRef(null),{wallets:s,select:o}=qu(),{setVisible:c}=xp(),[l,u]=n.useState(!1),[h,d]=n.useState(!1),[m,f]=n.useState(null),[p,g]=n.useMemo(()=>{const t=[],e=[];for(const n of s)n.readyState===wu.Installed?t.push(n):e.push(n);return t.length?[t,e]:[e,[]]},[s]),y=n.useCallback(()=>{d(!1),setTimeout(()=>c(!1),150)},[c]),w=n.useCallback(t=>{t.preventDefault(),y()},[y]),v=n.useCallback((t,e)=>{o(e),w(t)},[o,w]),b=n.useCallback(()=>u(!l),[l]),x=n.useCallback(t=>{const e=r.current;if(!e)return;const n=e.querySelectorAll("button"),i=n[0],s=n[n.length-1];t.shiftKey?document.activeElement===i&&(s.focus(),t.preventDefault()):document.activeElement===s&&(i.focus(),t.preventDefault())},[r]);return n.useLayoutEffect(()=>{const t=t=>{"Escape"===t.key?y():"Tab"===t.key&&x(t)},{overflow:e}=window.getComputedStyle(document.body);return setTimeout(()=>d(!0),0),document.body.style.overflow="hidden",window.addEventListener("keydown",t,!1),()=>{document.body.style.overflow=e,window.removeEventListener("keydown",t,!1)}},[y,x]),n.useLayoutEffect(()=>f(document.querySelector(e)),[e]),m&&i.createPortal(a.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:`wallet-adapter-modal ${h&&"wallet-adapter-modal-fade-in"} ${t}`,ref:r,role:"dialog"},a.createElement("div",{className:"wallet-adapter-modal-container"},a.createElement("div",{className:"wallet-adapter-modal-wrapper"},a.createElement("button",{onClick:w,className:"wallet-adapter-modal-button-close"},a.createElement("svg",{width:"14",height:"14"},a.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),p.length?a.createElement(a.Fragment,null,a.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),a.createElement("ul",{className:"wallet-adapter-modal-list"},p.map(t=>a.createElement(Ip,{key:t.adapter.name,handleClick:e=>v(e,t.adapter.name),wallet:t})),g.length?a.createElement(kp,{expanded:l,id:"wallet-adapter-modal-collapse"},g.map(t=>a.createElement(Ip,{key:t.adapter.name,handleClick:e=>v(e,t.adapter.name),tabIndex:l?0:-1,wallet:t}))):null),g.length?a.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:b,tabIndex:0},a.createElement("span",null,l?"Less ":"More ","options"),a.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:""+(l?"wallet-adapter-modal-list-more-icon-rotate":"")},a.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):a.createElement(a.Fragment,null,a.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),a.createElement("div",{className:"wallet-adapter-modal-middle"},a.createElement(Np,null)),g.length?a.createElement(a.Fragment,null,a.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:b,tabIndex:0},a.createElement("span",null,l?"Hide ":"Already have a wallet? View ","options"),a.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:""+(l?"wallet-adapter-modal-list-more-icon-rotate":"")},a.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),a.createElement(kp,{expanded:l,id:"wallet-adapter-modal-collapse"},a.createElement("ul",{className:"wallet-adapter-modal-list"},g.map(t=>a.createElement(Ip,{key:t.adapter.name,handleClick:e=>v(e,t.adapter.name),tabIndex:l?0:-1,wallet:t}))))):null))),a.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:w})),m)},jp=({children:t,...e})=>{const[i,r]=n.useState(!1);return a.createElement(bp.Provider,{value:{visible:i,setVisible:r}},t,i&&a.createElement(Lp,{...e}))},Cp={"change-wallet":"Change wallet",connecting:"Connecting ...","copy-address":"Copy address",copied:"Copied",disconnect:"Disconnect","has-wallet":"Connect","no-wallet":"Select Wallet"};function Bp(t){return a.createElement(Ap,{...t,labels:Cp})}const _p={},Tp=function(t,e,n){let i=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const t=document.querySelector("meta[property=csp-nonce]"),n=t?.nonce||t?.getAttribute("nonce");i=Promise.allSettled(e.map(t=>{if((t=function(t){return"/"+t}(t))in _p)return;_p[t]=!0;const e=t.endsWith(".css"),i=e?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${i}`))return;const r=document.createElement("link");return r.rel=e?"stylesheet":"modulepreload",e||(r.as="script"),r.crossOrigin="",r.href=t,n&&r.setAttribute("nonce",n),document.head.appendChild(r),e?new Promise((e,n)=>{r.addEventListener("load",e),r.addEventListener("error",()=>n(new Error(`Unable to preload CSS for ${t}`)))}):void 0}))}function r(t){const e=new Event("vite:preloadError",{cancelable:!0});if(e.payload=t,window.dispatchEvent(e),!e.defaultPrevented)throw t}return i.then(e=>{for(const t of e||[])"rejected"===t.status&&r(t.reason);return t().catch(r)})};class Rp extends Au{constructor(t={}){super(),this.name="Phantom",this.url="https://phantom.app",this.icon="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgZmlsbD0ibm9uZSI+CjxyZWN0IHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiByeD0iMjYiIGZpbGw9IiNBQjlGRjIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ni41MjY3IDY5LjkyMjlDNDIuMDA1NCA3Ni44NTA5IDM0LjQyOTIgODUuNjE4MiAyNC4zNDggODUuNjE4MkMxOS41ODI0IDg1LjYxODIgMTUgODMuNjU2MyAxNSA3NS4xMzQyQzE1IDUzLjQzMDUgNDQuNjMyNiAxOS44MzI3IDcyLjEyNjggMTkuODMyN0M4Ny43NjggMTkuODMyNyA5NCAzMC42ODQ2IDk0IDQzLjAwNzlDOTQgNTguODI1OCA4My43MzU1IDc2LjkxMjIgNzMuNTMyMSA3Ni45MTIyQzcwLjI5MzkgNzYuOTEyMiA2OC43MDUzIDc1LjEzNDIgNjguNzA1MyA3Mi4zMTRDNjguNzA1MyA3MS41NzgzIDY4LjgyNzUgNzAuNzgxMiA2OS4wNzE5IDY5LjkyMjlDNjUuNTg5MyA3NS44Njk5IDU4Ljg2ODUgODEuMzg3OCA1Mi41NzU0IDgxLjM4NzhDNDcuOTkzIDgxLjM4NzggNDUuNjcxMyA3OC41MDYzIDQ1LjY3MTMgNzQuNDU5OEM0NS42NzEzIDcyLjk4ODQgNDUuOTc2OCA3MS40NTU2IDQ2LjUyNjcgNjkuOTIyOVpNODMuNjc2MSA0Mi41Nzk0QzgzLjY3NjEgNDYuMTcwNCA4MS41NTc1IDQ3Ljk2NTggNzkuMTg3NSA0Ny45NjU4Qzc2Ljc4MTYgNDcuOTY1OCA3NC42OTg5IDQ2LjE3MDQgNzQuNjk4OSA0Mi41Nzk0Qzc0LjY5ODkgMzguOTg4NSA3Ni43ODE2IDM3LjE5MzEgNzkuMTg3NSAzNy4xOTMxQzgxLjU1NzUgMzcuMTkzMSA4My42NzYxIDM4Ljk4ODUgODMuNjc2MSA0Mi41Nzk0Wk03MC4yMTAzIDQyLjU3OTVDNzAuMjEwMyA0Ni4xNzA0IDY4LjA5MTYgNDcuOTY1OCA2NS43MjE2IDQ3Ljk2NThDNjMuMzE1NyA0Ny45NjU4IDYxLjIzMyA0Ni4xNzA0IDYxLjIzMyA0Mi41Nzk1QzYxLjIzMyAzOC45ODg1IDYzLjMxNTcgMzcuMTkzMSA2NS43MjE2IDM3LjE5MzFDNjguMDkxNiAzNy4xOTMxIDcwLjIxMDMgMzguOTg4NSA3MC4yMTAzIDQyLjU3OTVaIiBmaWxsPSIjRkZGREY4Ii8+Cjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState="undefined"==typeof window||"undefined"==typeof document?wu.Unsupported:wu.NotDetected,this._disconnected=()=>{const t=this._wallet;t&&(t.off("disconnect",this._disconnected),t.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null,this.emit("error",new lu),this.emit("disconnect"))},this._accountChanged=t=>{const e=this._publicKey;if(e){try{t=new ba(t.toBytes())}catch(n){return void this.emit("error",new du(n?.message,n))}e.equals(t)||(this._publicKey=t,this.emit("connect",t))}},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==wu.Unsupported&&(Eu()?(this._readyState=wu.Loadable,this.emit("readyStateChange",this._readyState)):xu(()=>!(!window.phantom?.solana?.isPhantom&&!window.solana?.isPhantom)&&(this._readyState=wu.Installed,this.emit("readyStateChange",this._readyState),!0)))}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async autoConnect(){this.readyState===wu.Installed&&await this.connect()}async connect(){try{if(this.connected||this.connecting)return;if(this.readyState===wu.Loadable){const t=encodeURIComponent(window.location.href),e=encodeURIComponent(window.location.origin);return void(window.location.href=`https://phantom.app/ul/browse/${t}?ref=${e}`)}if(this.readyState!==wu.Installed)throw new su;this._connecting=!0;const e=window.phantom?.solana||window.solana;if(!e.isConnected)try{await e.connect()}catch(t){throw new cu(t?.message,t)}if(!e.publicKey)throw new hu;let n;try{n=new ba(e.publicKey.toBytes())}catch(t){throw new du(t?.message,t)}e.on("disconnect",this._disconnected),e.on("accountChanged",this._accountChanged),this._wallet=e,this._publicKey=n,this.emit("connect",n)}catch(t){throw this.emit("error",t),t}finally{this._connecting=!1}}async disconnect(){const t=this._wallet;if(t){t.off("disconnect",this._disconnected),t.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await t.disconnect()}catch(e){this.emit("error",new uu(e?.message,e))}}this.emit("disconnect")}async sendTransaction(t,e,n={}){try{const r=this._wallet;if(!r)throw new mu;try{const{signers:i,...s}=n;Mu(t)?i?.length&&t.sign(i):(t=await this.prepareTransaction(t,e,s),i?.length&&t.partialSign(...i)),s.preflightCommitment=s.preflightCommitment||e.commitment;const{signature:o}=await r.signAndSendTransaction(t,s);return o}catch(i){if(i instanceof ru)throw i;throw new fu(i?.message,i)}}catch(i){throw this.emit("error",i),i}}async signTransaction(t){try{const n=this._wallet;if(!n)throw new mu;try{return await n.signTransaction(t)||t}catch(e){throw new pu(e?.message,e)}}catch(e){throw this.emit("error",e),e}}async signAllTransactions(t){try{const n=this._wallet;if(!n)throw new mu;try{return await n.signAllTransactions(t)||t}catch(e){throw new pu(e?.message,e)}}catch(e){throw this.emit("error",e),e}}async signMessage(t){try{const n=this._wallet;if(!n)throw new mu;try{const{signature:e}=await n.signMessage(t);return e}catch(e){throw new gu(e?.message,e)}}catch(e){throw this.emit("error",e),e}}}var Op,Dp,zp,Pp,Up,qp,Fp,Wp,Kp,Hp,$p,Vp,Zp,Yp,Gp=function(t,e,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(t):i?i.value:e.get(t)};class Qp{constructor(){Op.add(this),Dp.set(this,{}),zp.set(this,"1.0.0"),Pp.set(this,"MetaMask"),Up.set(this,"data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjMxIiB2aWV3Qm94PSIwIDAgMzEgMzEiIHdpZHRoPSIzMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjIwLjI1IiB4Mj0iMjYuNTcxIiB5MT0iMjcuMTczIiB5Mj0iMTkuODU4Ij48c3RvcCBvZmZzZXQ9Ii4wOCIgc3RvcC1jb2xvcj0iIzk5NDVmZiIvPjxzdG9wIG9mZnNldD0iLjMiIHN0b3AtY29sb3I9IiM4NzUyZjMiLz48c3RvcCBvZmZzZXQ9Ii41IiBzdG9wLWNvbG9yPSIjNTQ5N2Q1Ii8+PHN0b3Agb2Zmc2V0PSIuNiIgc3RvcC1jb2xvcj0iIzQzYjRjYSIvPjxzdG9wIG9mZnNldD0iLjcyIiBzdG9wLWNvbG9yPSIjMjhlMGI5Ii8+PHN0b3Agb2Zmc2V0PSIuOTciIHN0b3AtY29sb3I9IiMxOWZiOWIiLz48L2xpbmVhckdyYWRpZW50PjxnIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iLjA5NCI+PHBhdGggZD0ibTI2LjEwOSAzLjY0My05LjM2OSA2Ljk1OSAxLjczMy00LjEwNSA3LjYzNy0yLjg1M3oiIGZpbGw9IiNlMjc2MWIiIHN0cm9rZT0iI2UyNzYxYiIvPjxnIGZpbGw9IiNlNDc2MWIiIHN0cm9rZT0iI2U0NzYxYiI+PHBhdGggZD0ibTQuNDgxIDMuNjQzIDkuMjk0IDcuMDI0LTEuNjQ4LTQuMTcxem0xOC4yNTggMTYuMTMtMi40OTUgMy44MjMgNS4zMzkgMS40NjkgMS41MzUtNS4yMDctNC4zNzgtLjA4NXptLTE5LjI0Ny4wODUgMS41MjUgNS4yMDcgNS4zMzktMS40NjktMi40OTUtMy44MjN6Ii8+PHBhdGggZD0ibTEwLjA1NSAxMy4zMTMtMS40ODggMi4yNTEgNS4zMDEuMjM1LS4xODgtNS42OTd6bTEwLjQ4IDAtMy42NzItMy4yNzctLjEyMiA1Ljc2MyA1LjI5Mi0uMjM1LTEuNDk3LTIuMjUxem0tMTAuMTc4IDEwLjI4MyAzLjE4My0xLjU1NC0yLjc0OS0yLjE0Ny0uNDMzIDMuNzAxem02LjY5NS0xLjU1NCAzLjE5MiAxLjU1NC0uNDQzLTMuNzAxeiIvPjwvZz48cGF0aCBkPSJtMjAuMjQ0IDIzLjU5Ni0zLjE5Mi0xLjU1NC4yNTQgMi4wODEtLjAyOC44NzZ6bS05Ljg4NyAwIDIuOTY2IDEuNDAzLS4wMTktLjg3Ni4yMzUtMi4wODEtMy4xODMgMS41NTR6IiBmaWxsPSIjZDdjMWIzIiBzdHJva2U9IiNkN2MxYjMiLz48cGF0aCBkPSJtMTMuMzY5IDE4LjUyMS0yLjY1NS0uNzgxIDEuODc0LS44NTd6bTMuODUxIDAgLjc4MS0xLjYzOCAxLjg4My44NTctMi42NjUuNzgxeiIgZmlsbD0iIzIzMzQ0NyIgc3Ryb2tlPSIjMjMzNDQ3Ii8+PHBhdGggZD0ibTEwLjM1NyAyMy41OTYuNDUyLTMuODIzLTIuOTQ3LjA4NXptOS40MzUtMy44MjMuNDUyIDMuODIzIDIuNDk1LTMuNzM4em0yLjI0MS00LjIwOS01LjI5Mi4yMzUuNDkgMi43MjEuNzgyLTEuNjM4IDEuODgzLjg1N3ptLTExLjMxOCAyLjE3NSAxLjg4My0uODU3Ljc3MiAxLjYzOC40OTktMi43MjEtNS4zMDEtLjIzNXoiIGZpbGw9IiNjZDYxMTYiIHN0cm9rZT0iI2NkNjExNiIvPjxwYXRoIGQ9Im04LjU2NyAxNS41NjQgMi4yMjIgNC4zMzEtLjA3NS0yLjE1NnptMTEuMzI4IDIuMTc1LS4wOTQgMi4xNTYgMi4yMzItNC4zMzEtMi4xMzcgMi4xNzV6bS02LjAyNi0xLjk0LS40OTkgMi43MjEuNjIxIDMuMjExLjE0MS00LjIyOC0uMjY0LTEuNzA0em0yLjg3MiAwLS4yNTQgMS42OTUuMTEzIDQuMjM3LjYzMS0zLjIxMXoiIGZpbGw9IiNlNDc1MWYiIHN0cm9rZT0iI2U0NzUxZiIvPjxwYXRoIGQ9Im0xNy4yMyAxOC41Mi0uNjMxIDMuMjExLjQ1Mi4zMTEgMi43NS0yLjE0Ny4wOTQtMi4xNTZ6bS02LjUxNi0uNzgxLjA3NSAyLjE1NiAyLjc1IDIuMTQ3LjQ1Mi0uMzExLS42MjItMy4yMTF6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48cGF0aCBkPSJtMTcuMjc3IDI0Ljk5OS4wMjgtLjg3Ni0uMjM1LS4yMDdoLTMuNTVsLS4yMTcuMjA3LjAxOS44NzYtMi45NjYtMS40MDMgMS4wMzYuODQ4IDIuMSAxLjQ1OWgzLjYwNmwyLjEwOS0xLjQ1OSAxLjAzNi0uODQ4eiIgZmlsbD0iI2MwYWQ5ZSIgc3Ryb2tlPSIjYzBhZDllIi8+PHBhdGggZD0ibTE3LjA1MSAyMi4wNDItLjQ1Mi0uMzExaC0yLjYwOGwtLjQ1Mi4zMTEtLjIzNSAyLjA4MS4yMTctLjIwN2gzLjU1bC4yMzUuMjA3LS4yNTQtMi4wODF6IiBmaWxsPSIjMTYxNjE2IiBzdHJva2U9IiMxNjE2MTYiLz48cGF0aCBkPSJtMjYuNTA1IDExLjA1My44LTMuODQyLTEuMTk2LTMuNTY5LTkuMDU4IDYuNzIzIDMuNDg0IDIuOTQ3IDQuOTI1IDEuNDQxIDEuMDkyLTEuMjcxLS40NzEtLjMzOS43NTMtLjY4Ny0uNTg0LS40NTIuNzUzLS41NzQtLjQ5OS0uMzc3em0tMjMuMjExLTMuODQxLjggMy44NDItLjUwOC4zNzcuNzUzLjU3NC0uNTc0LjQ1Mi43NTMuNjg3LS40NzEuMzM5IDEuMDgzIDEuMjcxIDQuOTI1LTEuNDQxIDMuNDg0LTIuOTQ3LTkuMDU5LTYuNzIzeiIgZmlsbD0iIzc2M2QxNiIgc3Ryb2tlPSIjNzYzZDE2Ii8+PHBhdGggZD0ibTI1LjQ2IDE0Ljc1NC00LjkyNS0xLjQ0MSAxLjQ5NyAyLjI1MS0yLjIzMiA0LjMzMSAyLjkzOC0uMDM4aDQuMzc4bC0xLjY1Ny01LjEwNHptLTE1LjQwNS0xLjQ0MS00LjkyNSAxLjQ0MS0xLjYzOCA1LjEwNGg0LjM2OWwyLjkyOC4wMzgtMi4yMjItNC4zMzEgMS40ODgtMi4yNTF6bTYuNjg1IDIuNDg2LjMxMS01LjQzMyAxLjQzMS0zLjg3aC02LjM1NmwxLjQxMyAzLjg3LjMyOSA1LjQzMy4xMTMgMS43MTQuMDA5IDQuMjE5aDIuNjFsLjAxOS00LjIxOS4xMjItMS43MTR6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48L2c+PGNpcmNsZSBjeD0iMjMuNSIgY3k9IjIzLjUiIGZpbGw9IiMwMDAiIHI9IjYuNSIvPjxwYXRoIGQ9Im0yNy40NzMgMjUuNTQ1LTEuMzEgMS4zNjhjLS4wMjkuMDMtLjA2My4wNTMtLjEwMS4wN2EuMzEuMzEgMCAwIDEgLS4xMjEuMDI0aC02LjIwOWMtLjAzIDAtLjA1OS0uMDA4LS4wODMtLjAyNGEuMTUuMTUgMCAwIDEgLS4wNTYtLjA2NWMtLjAxMi0uMDI2LS4wMTUtLjA1Ni0uMDEtLjA4NHMuMDE4LS4wNTUuMDM5LS4wNzZsMS4zMTEtMS4zNjhjLjAyOC0uMDMuMDYzLS4wNTMuMTAxLS4wNjlhLjMxLjMxIDAgMCAxIC4xMjEtLjAyNWg2LjIwOGMuMDMgMCAuMDU5LjAwOC4wODMuMDI0YS4xNS4xNSAwIDAgMSAuMDU2LjA2NWMuMDEyLjAyNi4wMTUuMDU2LjAxLjA4NHMtLjAxOC4wNTUtLjAzOS4wNzZ6bS0xLjMxLTIuNzU2Yy0uMDI5LS4wMy0uMDYzLS4wNTMtLjEwMS0uMDdhLjMxLjMxIDAgMCAwIC0uMTIxLS4wMjRoLTYuMjA5Yy0uMDMgMC0uMDU5LjAwOC0uMDgzLjAyNHMtLjA0NC4wMzgtLjA1Ni4wNjUtLjAxNS4wNTYtLjAxLjA4NC4wMTguMDU1LjAzOS4wNzZsMS4zMTEgMS4zNjhjLjAyOC4wMy4wNjMuMDUzLjEwMS4wNjlhLjMxLjMxIDAgMCAwIC4xMjEuMDI1aDYuMjA4Yy4wMyAwIC4wNTktLjAwOC4wODMtLjAyNGEuMTUuMTUgMCAwIDAgLjA1Ni0uMDY1Yy4wMTItLjAyNi4wMTUtLjA1Ni4wMS0uMDg0cy0uMDE4LS4wNTUtLjAzOS0uMDc2em0tNi40MzEtLjk4M2g2LjIwOWEuMzEuMzEgMCAwIDAgLjEyMS0uMDI0Yy4wMzgtLjAxNi4wNzMtLjA0LjEwMS0uMDdsMS4zMS0xLjM2OGMuMDItLjAyMS4wMzQtLjA0Ny4wMzktLjA3NnMuMDAxLS4wNTgtLjAxLS4wODRhLjE1LjE1IDAgMCAwIC0uMDU2LS4wNjVjLS4wMjUtLjAxNi0uMDU0LS4wMjQtLjA4My0uMDI0aC02LjIwOGEuMzEuMzEgMCAwIDAgLS4xMjEuMDI1Yy0uMDM4LjAxNi0uMDcyLjA0LS4xMDEuMDY5bC0xLjMxIDEuMzY4Yy0uMDIuMDIxLS4wMzQuMDQ3LS4wMzkuMDc2cy0uMDAxLjA1OC4wMS4wODQuMDMxLjA0OS4wNTYuMDY1LjA1NC4wMjQuMDgzLjAyNHoiIGZpbGw9InVybCgjYSkiLz48L3N2Zz4="),qp.set(this,null),Fp.set(this,(t,e)=>(Gp(this,Dp,"f")[t]?.push(e)||(Gp(this,Dp,"f")[t]=[e]),()=>Gp(this,Op,"m",Kp).call(this,t,e))),Hp.set(this,async()=>{if(!Gp(this,qp,"f")){let e;try{e=(await Tp(async()=>{const{default:t}=await import("./index-iha0n-Ee.js");return{default:t}},__vite__mapDeps([0,1]))).default}catch(t){throw new Error("Unable to load Solflare MetaMask SDK")}!function(t,e,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===i?r.call(t,n):r?r.value=n:e.set(t,n)}(this,qp,new e,"f"),Gp(this,qp,"f").on("standard_change",t=>Gp(this,Op,"m",Wp).call(this,"change",t))}return this.accounts.length||await Gp(this,qp,"f").connect(),{accounts:this.accounts}}),$p.set(this,async()=>{Gp(this,qp,"f")&&await Gp(this,qp,"f").disconnect()}),Vp.set(this,async(...t)=>{if(!Gp(this,qp,"f"))throw new mu;return await Gp(this,qp,"f").standardSignAndSendTransaction(...t)}),Zp.set(this,async(...t)=>{if(!Gp(this,qp,"f"))throw new mu;return await Gp(this,qp,"f").standardSignTransaction(...t)}),Yp.set(this,async(...t)=>{if(!Gp(this,qp,"f"))throw new mu;return await Gp(this,qp,"f").standardSignMessage(...t)})}get version(){return Gp(this,zp,"f")}get name(){return Gp(this,Pp,"f")}get icon(){return Gp(this,Up,"f")}get chains(){return[wd,vd,bd]}get features(){return{[Cu]:{version:"1.0.0",connect:Gp(this,Hp,"f")},[Bu]:{version:"1.0.0",disconnect:Gp(this,$p,"f")},[_u]:{version:"1.0.0",on:Gp(this,Fp,"f")},[Iu]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:Gp(this,Vp,"f")},[ju]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:Gp(this,Zp,"f")},[Lu]:{version:"1.0.0",signMessage:Gp(this,Yp,"f")}}}get accounts(){return Gp(this,qp,"f")?Gp(this,qp,"f").standardAccounts:[]}}Dp=new WeakMap,zp=new WeakMap,Pp=new WeakMap,Up=new WeakMap,qp=new WeakMap,Fp=new WeakMap,Hp=new WeakMap,$p=new WeakMap,Vp=new WeakMap,Zp=new WeakMap,Yp=new WeakMap,Op=new WeakSet,Wp=function(t,...e){Gp(this,Dp,"f")[t]?.forEach(t=>t.apply(null,e))},Kp=function(t,e){Gp(this,Dp,"f")[t]=Gp(this,Dp,"f")[t]?.filter(t=>e!==t)};let Jp=!1;function Xp(){Jp||(!function(t){const e=({register:e})=>e(t);try{window.dispatchEvent(new Nf(e))}catch(n){}try{window.addEventListener("wallet-standard:app-ready",({detail:t})=>e(t))}catch(n){}}(new Qp),Jp=!0)}class tg extends Au{constructor(t={}){super(),this.name="Solflare",this.url="https://solflare.com",this.icon="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGlkPSJTIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MCA1MCI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiMwMjA1MGE7c3Ryb2tlOiNmZmVmNDY7c3Ryb2tlLW1pdGVybGltaXQ6MTA7c3Ryb2tlLXdpZHRoOi41cHg7fS5jbHMtMntmaWxsOiNmZmVmNDY7fTwvc3R5bGU+PC9kZWZzPjxyZWN0IGNsYXNzPSJjbHMtMiIgeD0iMCIgd2lkdGg9IjUwIiBoZWlnaHQ9IjUwIiByeD0iMTIiIHJ5PSIxMiIvPjxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTI0LjIzLDI2LjQybDIuNDYtMi4zOCw0LjU5LDEuNWMzLjAxLDEsNC41MSwyLjg0LDQuNTEsNS40MywwLDEuOTYtLjc1LDMuMjYtMi4yNSw0LjkzbC0uNDYuNS4xNy0xLjE3Yy42Ny00LjI2LS41OC02LjA5LTQuNzItNy40M2wtNC4zLTEuMzhoMFpNMTguMDUsMTEuODVsMTIuNTIsNC4xNy0yLjcxLDIuNTktNi41MS0yLjE3Yy0yLjI1LS43NS0zLjAxLTEuOTYtMy4zLTQuNTF2LS4wOGgwWk0xNy4zLDMzLjA2bDIuODQtMi43MSw1LjM0LDEuNzVjMi44LjkyLDMuNzYsMi4xMywzLjQ2LDUuMThsLTExLjY1LTQuMjJoMFpNMTMuNzEsMjAuOTVjMC0uNzkuNDItMS41NCwxLjEzLTIuMTcuNzUsMS4wOSwyLjA1LDIuMDUsNC4wOSwyLjcxbDQuNDIsMS40Ni0yLjQ2LDIuMzgtNC4zNC0xLjQyYy0yLS42Ny0yLjg0LTEuNjctMi44NC0yLjk2TTI2LjgyLDQyLjg3YzkuMTgtNi4wOSwxNC4xMS0xMC4yMywxNC4xMS0xNS4zMiwwLTMuMzgtMi01LjI2LTYuNDMtNi43MmwtMy4zNC0xLjEzLDkuMTQtOC43Ny0xLjg0LTEuOTYtMi43MSwyLjM4LTEyLjgxLTQuMjJjLTMuOTcsMS4yOS04Ljk3LDUuMDktOC45Nyw4Ljg5LDAsLjQyLjA0LjgzLjE3LDEuMjktMy4zLDEuODgtNC42MywzLjYzLTQuNjMsNS44LDAsMi4wNSwxLjA5LDQuMDksNC41NSw1LjIybDIuNzUuOTItOS41Miw5LjE0LDEuODQsMS45NiwyLjk2LTIuNzEsMTQuNzMsNS4yMmgwWiIvPjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState="undefined"==typeof window||"undefined"==typeof document?wu.Unsupported:wu.Loadable,this._disconnected=()=>{const t=this._wallet;t&&(t.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new lu),this.emit("disconnect"))},this._accountChanged=t=>{if(!t)return;const e=this._publicKey;if(e){try{t=new ba(t.toBytes())}catch(n){return void this.emit("error",new du(n?.message,n))}e.equals(t)||(this._publicKey=t,this.emit("connect",t))}},this._connecting=!1,this._publicKey=null,this._wallet=null,this._config=t,this._readyState!==wu.Unsupported&&(xu(()=>!(!window.solflare?.isSolflare&&!window.SolflareApp)&&(this._readyState=wu.Installed,this.emit("readyStateChange",this._readyState),!0)),async function(){const t="solflare-detect-metamask";function e(){window.postMessage({target:"metamask-contentscript",data:{name:"metamask-provider",data:{id:t,jsonrpc:"2.0",method:"wallet_getSnaps"}}},window.location.origin)}function n(i){const r=i.data;"metamask-inpage"===r?.target&&"metamask-provider"===r.data?.name&&(r.data.data?.id===t?(window.removeEventListener("message",n),r.data.data.error||Xp()):e())}window.addEventListener("message",n),window.setTimeout(()=>window.removeEventListener("message",n),5e3),e()}())}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){return!!this._wallet?.connected}get readyState(){return this._readyState}async autoConnect(){this.readyState===wu.Loadable&&Eu()||await this.connect()}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==wu.Loadable&&this._readyState!==wu.Installed)throw new su;if(this.readyState===wu.Loadable&&Eu()){const t=encodeURIComponent(window.location.href),e=encodeURIComponent(window.location.origin);return void(window.location.href=`https://solflare.com/ul/v1/browse/${t}?ref=${e}`)}let e,n,i;try{e=(await Tp(async()=>{const{default:t}=await import("./index-D42FNAkI.js");return{default:t}},__vite__mapDeps([2,1]))).default}catch(t){throw new ou(t?.message,t)}try{n=new e({network:this._config.network})}catch(t){throw new au(t?.message,t)}if(this._connecting=!0,!n.connected)try{await n.connect()}catch(t){throw new cu(t?.message,t)}if(!n.publicKey)throw new cu;try{i=new ba(n.publicKey.toBytes())}catch(t){throw new du(t?.message,t)}n.on("disconnect",this._disconnected),n.on("accountChanged",this._accountChanged),this._wallet=n,this._publicKey=i,this.emit("connect",i)}catch(t){throw this.emit("error",t),t}finally{this._connecting=!1}}async disconnect(){const t=this._wallet;if(t){t.off("disconnect",this._disconnected),t.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await t.disconnect()}catch(e){this.emit("error",new uu(e?.message,e))}}this.emit("disconnect")}async sendTransaction(t,e,n={}){try{const r=this._wallet;if(!r)throw new mu;try{const{signers:i,...s}=n;return Mu(t)?i?.length&&t.sign(i):(t=await this.prepareTransaction(t,e,s),i?.length&&t.partialSign(...i)),s.preflightCommitment=s.preflightCommitment||e.commitment,await r.signAndSendTransaction(t,s)}catch(i){if(i instanceof ru)throw i;throw new fu(i?.message,i)}}catch(i){throw this.emit("error",i),i}}async signTransaction(t){try{const n=this._wallet;if(!n)throw new mu;try{return await n.signTransaction(t)||t}catch(e){throw new pu(e?.message,e)}}catch(e){throw this.emit("error",e),e}}async signAllTransactions(t){try{const n=this._wallet;if(!n)throw new mu;try{return await n.signAllTransactions(t)||t}catch(e){throw new pu(e?.message,e)}}catch(e){throw this.emit("error",e),e}}async signMessage(t){try{const n=this._wallet;if(!n)throw new mu;try{return await n.signMessage(t,"utf8")}catch(e){throw new gu(e?.message,e)}}catch(e){throw this.emit("error",e),e}}}function eg({src:t,alt:e,width:n=120,height:i=120,className:r=""}){return y.jsx("img",{src:t,alt:e,width:n,height:i,className:`${r} object-contain`,loading:"eager"})}const ng=()=>{const[t,e]=n.useState(!1);return y.jsx("header",{className:"fixed left-1/2 top-4 z-50 w-[95%] max-w-[1200px] -translate-x-1/2",children:y.jsxs("div",{className:"relative w-full overflow-visible rounded-full bg-white/5 px-3 py-3 shadow-md shadow-solana-gray/30 backdrop-blur-lg sm:px-6 sm:py-4",children:[y.jsx("div",{className:"absolute left-0 top-0 h-[2px] w-full rounded-full bg-gradient-to-r from-transparent via-forge-steel/50 to-transparent"}),y.jsx("div",{className:"absolute left-0 top-[2px] h-[1px] w-full rounded-full bg-gradient-to-r from-transparent via-solana-purple/40 to-transparent"}),y.jsxs("div",{className:"relative flex items-center justify-between",children:[y.jsxs("a",{href:"/",className:"group flex items-center gap-1 transition-transform duration-500 hover:scale-110",children:[y.jsx(eg,{src:"/assets/logo-DLbjMjf9.svg",alt:"Brokk Logo",width:20,height:20,className:"brightness-0 invert transition-transform duration-300 group-hover:rotate-12"}),y.jsxs("div",{className:"relative z-10 flex flex-col whitespace-nowrap font-title text-[8px] font-bold uppercase leading-none tracking-wider text-gray-300 transition-colors duration-300 group-hover:text-gray-100",children:[y.jsx("span",{className:"relative z-10",children:"BROKK"}),y.jsx("span",{className:"relative z-10",children:"POOLS"})]})]}),y.jsx("nav",{className:"absolute left-1/2 hidden -translate-x-1/2 items-center justify-center gap-4 lg:flex xl:gap-6",children:[{href:"/dashboard",label:"dashboard"}].map(t=>y.jsxs("a",{href:t.href,className:"group relative whitespace-nowrap text-xs font-medium uppercase tracking-wider text-gray-300 transition-all duration-300 hover:text-gray-100",children:[y.jsx("span",{className:"relative z-10",children:t.label}),y.jsx("div",{className:"absolute -bottom-1 left-0 h-[2px] w-0 bg-gradient-to-r from-solana-purple/20 to-solana-purple/30 transition-all duration-300 group-hover:w-full"})]},t.href))}),y.jsxs("div",{className:"ml-auto flex items-center gap-3",children:[y.jsx("div",{className:"hidden lg:block",children:y.jsx(Bp,{})}),y.jsxs("button",{onClick:()=>e(!t),className:"relative z-50 flex h-8 w-8 flex-col items-center justify-center gap-1.5 lg:hidden","aria-label":"Toggle menu",children:[y.jsx("span",{className:"block h-0.5 w-5 bg-gray-300 transition-all duration-300 "+(t?"translate-y-2 rotate-45":"")}),y.jsx("span",{className:"block h-0.5 w-5 bg-gray-300 transition-all duration-300 "+(t?"opacity-0":"")}),y.jsx("span",{className:"block h-0.5 w-5 bg-gray-300 transition-all duration-300 "+(t?"-translate-y-2 -rotate-45":"")})]})]})]}),t&&y.jsxs("nav",{className:"absolute left-0 right-0 top-full mt-2 rounded-3xl bg-gradient-to-br from-forge-metaldark/50         to-forge-deepblack/30\n        shadow-lg\n        backdrop-blur-xl lg:hidden",children:[y.jsx("div",{className:"absolute inset-0 rounded-3xl backdrop-blur-xl"}),y.jsxs("div",{className:"relative z-10 flex flex-col gap-1 rounded-2xl p-4 backdrop-blur-xl ",children:[y.jsx("a",{href:"/dashboard",onClick:()=>e(!1),className:"group relative rounded-xl bg-solana-purple px-4 py-3 text-center text-sm font-medium uppercase tracking-wider text-white transition-all duration-300 hover:bg-solana-purple/80",children:y.jsx("span",{className:"relative z-10",children:"Dashboard"})}),y.jsx("div",{className:"flex justify-center",children:y.jsx(Bp,{className:"!to-solana-pink !w-full !rounded-xl !bg-gradient-to-r !from-solana-purple !px-4 !py-3 !text-sm !font-medium !uppercase !tracking-wider !transition-all !duration-300 hover:!opacity-90"})}),y.jsxs("div",{className:"mt-2 flex items-center justify-center gap-3",children:[y.jsx("a",{href:"https://twitter.com/brokkpools",target:"_blank",rel:"noopener noreferrer",className:"group relative flex h-10 w-10 items-center justify-center rounded-full bg-white/5 transition-all duration-300 hover:bg-white/10","aria-label":"Twitter",children:y.jsx("svg",{className:"h-5 w-5 text-gray-300 transition-colors duration-300 group-hover:text-gray-100",fill:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})}),y.jsx("a",{href:"https://discord.gg/brokkpools",target:"_blank",rel:"noopener noreferrer",className:"group relative flex h-10 w-10 items-center justify-center rounded-full bg-white/5 transition-all duration-300 hover:bg-white/10","aria-label":"Discord",children:y.jsx("svg",{className:"h-5 w-5 text-gray-300 transition-colors duration-300 group-hover:text-gray-100",fill:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{d:"M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515a.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0a12.64 12.64 0 0 0-.617-1.25a.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057a19.9 19.9 0 0 0 5.993 3.03a.078.078 0 0 0 .084-.028a14.09 14.09 0 0 0 1.226-1.994a.076.076 0 0 0-.041-.106a13.107 13.107 0 0 1-1.872-.892a.077.077 0 0 1-.008-.128a10.2 10.2 0 0 0 .372-.292a.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127a12.299 12.299 0 0 1-1.873.892a.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028a19.839 19.839 0 0 0 6.002-3.03a.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.956-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.955-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.946 2.418-2.157 2.418z"})})}),y.jsx("a",{href:"https://t.me/brokkpools",target:"_blank",rel:"noopener noreferrer",className:"group relative flex h-10 w-10 items-center justify-center rounded-full bg-white/5 transition-all duration-300 hover:bg-white/10","aria-label":"Telegram",children:y.jsx("svg",{className:"h-5 w-5 text-gray-300 transition-colors duration-300 group-hover:text-gray-100",fill:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12a12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472c-.18 1.898-.962 6.502-1.36 8.627c-.168.9-.499 1.201-.82 1.23c-.696.065-1.225-.46-1.9-.902c-1.056-.693-1.653-1.124-2.678-1.8c-1.185-.78-.417-1.21.258-1.91c.177-.184 3.247-2.977 3.307-3.23c.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345c-.48.33-.913.49-1.302.48c-.428-.008-1.252-.241-1.865-.44c-.752-.245-1.349-.374-1.297-.789c.027-.216.325-.437.893-.663c3.498-1.524 5.83-2.529 6.998-3.014c3.332-1.386 4.025-1.627 4.476-1.635z"})})})]})]})]})]})})},ig="BROKK POOLS",rg="Forge your liquidity. Master your yield.",sg="Create, optimize, and rebalance your pools with the precision of a blacksmith forging divine tools.",og="Forge Your Future on Solana",ag=[{text:"LAUNCH APP",href:"#",ariaLabel:"Launch Brokk Pools application"},{text:"LEARN MORE",href:"#",ariaLabel:"Learn more about Brokk Pools application"}];function cg({text:t,href:e,ariaLabel:n,className:i=""}){return y.jsxs("a",{href:e,"aria-label":n,className:`\n        ${i}\n        group\n        relative\n        inline-block\n        min-h-[44px]\n        overflow-hidden\n        rounded-lg\n        bg-gradient-to-br\n        from-forge-metaldark/70\n        to-forge-deepblack/40\n        px-8\n        py-3\n        font-display\n        text-lg\n        font-bold\n        text-gray-200\n        shadow-lg\n        backdrop-blur-xl\n        transition-all\n        duration-500\n        hover:scale-105\n        hover:text-gray-100\n        focus:outline-none\n        focus:ring-2\n        focus:ring-offset-2\n        focus:ring-offset-forge-deepblack\n      `,children:[y.jsx("div",{className:"absolute left-0 top-0 h-[2px] w-full bg-gradient-to-r from-transparent via-forge-steel/40 to-transparent"}),y.jsx("div",{className:"absolute left-0 top-[2px] h-[1px] w-full bg-gradient-to-r from-transparent via-solana-purple/50 to-transparent opacity-0 transition-opacity duration-500 group-hover:opacity-100"}),y.jsx("div",{className:"absolute bottom-0 left-0 h-[1px] w-0 bg-gradient-to-r from-solana-purple/20 to-solana-purple/40 transition-all duration-700 group-hover:w-full"}),y.jsx("span",{className:"relative font-display text-lg font-medium tracking-wide text-gray-300/70 group-hover:text-gray-100",children:t})]})}const lg=()=>y.jsxs("section",{id:"hero","aria-labelledby":"hero-title",className:"relative flex min-h-screen w-full flex-col items-center justify-center px-6 py-12 text-center md:px-12",children:[y.jsx("div",{className:"absolute inset-0 bg-[url('/assets/background3.png')] bg-cover bg-top bg-no-repeat"}),y.jsx("div",{className:"absolute inset-0 bg-black/15 backdrop-blur-[0.5px]"}),y.jsx("div",{className:"absolute inset-x-0 bottom-0 h-60 bg-gradient-to-b from-transparent via-solana-gray/70 to-solana-gray"}),y.jsxs("div",{className:"relative z-10 flex max-w-5xl flex-col items-center gap-8",children:[y.jsxs("div",{className:"animate-slide-in-bottom inline-flex  items-center gap-2 rounded-full border border-[rgba(245,242,237,0.2)] px-4 py-2 backdrop-blur-sm",style:{animationDelay:"0.1s"},children:[y.jsx("div",{className:"h-2 w-2 animate-pulse rounded-full bg-solana-green"}),y.jsx("span",{className:"text-sm",children:og})]}),y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsx("h1",{id:"hero-title",className:"animate-fade-in-delayed font-title text-4xl font-bold leading-tight sm:text-6xl md:text-7xl lg:text-8xl xl:text-9xl",children:ig}),y.jsx("p",{className:"max-w-3xl animate-fade-in-delayed font-body text-xl font-medium leading-relaxed text-gray-300 sm:text-2xl md:text-3xl lg:text-4xl",children:rg}),y.jsx("p",{className:"max-w-xl animate-fade-in-delayed font-body text-base leading-relaxed text-gray-300 sm:text-lg",children:sg})]}),y.jsxs("div",{className:"mt-4 flex animate-fade-in-delayed flex-col items-center justify-center gap-4 sm:flex-row sm:gap-6 md:gap-20",children:[y.jsx(cg,{text:ag[0].text,href:ag[0].href,ariaLabel:ag[0].ariaLabel}),y.jsx(cg,{text:ag[1].text,href:ag[1].href,ariaLabel:ag[1].ariaLabel})]})]}),y.jsx("div",{className:"absolute bottom-10 left-10 h-32 w-32 rounded-full bg-solana-purple/10 blur-3xl"}),y.jsx("div",{className:"absolute right-10 top-10 h-32 w-32 rounded-full bg-solana-green/10 blur-3xl"})]}),ug=[{id:"uncover-alpha",title:"Uncover Alpha",description:"Explore Orca pools with god-tier analytics, real-time metrics, and vivid historical data.",icon:"analytics",order:1},{id:"your-personal-forge",title:"Your Personal Forge",description:"Track positions, monitor yields, and shield against impermanent loss with your precision-forged dashboard.",icon:"security",order:2},{id:"learn-from-titans",title:"Learn from the Titans",description:"Discover the highest-performing positions and replicate the strategies of DeFi's master smiths.",icon:"yields",order:3}],hg=t=>{const e=(t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,n)=>n?n.toUpperCase():e.toLowerCase()))(t);return e.charAt(0).toUpperCase()+e.slice(1)},dg=(...t)=>t.filter((t,e,n)=>Boolean(t)&&""!==t.trim()&&n.indexOf(t)===e).join(" ").trim(),mg=t=>{for(const e in t)if(e.startsWith("aria-")||"role"===e||"title"===e)return!0};
/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
var fg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=n.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:a,...c},l)=>n.createElement("svg",{ref:l,...fg,width:e,height:e,stroke:t,strokeWidth:r?24*Number(i)/Number(e):i,className:dg("lucide",s),...!o&&!mg(c)&&{"aria-hidden":"true"},...c},[...a.map(([t,e])=>n.createElement(t,e)),...Array.isArray(o)?o:[o]])),gg=(t,e)=>{const i=n.forwardRef(({className:i,...r},s)=>{return n.createElement(pg,{ref:s,iconNode:e,className:dg(`lucide-${o=hg(t),o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${t}`,i),...r});var o});return i.displayName=hg(t),i},yg=gg("chart-line",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]),wg=gg("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),vg={analytics:yg,yields:gg("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),security:wg};
/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */function bg({feature:t}){const e=100*t.order+"ms",n=t.icon?vg[t.icon]:null;return y.jsxs("div",{className:"group relative flex flex-col items-center gap-4 overflow-hidden rounded-lg deep-gradient p-6 text-center shadow-md backdrop-blur-xl transition-all duration-500 hover:border-solana-purple/60 hover:shadow-lg sm:p-8",style:{animationDelay:e},children:[y.jsx("div",{className:"absolute left-0 top-0 h-[2px] w-full bg-gradient-to-r from-transparent via-forge-steel/40 to-transparent"}),y.jsx("div",{className:"absolute left-2 top-0 h-full w-[1px] bg-gradient-to-b from-transparent via-solana-purple/30 to-transparent opacity-0 transition-opacity duration-500 group-hover:opacity-100"}),y.jsx("div",{className:"absolute right-2 top-0 h-full w-[1px] bg-gradient-to-b from-transparent via-solana-purple/30 to-transparent opacity-0 transition-opacity duration-500 group-hover:opacity-100",style:{transitionDelay:"0.1s"}}),y.jsx("div",{className:"absolute -left-20 -top-20 h-40 w-40 rounded-full bg-solana-purple/15 opacity-0 blur-3xl transition-opacity duration-500 group-hover:opacity-100"}),n&&y.jsx("div",{className:"relative transition-transform duration-500 group-hover:scale-110",children:y.jsx(n,{className:"relative h-10 w-10 text-solana-purple transition-all duration-500",strokeWidth:.5})}),y.jsx("h3",{className:"relative font-body text-xl font-medium text-gray-200 transition-all duration-500 group-hover:text-gray-100 sm:text-2xl",children:t.title}),y.jsx("p",{className:"relative text-sm leading-relaxed text-gray-400 transition-colors duration-300 group-hover:text-gray-300 sm:text-base",children:t.description}),y.jsx("div",{className:"absolute bottom-0 left-0 h-[1px] w-0 bg-gradient-to-r from-solana-purple/10 to-solana-purple/60 transition-all duration-700 group-hover:w-full"})]})}const xg=()=>y.jsxs("section",{id:"features","aria-labelledby":"features-title",className:"bg-violet-abyss relative w-full px-6 py-20 md:px-12 lg:py-32",children:[y.jsx("div",{className:"absolute inset-x-0 top-0 h-60 bg-gradient-to-b from-solana-gray via-solana-gray/80 to-transparent"}),y.jsxs("div",{className:"relative z-10 mx-auto max-w-7xl",children:[y.jsx("h2",{id:"features-title",className:"mb-16 text-center font-title text-4xl font-bold drop-shadow-md md:text-5xl",children:"Forged Features"}),y.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 sm:gap-8 lg:grid-cols-3",children:ug.map(t=>y.jsx(bg,{feature:t},t.id))})]})]}),Eg=[{id:"social-x",platform:"x",label:"X",url:"https://x.com/Brokkfinance",ariaLabel:"Follow Brokk Pools on X"},{id:"social-discord",platform:"discord",label:"Discord",url:"https://discord.gg/Brokkfinance",ariaLabel:"Join Brokk Pools Discord community"},{id:"social-docs",platform:"docs",label:"Documentation",url:"https://docs.Brokkfinance.com",ariaLabel:"Read Brokk Pools documentation"}];function Mg({platform:t}){const e="w-5 h-5 sm:w-6 sm:h-6 fill-current";return"x"===t?y.jsx("svg",{className:e,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})}):"discord"===t?y.jsx("svg",{className:e,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{d:"M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028c.462-.63.874-1.295 1.226-1.994a.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"})}):"docs"===t?y.jsx("svg",{className:e,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm4 18H6V4h7v5h5v11zM8 15h8v2H8v-2zm0-4h8v2H8v-2zm0-4h5v2H8V7z"})}):null}const Sg=()=>y.jsxs("footer",{id:"footer",className:"relative w-full border-t border-forge-steel/10 bg-gradient-to-b from-forge-deepblack/40 to-forge-deepblack/80 backdrop-blur-xl",children:[y.jsx("div",{className:"absolute left-0 top-0 h-[1px] w-full bg-gradient-to-r from-transparent via-solana-purple/40 to-transparent"}),y.jsx("div",{className:"relative mx-auto max-w-7xl px-6 py-6",children:y.jsxs("div",{className:"flex flex-col items-center justify-between gap-4 sm:flex-row",children:[y.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[y.jsxs("span",{className:"font-display",children:["© ",(new Date).getFullYear()," Brokk Pools"]}),y.jsx("span",{className:"hidden text-forge-steel/40 sm:inline",children:"•"}),y.jsx("span",{className:"hidden text-xs sm:inline",children:"Forged in DeFi"})]}),y.jsx("div",{className:"flex items-center gap-3",children:Eg.map(t=>y.jsx("a",{href:t.url,target:"_blank",rel:"noopener noreferrer","aria-label":t.ariaLabel,className:"group relative",children:y.jsx("div",{className:"relative rounded-full bg-forge-metaldark/40 p-2 transition-all duration-300 hover:scale-110 hover:bg-forge-metaldark/60",children:y.jsx("div",{className:"relative",children:y.jsx(Mg,{platform:t.platform})})})},t.id))})]})})]}),Ag=[{id:"ancient-forge",title:"Ancient Forge",description:"From the ancient halls of Svartálfheim, the dwarf Brokk forged artifacts that shaped the fate of gods. His hammer struck true, crafting Mjölnir for Thor himself.",order:1},{id:"cyberpunk-awakening",title:"Cyberpunk Awakening",description:"Millennia later, in a future where blockchain and mythology converge, Brokk awakens in a cyberpunk realm. His forge now glows with neon light, his anvil strikes echo across the Solana network.",order:2},{id:"new-masterwork",title:"The Masterwork",description:"His new mission: forge tools that empower mortals to navigate the decentralized cosmos. Brokk Pools is his masterwork—where data is hammered into wisdom, and liquidity becomes lightning.",order:3}],kg=()=>y.jsx("section",{id:"about",className:"relative w-full px-6 py-20 md:px-12 lg:py-32",children:y.jsxs("div",{className:"relative z-10 mx-auto max-w-7xl",children:[y.jsx("h2",{id:"about-title",className:"mb-16 text-center font-title text-4xl font-bold drop-shadow-md md:text-5xl",children:"The Legend of Brokk"}),y.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 sm:gap-8 lg:grid-cols-3",children:Ag.map(t=>y.jsx(bg,{feature:t},t.id))})]})});const Ig={USD:2,PERCENTAGE:2};function Ng(t){const e=t;return"string"==typeof e?.id&&"string"==typeof e?.protocol&&"object"==typeof e?.tokenPair&&"object"==typeof e?.priceRange&&"object"==typeof e?.status&&"object"==typeof e?.pooledAssets&&"object"==typeof e?.metrics&&"object"==typeof e?.fees&&"object"==typeof e?.historicalData&&"string"==typeof e?.createdAt}const Lg={positions:[{id:"7xKXtg2CW2PnLzPvqmHZWRuDVBBwGMZvDJTLMBpWJHmj",protocol:"Orca",tokenPair:{tokenA:{symbol:"SOL",name:"Solana",mint:"So11111111111111111111111111111111111111112",decimals:9,logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/So11111111111111111111111111111111111111112/logo.png"},tokenB:{symbol:"USDC",name:"USD Coin",mint:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",decimals:6,logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v/logo.png"},currentPrice:152.34},priceRange:{min:140,max:180,current:152.34},status:{inRange:!0,autoCompound:!1},pooledAssets:{tokenAAmount:12.5,tokenBAmount:950.25,totalValueUSD:2854.5},initialAssets:{tokenAAmount:13,tokenBAmount:1e3,timestamp:"2024-09-15T10:30:00Z"},metrics:{totalPnL:124.75,roi:4.57,impermanentLoss:124.75,totalAPR:18.5,feeAPR:15.2,gasCosts:2.45,netProfit:256.8,ageInDays:88},fees:{totalEarned:259.25,uncollected:45.3,daily:2.95,weekly:20.65,monthly:88.5},historicalData:{prices:[{timestamp:1757723484509,price:154.46},{timestamp:1757809884509,price:150.7},{timestamp:1757896284509,price:154.36},{timestamp:1757982684509,price:151.99},{timestamp:1758069084509,price:155.2},{timestamp:1758155484509,price:151.24},{timestamp:1758241884509,price:147.52},{timestamp:1758328284509,price:146.29},{timestamp:1758414684509,price:149.46},{timestamp:1758501084509,price:147.96},{timestamp:1758587484509,price:149.8},{timestamp:1758673884509,price:152.94},{timestamp:1758760284509,price:153.7},{timestamp:1758846684509,price:154.98},{timestamp:1758933084509,price:151.08},{timestamp:1759019484509,price:152.16},{timestamp:1759105884509,price:152.82},{timestamp:1759192284509,price:155.52},{timestamp:1759278684509,price:157.44},{timestamp:1759365084509,price:156.62},{timestamp:1759451484509,price:161.18},{timestamp:1759537884509,price:156.49},{timestamp:1759624284509,price:157.47},{timestamp:1759710684509,price:158.09},{timestamp:1759797084509,price:155.39},{timestamp:1759883484509,price:154.2},{timestamp:1759969884509,price:154.34},{timestamp:1760056284509,price:154.17},{timestamp:1760142684509,price:152.05},{timestamp:1760229084509,price:150.38},{timestamp:1760315484509,price:148.09}],volume:[{timestamp:1757723484509,volume:31460.06},{timestamp:1757809884509,volume:24269.8},{timestamp:1757896284509,volume:16401.2},{timestamp:1757982684509,volume:17729.47},{timestamp:1758069084509,volume:22974.06},{timestamp:1758155484509,volume:27914.73},{timestamp:1758241884509,volume:15023.05},{timestamp:1758328284509,volume:33227.95},{timestamp:1758414684509,volume:39206.47},{timestamp:1758501084509,volume:34851.33},{timestamp:1758587484509,volume:24540.41},{timestamp:1758673884509,volume:23138.78},{timestamp:1758760284509,volume:25546.52},{timestamp:1758846684509,volume:25461.99},{timestamp:1758933084509,volume:16033.64},{timestamp:1759019484509,volume:38472.95},{timestamp:1759105884509,volume:35760.3},{timestamp:1759192284509,volume:19410.24},{timestamp:1759278684509,volume:28967.28},{timestamp:1759365084509,volume:34071.76},{timestamp:1759451484509,volume:30412.41},{timestamp:1759537884509,volume:38277.39},{timestamp:1759624284509,volume:28922.7},{timestamp:1759710684509,volume:27102.65},{timestamp:1759797084509,volume:34331.72},{timestamp:1759883484509,volume:31481.35},{timestamp:1759969884509,volume:21335.38},{timestamp:1760056284509,volume:36524.88},{timestamp:1760142684509,volume:14692.67},{timestamp:1760229084509,volume:36117.8},{timestamp:1760315484509,volume:31526.6}],fees:[{timestamp:1757723484510,fees:1.51},{timestamp:1757809884510,fees:4.19},{timestamp:1757896284510,fees:1.66},{timestamp:1757982684510,fees:3.47},{timestamp:1758069084510,fees:.62},{timestamp:1758155484510,fees:.56},{timestamp:1758241884510,fees:.63},{timestamp:1758328284510,fees:2.12},{timestamp:1758414684510,fees:3.09},{timestamp:1758501084510,fees:.58},{timestamp:1758587484510,fees:3.47},{timestamp:1758673884510,fees:3.89},{timestamp:1758760284510,fees:3.48},{timestamp:1758846684510,fees:2.34},{timestamp:1758933084510,fees:.57},{timestamp:1759019484510,fees:1.91},{timestamp:1759105884510,fees:4.34},{timestamp:1759192284510,fees:2.57},{timestamp:1759278684510,fees:.66},{timestamp:1759365084510,fees:3.54},{timestamp:1759451484510,fees:4.75},{timestamp:1759537884510,fees:4.99},{timestamp:1759624284510,fees:3.94},{timestamp:1759710684510,fees:1.88},{timestamp:1759797084510,fees:1.51},{timestamp:1759883484510,fees:1.74},{timestamp:1759969884510,fees:4.87},{timestamp:1760056284510,fees:.86},{timestamp:1760142684510,fees:2.34},{timestamp:1760229084510,fees:4.54},{timestamp:1760315484510,fees:2.68}],liquidityDistribution:[{price:140,liquidity:46702.24},{price:142,liquidity:58591.65},{price:144,liquidity:70625.56},{price:146,liquidity:81793.04},{price:148,liquidity:91012.07},{price:150,liquidity:97299.34},{price:152,liquidity:99942.22},{price:154,liquidity:98631.65},{price:156,liquidity:93521.58},{price:158,liquidity:85199.21},{price:160,liquidity:74574.02},{price:162,liquidity:62714.47},{price:164,liquidity:50672.95},{price:166,liquidity:39338.05},{price:168,liquidity:29341.19},{price:170,liquidity:21026.68},{price:172,liquidity:14477.45},{price:174,liquidity:9577.27},{price:176,liquidity:6087.22},{price:178,liquidity:3717.28},{price:180,liquidity:2181.02}]},createdAt:"2024-09-15T10:30:00Z",updatedAt:"2025-10-12T08:15:00Z"},{id:"9mWRABPZj3K7Q4JxTYvHpFLd2nXwE6vZ8pqCkM5rL3Hn",protocol:"Orca",tokenPair:{tokenA:{symbol:"ETH",name:"Ethereum (Portal)",mint:"7vfCXTUXx5WJV5JADk17DUJ4ksgau7utNKj4b963voxs",decimals:8,logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/7vfCXTUXx5WJV5JADk17DUJ4ksgau7utNKj4b963voxs/logo.png"},tokenB:{symbol:"USDC",name:"USD Coin",mint:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",decimals:6},currentPrice:2847.92},priceRange:{min:3200,max:4e3,current:2847.92},status:{inRange:!1,autoCompound:!1},pooledAssets:{tokenAAmount:0,tokenBAmount:8547.83,totalValueUSD:8547.83},initialAssets:{tokenAAmount:3,tokenBAmount:1e3,timestamp:"2024-03-20T14:22:00Z"},metrics:{totalPnL:-1295.93,roi:-13.16,impermanentLoss:-1295.93,totalAPR:8.3,feeAPR:8.3,gasCosts:3.12,netProfit:-1115.45,ageInDays:206},fees:{totalEarned:183.6,uncollected:12.8,daily:.89,weekly:6.23,monthly:26.7},historicalData:{prices:[{timestamp:1757723484510,price:2813.41},{timestamp:1757809884510,price:2848.03},{timestamp:1757896284510,price:2890.93},{timestamp:1757982684510,price:2851.01},{timestamp:1758069084510,price:2829.48},{timestamp:1758155484510,price:2853.19},{timestamp:1758241884510,price:2776.66},{timestamp:1758328284510,price:2717.24},{timestamp:1758414684510,price:2703.77},{timestamp:1758501084510,price:2693.27},{timestamp:1758587484510,price:2761.49},{timestamp:1758673884510,price:2835.37},{timestamp:1758760284510,price:2766.2},{timestamp:1758846684510,price:2756.75},{timestamp:1758933084510,price:2788.39},{timestamp:1759019484510,price:2839.4},{timestamp:1759105884510,price:2824.31},{timestamp:1759192284510,price:2827.68},{timestamp:1759278684510,price:2837.37},{timestamp:1759365084510,price:2790.05},{timestamp:1759451484510,price:2872.22},{timestamp:1759537884510,price:2920.34},{timestamp:1759624284510,price:2992.26},{timestamp:1759710684510,price:3050.55},{timestamp:1759797084510,price:3015.98},{timestamp:1759883484510,price:2963.22},{timestamp:1759969884510,price:2886.71},{timestamp:1760056284510,price:2852.75},{timestamp:1760142684510,price:2930.55},{timestamp:1760229084510,price:2937.05},{timestamp:1760315484510,price:2907.72}],volume:[{timestamp:1757723484510,volume:82819.33},{timestamp:1757809884510,volume:71401.62},{timestamp:1757896284510,volume:124224.76},{timestamp:1757982684510,volume:79993.23},{timestamp:1758069084510,volume:123621.93},{timestamp:1758155484510,volume:85855.07},{timestamp:1758241884510,volume:111676.6},{timestamp:1758328284510,volume:69640.43},{timestamp:1758414684510,volume:112328.8},{timestamp:1758501084510,volume:108751.41},{timestamp:1758587484510,volume:106361.41},{timestamp:1758673884510,volume:58982.88},{timestamp:1758760284510,volume:73038.21},{timestamp:1758846684510,volume:69932.28},{timestamp:1758933084510,volume:91544.67},{timestamp:1759019484510,volume:94620.34},{timestamp:1759105884510,volume:116370.39},{timestamp:1759192284510,volume:106333.55},{timestamp:1759278684510,volume:78439.76},{timestamp:1759365084510,volume:119966.33},{timestamp:1759451484510,volume:77884},{timestamp:1759537884510,volume:118699.2},{timestamp:1759624284510,volume:88159.77},{timestamp:1759710684510,volume:122456.18},{timestamp:1759797084510,volume:119283.46},{timestamp:1759883484510,volume:86268.44},{timestamp:1759969884510,volume:47589.38},{timestamp:1760056284510,volume:109142.27},{timestamp:1760142684510,volume:56679.26},{timestamp:1760229084510,volume:120897.75},{timestamp:1760315484510,volume:85711.17}],fees:[{timestamp:1757723484510,fees:4.64},{timestamp:1757809884510,fees:4.79},{timestamp:1757896284510,fees:2.33},{timestamp:1757982684510,fees:3.21},{timestamp:1758069084510,fees:4.39},{timestamp:1758155484510,fees:2.18},{timestamp:1758241884510,fees:2.67},{timestamp:1758328284510,fees:3.33},{timestamp:1758414684510,fees:1.21},{timestamp:1758501084510,fees:1.85},{timestamp:1758587484510,fees:3.71},{timestamp:1758673884510,fees:.74},{timestamp:1758760284510,fees:2.47},{timestamp:1758846684510,fees:3.52},{timestamp:1758933084510,fees:2.61},{timestamp:1759019484510,fees:3.82},{timestamp:1759105884510,fees:3.03},{timestamp:1759192284510,fees:3.83},{timestamp:1759278684510,fees:2.9},{timestamp:1759365084510,fees:2.45},{timestamp:1759451484510,fees:1.66},{timestamp:1759537884510,fees:4.3},{timestamp:1759624284510,fees:.64},{timestamp:1759710684510,fees:2.29},{timestamp:1759797084510,fees:1.44},{timestamp:1759883484510,fees:1.22},{timestamp:1759969884510,fees:2.23},{timestamp:1760056284510,fees:2.7},{timestamp:1760142684510,fees:1.36},{timestamp:1760229084510,fees:3.34},{timestamp:1760315484510,fees:3.68}],liquidityDistribution:[{price:3200,liquidity:21235.33},{price:3240,liquidity:14637.49},{price:3280,liquidity:9693.99},{price:3320,liquidity:6168.32},{price:3360,liquidity:3771.02},{price:3400,liquidity:2215.03},{price:3440,liquidity:1250.05},{price:3480,liquidity:677.81},{price:3520,liquidity:353.11},{price:3560,liquidity:176.74},{price:3600,liquidity:85},{price:3640,liquidity:39.27},{price:3680,liquidity:17.43},{price:3720,liquidity:7.44},{price:3760,liquidity:3.05},{price:3800,liquidity:1.2},{price:3840,liquidity:.45},{price:3880,liquidity:.16},{price:3920,liquidity:.06},{price:3960,liquidity:.02},{price:4e3,liquidity:.01}]},createdAt:"2024-03-20T14:22:00Z",updatedAt:"2025-10-12T08:15:00Z"},{id:"BKipkearKqfNRu6y8yYGFrQTnTvChLR3fLqVz9vXTcHs",protocol:"Raydium",tokenPair:{tokenA:{symbol:"BONK",name:"Bonk",mint:"DezXAZ8z7PnrnRJjz3wXBoRgixCa6xjnB7YaB1pPB263",decimals:5},tokenB:{symbol:"SOL",name:"Solana",mint:"So11111111111111111111111111111111111111112",decimals:9},currentPrice:2847e-8},priceRange:{min:2e-5,max:35e-6,current:2847e-8},status:{inRange:!0,autoCompound:!0},pooledAssets:{tokenAAmount:52847621.35,tokenBAmount:9.823,totalValueUSD:2997.84},initialAssets:{tokenAAmount:5e7,tokenBAmount:10,timestamp:"2024-08-01T09:15:00Z"},metrics:{totalPnL:318.22,roi:11.87,impermanentLoss:318.22,totalAPR:52.3,feeAPR:42.1,gasCosts:4.65,netProfit:428.57,ageInDays:103},fees:{totalEarned:433.22,uncollected:89.5,daily:4.21,weekly:29.47,monthly:126.3},historicalData:{prices:[{timestamp:1757723484510,price:0},{timestamp:1757809884510,price:0},{timestamp:1757896284510,price:0},{timestamp:1757982684510,price:0},{timestamp:1758069084510,price:0},{timestamp:1758155484510,price:0},{timestamp:1758241884510,price:0},{timestamp:1758328284510,price:0},{timestamp:1758414684510,price:0},{timestamp:1758501084510,price:0},{timestamp:1758587484510,price:0},{timestamp:1758673884510,price:0},{timestamp:1758760284510,price:0},{timestamp:1758846684510,price:0},{timestamp:1758933084510,price:0},{timestamp:1759019484510,price:0},{timestamp:1759105884510,price:0},{timestamp:1759192284510,price:0},{timestamp:1759278684510,price:0},{timestamp:1759365084510,price:0},{timestamp:1759451484510,price:0},{timestamp:1759537884510,price:0},{timestamp:1759624284510,price:0},{timestamp:1759710684510,price:0},{timestamp:1759797084510,price:0},{timestamp:1759883484510,price:0},{timestamp:1759969884510,price:0},{timestamp:1760056284510,price:0},{timestamp:1760142684510,price:0},{timestamp:1760229084510,price:0},{timestamp:1760315484510,price:0}],volume:[{timestamp:1757723484510,volume:33301.59},{timestamp:1757809884510,volume:35756.4},{timestamp:1757896284510,volume:37757.31},{timestamp:1757982684510,volume:29913.79},{timestamp:1758069084510,volume:42091.45},{timestamp:1758155484510,volume:36854.01},{timestamp:1758241884510,volume:28623.05},{timestamp:1758328284510,volume:17902.34},{timestamp:1758414684510,volume:42770.42},{timestamp:1758501084510,volume:26487.09},{timestamp:1758587484510,volume:41249.53},{timestamp:1758673884510,volume:30166.63},{timestamp:1758760284510,volume:38254.11},{timestamp:1758846684510,volume:34363.72},{timestamp:1758933084510,volume:28846.07},{timestamp:1759019484510,volume:26608.01},{timestamp:1759105884510,volume:42158.2},{timestamp:1759192284510,volume:23401.79},{timestamp:1759278684510,volume:17361.86},{timestamp:1759365084510,volume:31446.56},{timestamp:1759451484510,volume:34697.11},{timestamp:1759537884510,volume:32465.8},{timestamp:1759624284510,volume:44522.59},{timestamp:1759710684510,volume:31411.76},{timestamp:1759797084510,volume:30758.25},{timestamp:1759883484510,volume:17087.34},{timestamp:1759969884510,volume:16205.42},{timestamp:1760056284510,volume:32641.15},{timestamp:1760142684510,volume:36991.85},{timestamp:1760229084510,volume:28900.21},{timestamp:1760315484510,volume:27503.05}],fees:[{timestamp:1757723484510,fees:.96},{timestamp:1757809884510,fees:2.14},{timestamp:1757896284510,fees:4.86},{timestamp:1757982684510,fees:1.32},{timestamp:1758069084510,fees:.52},{timestamp:1758155484510,fees:1.01},{timestamp:1758241884510,fees:4.13},{timestamp:1758328284510,fees:2.75},{timestamp:1758414684510,fees:1.82},{timestamp:1758501084510,fees:2.02},{timestamp:1758587484510,fees:4.63},{timestamp:1758673884510,fees:2.49},{timestamp:1758760284510,fees:1.93},{timestamp:1758846684510,fees:2.57},{timestamp:1758933084510,fees:4.54},{timestamp:1759019484510,fees:.63},{timestamp:1759105884510,fees:.92},{timestamp:1759192284510,fees:2.73},{timestamp:1759278684510,fees:4.08},{timestamp:1759365084510,fees:1.57},{timestamp:1759451484510,fees:4.84},{timestamp:1759537884510,fees:3.27},{timestamp:1759624284510,fees:3.93},{timestamp:1759710684510,fees:4.64},{timestamp:1759797084510,fees:4.46},{timestamp:1759883484510,fees:3.04},{timestamp:1759969884510,fees:2.74},{timestamp:1760056284510,fees:2.42},{timestamp:1760142684510,fees:3.35},{timestamp:1760229084510,fees:4.47},{timestamp:1760315484510,fees:1.93}],liquidityDistribution:[{price:0,liquidity:7802.02},{price:0,liquidity:12014.52},{price:0,liquidity:17776},{price:0,liquidity:25269.11},{price:0,liquidity:34512.31},{price:0,liquidity:45288.33},{price:0,liquidity:57098.77},{price:0,liquidity:69166.45},{price:0,liquidity:80499.37},{price:0,liquidity:90015.57},{price:0,liquidity:96709.92},{price:0,liquidity:99828.06},{price:0,liquidity:99006.22},{price:0,liquidity:94341.01},{price:0,liquidity:86370.77},{price:0,liquidity:75973.35},{price:0,liquidity:64207.24},{price:0,liquidity:52135.67},{price:0,liquidity:40673.74},{price:0,liquidity:30487.48},{price:0,liquidity:21956.19}]},createdAt:"2024-08-01T09:15:00Z",updatedAt:"2025-10-12T08:15:00Z"},{id:"4vJ9JU1bJJE96FWSJKvHsmmFADCg4gpZQff4P3bkLKi",protocol:"Orca",tokenPair:{tokenA:{symbol:"USDT",name:"Tether USD",mint:"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB",decimals:6},tokenB:{symbol:"USDC",name:"USD Coin",mint:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",decimals:6},currentPrice:1.0001},priceRange:{min:.998,max:1.002,current:1.0001},status:{inRange:!0,autoCompound:!1},pooledAssets:{tokenAAmount:5000.12,tokenBAmount:5000.08,totalValueUSD:10000.2},initialAssets:{tokenAAmount:5e3,tokenBAmount:5e3,timestamp:"2024-06-10T16:45:00Z"},metrics:{totalPnL:.03,roi:3e-4,impermanentLoss:.03,totalAPR:.12,feeAPR:.12,gasCosts:1.85,netProfit:-1.85,ageInDays:154},fees:{totalEarned:0,uncollected:0,daily:0,weekly:0,monthly:0},historicalData:{prices:[{timestamp:1757723484510,price:.97},{timestamp:1757809884510,price:.98},{timestamp:1757896284510,price:.95},{timestamp:1757982684510,price:.94},{timestamp:1758069084510,price:.92},{timestamp:1758155484510,price:.91},{timestamp:1758241884510,price:.89},{timestamp:1758328284510,price:.87},{timestamp:1758414684510,price:.9},{timestamp:1758501084510,price:.87},{timestamp:1758587484510,price:.86},{timestamp:1758673884510,price:.87},{timestamp:1758760284510,price:.9},{timestamp:1758846684510,price:.88},{timestamp:1758933084510,price:.9},{timestamp:1759019484510,price:.9},{timestamp:1759105884510,price:.88},{timestamp:1759192284510,price:.87},{timestamp:1759278684510,price:.86},{timestamp:1759365084510,price:.85},{timestamp:1759451484510,price:.85},{timestamp:1759537884510,price:.88},{timestamp:1759624284510,price:.9},{timestamp:1759710684510,price:.9},{timestamp:1759797084510,price:.91},{timestamp:1759883484510,price:.91},{timestamp:1759969884510,price:.88},{timestamp:1760056284510,price:.88},{timestamp:1760142684510,price:.88},{timestamp:1760229084510,price:.9},{timestamp:1760315484510,price:.89}],volume:[{timestamp:1757723484510,volume:79833.38},{timestamp:1757809884510,volume:77196.55},{timestamp:1757896284510,volume:101956.64},{timestamp:1757982684510,volume:52294.51},{timestamp:1758069084510,volume:100336.94},{timestamp:1758155484510,volume:82750.97},{timestamp:1758241884510,volume:96297.86},{timestamp:1758328284510,volume:113535.11},{timestamp:1758414684510,volume:89149.08},{timestamp:1758501084510,volume:115236.78},{timestamp:1758587484510,volume:139684.56},{timestamp:1758673884510,volume:114428.44},{timestamp:1758760284510,volume:101568.61},{timestamp:1758846684510,volume:76103.31},{timestamp:1758933084510,volume:149115.88},{timestamp:1759019484510,volume:76571.23},{timestamp:1759105884510,volume:138740.92},{timestamp:1759192284510,volume:74849.49},{timestamp:1759278684510,volume:71750.69},{timestamp:1759365084510,volume:116281.74},{timestamp:1759451484510,volume:94291.95},{timestamp:1759537884510,volume:86271.31},{timestamp:1759624284510,volume:91669.38},{timestamp:1759710684510,volume:105785.47},{timestamp:1759797084510,volume:117345.2},{timestamp:1759883484510,volume:126517.23},{timestamp:1759969884510,volume:104427.18},{timestamp:1760056284510,volume:88840.5},{timestamp:1760142684510,volume:80138.84},{timestamp:1760229084510,volume:144845.29},{timestamp:1760315484510,volume:72207.49}],fees:[{timestamp:1757723484510,fees:2.96},{timestamp:1757809884510,fees:2.37},{timestamp:1757896284510,fees:2.59},{timestamp:1757982684510,fees:4.94},{timestamp:1758069084510,fees:3.92},{timestamp:1758155484510,fees:2.37},{timestamp:1758241884510,fees:2.66},{timestamp:1758328284510,fees:4.69},{timestamp:1758414684510,fees:.69},{timestamp:1758501084510,fees:3.94},{timestamp:1758587484510,fees:4.93},{timestamp:1758673884510,fees:4.29},{timestamp:1758760284510,fees:1.34},{timestamp:1758846684510,fees:3.74},{timestamp:1758933084510,fees:3.4},{timestamp:1759019484510,fees:4.68},{timestamp:1759105884510,fees:3.74},{timestamp:1759192284510,fees:1.22},{timestamp:1759278684510,fees:1.99},{timestamp:1759365084510,fees:4.7},{timestamp:1759451484510,fees:4.59},{timestamp:1759537884510,fees:4.73},{timestamp:1759624284510,fees:2.31},{timestamp:1759710684510,fees:1.29},{timestamp:1759797084510,fees:3.66},{timestamp:1759883484510,fees:2.53},{timestamp:1759969884510,fees:2.33},{timestamp:1760056284510,fees:4.89},{timestamp:1760142684510,fees:2.74},{timestamp:1760229084510,fees:3.36},{timestamp:1760315484510,fees:2.34}],liquidityDistribution:[{price:1,liquidity:11025.05},{price:1,liquidity:16447.45},{price:1,liquidity:23574.61},{price:1,liquidity:32465.25},{price:1,liquidity:42955.74},{price:1,liquidity:54607.44},{price:1,liquidity:66697.68},{price:1,liquidity:78270.45},{price:1,liquidity:88249.69},{price:1,liquidity:95599.75},{price:1,liquidity:99501.25},{price:1,liquidity:99501.25},{price:1,liquidity:95599.75},{price:1,liquidity:88249.69},{price:1,liquidity:78270.45},{price:1,liquidity:66697.68},{price:1,liquidity:54607.44},{price:1,liquidity:42955.74},{price:1,liquidity:32465.25},{price:1,liquidity:23574.61},{price:1,liquidity:16447.45}]},createdAt:"2024-06-10T16:45:00Z",updatedAt:"2025-10-12T08:15:00Z"},{id:"HmZ7vYwvRW9pKjQ5nXyL3GfJ8tC2sV6uDpBkE4rNwFxA",protocol:"Raydium",tokenPair:{tokenA:{symbol:"SOL",name:"Solana",mint:"So11111111111111111111111111111111111111112",decimals:9},tokenB:{symbol:"USDC",name:"USD Coin",mint:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",decimals:6},currentPrice:152.34},priceRange:{min:145,max:160,current:152.34},status:{inRange:!0,autoCompound:!0},pooledAssets:{tokenAAmount:3284.56,tokenBAmount:250123.45,totalValueUSD:750456.78},initialAssets:{tokenAAmount:3200,tokenBAmount:24e4,timestamp:"2023-12-05T11:20:00Z"},metrics:{totalPnL:28952.34,roi:4.01,impermanentLoss:28952.34,totalAPR:15.8,feeAPR:12.5,gasCosts:8.92,netProfit:42847.42,ageInDays:312},fees:{totalEarned:42856.34,uncollected:1234.56,daily:137.35,weekly:961.45,monthly:4120.2},historicalData:{prices:[{timestamp:1757723484510,price:150.38},{timestamp:1757809884510,price:152.99},{timestamp:1757896284510,price:154.63},{timestamp:1757982684510,price:158.26},{timestamp:1758069084510,price:154.38},{timestamp:1758155484510,price:154.33},{timestamp:1758241884510,price:152.35},{timestamp:1758328284510,price:147.99},{timestamp:1758414684510,price:144.21},{timestamp:1758501084510,price:144.99},{timestamp:1758587484510,price:144.48},{timestamp:1758673884510,price:143.07},{timestamp:1758760284510,price:141.24},{timestamp:1758846684510,price:140.89},{timestamp:1758933084510,price:143.45},{timestamp:1759019484510,price:139.38},{timestamp:1759105884510,price:141.26},{timestamp:1759192284510,price:142.24},{timestamp:1759278684510,price:143.48},{timestamp:1759365084510,price:143.04},{timestamp:1759451484510,price:141.78},{timestamp:1759537884510,price:144.86},{timestamp:1759624284510,price:146.5},{timestamp:1759710684510,price:149.85},{timestamp:1759797084510,price:146.94},{timestamp:1759883484510,price:151.34},{timestamp:1759969884510,price:153.51},{timestamp:1760056284510,price:153.22},{timestamp:1760142684510,price:151.83},{timestamp:1760229084510,price:149.14},{timestamp:1760315484510,price:145.82}],volume:[{timestamp:1757723484510,volume:9408261.93},{timestamp:1757809884510,volume:4262120.9},{timestamp:1757896284510,volume:5571084.6},{timestamp:1757982684510,volume:7209663.02},{timestamp:1758069084510,volume:3920761.5},{timestamp:1758155484510,volume:7826146.69},{timestamp:1758241884510,volume:7889451.41},{timestamp:1758328284510,volume:9255549.41},{timestamp:1758414684510,volume:11045415.72},{timestamp:1758501084510,volume:10995497.95},{timestamp:1758587484510,volume:11035910.59},{timestamp:1758673884510,volume:4397597.84},{timestamp:1758760284510,volume:9337423.23},{timestamp:1758846684510,volume:6499326.47},{timestamp:1758933084510,volume:4912218.09},{timestamp:1759019484510,volume:4936427.74},{timestamp:1759105884510,volume:3801652.34},{timestamp:1759192284510,volume:5569952.16},{timestamp:1759278684510,volume:4790065.1},{timestamp:1759365084510,volume:5480307.4},{timestamp:1759451484510,volume:9160191.5},{timestamp:1759537884510,volume:11057494.52},{timestamp:1759624284510,volume:6659625.39},{timestamp:1759710684510,volume:6543095.3},{timestamp:1759797084510,volume:7788921.56},{timestamp:1759883484510,volume:6868526.39},{timestamp:1759969884510,volume:9706002.35},{timestamp:1760056284510,volume:6331894.95},{timestamp:1760142684510,volume:10468129.83},{timestamp:1760229084510,volume:6630912.46},{timestamp:1760315484510,volume:3993467.91}],fees:[{timestamp:1757723484510,fees:4.54},{timestamp:1757809884510,fees:3.67},{timestamp:1757896284510,fees:3.3},{timestamp:1757982684510,fees:3.31},{timestamp:1758069084510,fees:1.66},{timestamp:1758155484510,fees:2.32},{timestamp:1758241884510,fees:.93},{timestamp:1758328284510,fees:2.5},{timestamp:1758414684510,fees:1.42},{timestamp:1758501084510,fees:3.83},{timestamp:1758587484510,fees:4.17},{timestamp:1758673884510,fees:4.27},{timestamp:1758760284510,fees:3.8},{timestamp:1758846684510,fees:3.79},{timestamp:1758933084510,fees:2.59},{timestamp:1759019484510,fees:.9},{timestamp:1759105884510,fees:3.43},{timestamp:1759192284510,fees:1.41},{timestamp:1759278684510,fees:.9},{timestamp:1759365084510,fees:2.55},{timestamp:1759451484510,fees:3.45},{timestamp:1759537884510,fees:3.77},{timestamp:1759624284510,fees:1.31},{timestamp:1759710684510,fees:1.23},{timestamp:1759797084510,fees:2.57},{timestamp:1759883484510,fees:1.88},{timestamp:1759969884510,fees:1.79},{timestamp:1760056284510,fees:1.28},{timestamp:1760142684510,fees:1.63},{timestamp:1760229084510,fees:2.29},{timestamp:1760315484510,fees:3.96}],liquidityDistribution:[{price:145,liquidity:14725.69},{price:145.75,liquidity:21350.18},{price:146.5,liquidity:29741},{price:147.25,liquidity:39805.03},{price:148,liquidity:51185.69},{price:148.75,liquidity:63239.34},{price:149.5,liquidity:75067.92},{price:150.25,liquidity:85614.95},{price:151,liquidity:93815.18},{price:151.75,liquidity:98769.94},{price:152.5,liquidity:99909.02},{price:153.25,liquidity:97098.57},{price:154,liquidity:90666.99},{price:154.75,liquidity:81341.79},{price:155.5,liquidity:70114.29},{price:156.25,liquidity:58066.76},{price:157,liquidity:46203.7},{price:157.75,liquidity:35322.73},{price:158.5,liquidity:25945.37},{price:159.25,liquidity:18310.23},{price:160,liquidity:12415.26}]},createdAt:"2023-12-05T11:20:00Z",updatedAt:"2025-10-12T08:15:00Z"},{id:"2kYpJ9rXvL8nQcHfZbD3wMsPtG5uA7eV6iKdNx4Rm1Bq",protocol:"Orca",tokenPair:{tokenA:{symbol:"RAY",name:"Raydium",mint:"4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R",decimals:6},tokenB:{symbol:"USDC",name:"USD Coin",mint:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",decimals:6},currentPrice:3.47},priceRange:{min:2.8,max:4.2,current:3.47},status:{inRange:!0,autoCompound:!1},pooledAssets:{tokenAAmount:2.885,tokenBAmount:5,totalValueUSD:15.01},initialAssets:{tokenAAmount:2.5,tokenBAmount:5,timestamp:"2025-10-08T18:30:00Z"},metrics:{totalPnL:.96,roi:6.86,impermanentLoss:.96,totalAPR:627.4,feeAPR:547.2,gasCosts:.45,netProfit:.58,ageInDays:4},fees:{totalEarned:1.03,uncollected:.92,daily:.26,weekly:1.03,monthly:1.03},historicalData:{prices:[{timestamp:1757723484510,price:3.49},{timestamp:1757809884510,price:3.59},{timestamp:1757896284510,price:3.64},{timestamp:1757982684510,price:3.69},{timestamp:1758069084510,price:3.68},{timestamp:1758155484510,price:3.78},{timestamp:1758241884510,price:3.83},{timestamp:1758328284510,price:3.78},{timestamp:1758414684510,price:3.86},{timestamp:1758501084510,price:3.93},{timestamp:1758587484510,price:3.82},{timestamp:1758673884510,price:3.84},{timestamp:1758760284510,price:3.75},{timestamp:1758846684510,price:3.77},{timestamp:1758933084510,price:3.76},{timestamp:1759019484510,price:3.78},{timestamp:1759105884510,price:3.83},{timestamp:1759192284510,price:3.91},{timestamp:1759278684510,price:3.97},{timestamp:1759365084510,price:4.02},{timestamp:1759451484510,price:4.03},{timestamp:1759537884510,price:3.96},{timestamp:1759624284510,price:4.02},{timestamp:1759710684510,price:4},{timestamp:1759797084510,price:4.07},{timestamp:1759883484510,price:4},{timestamp:1759969884510,price:3.91},{timestamp:1760056284510,price:3.83},{timestamp:1760142684510,price:3.93},{timestamp:1760229084510,price:3.91},{timestamp:1760315484510,price:3.9}],volume:[{timestamp:1757723484510,volume:123.13},{timestamp:1757809884510,volume:106.84},{timestamp:1757896284510,volume:161.36},{timestamp:1757982684510,volume:136.28},{timestamp:1758069084510,volume:185.49},{timestamp:1758155484510,volume:195.19},{timestamp:1758241884510,volume:169.62},{timestamp:1758328284510,volume:213.52},{timestamp:1758414684510,volume:201.32},{timestamp:1758501084510,volume:85.75},{timestamp:1758587484510,volume:127.45},{timestamp:1758673884510,volume:186.32},{timestamp:1758760284510,volume:149.39},{timestamp:1758846684510,volume:171.79},{timestamp:1758933084510,volume:184.65},{timestamp:1759019484510,volume:171.27},{timestamp:1759105884510,volume:115.54},{timestamp:1759192284510,volume:213.96},{timestamp:1759278684510,volume:176.3},{timestamp:1759365084510,volume:203.46},{timestamp:1759451484510,volume:132.12},{timestamp:1759537884510,volume:163.31},{timestamp:1759624284510,volume:173.31},{timestamp:1759710684510,volume:207.95},{timestamp:1759797084510,volume:100.05},{timestamp:1759883484510,volume:191.21},{timestamp:1759969884510,volume:150.28},{timestamp:1760056284510,volume:153.08},{timestamp:1760142684510,volume:106.81},{timestamp:1760229084510,volume:103.08},{timestamp:1760315484510,volume:159.53}],fees:[{timestamp:1757723484510,fees:3.64},{timestamp:1757809884510,fees:4.83},{timestamp:1757896284510,fees:2.19},{timestamp:1757982684510,fees:3.03},{timestamp:1758069084510,fees:3.74},{timestamp:1758155484510,fees:1.82},{timestamp:1758241884510,fees:3.66},{timestamp:1758328284510,fees:2.62},{timestamp:1758414684510,fees:4.91},{timestamp:1758501084510,fees:3.67},{timestamp:1758587484510,fees:2.48},{timestamp:1758673884510,fees:3.87},{timestamp:1758760284510,fees:4.22},{timestamp:1758846684510,fees:3.27},{timestamp:1758933084510,fees:2.53},{timestamp:1759019484510,fees:4.58},{timestamp:1759105884510,fees:3.16},{timestamp:1759192284510,fees:.89},{timestamp:1759278684510,fees:2.68},{timestamp:1759365084510,fees:2.42},{timestamp:1759451484510,fees:4.92},{timestamp:1759537884510,fees:3.59},{timestamp:1759624284510,fees:2.39},{timestamp:1759710684510,fees:1.82},{timestamp:1759797084510,fees:4.64},{timestamp:1759883484510,fees:3.65},{timestamp:1759969884510,fees:2.94},{timestamp:1760056284510,fees:3.21},{timestamp:1760142684510,fees:1.58},{timestamp:1760229084510,fees:1.67},{timestamp:1760315484510,fees:3.49}],liquidityDistribution:[{price:2.8,liquidity:16005.39},{price:2.87,liquidity:23006.63},{price:2.94,liquidity:31773.72},{price:3.01,liquidity:42161.05},{price:3.08,liquidity:53750.55},{price:3.15,liquidity:65838.91},{price:3.22,liquidity:77483.74},{price:3.29,liquidity:87612.64},{price:3.36,liquidity:95181.2},{price:3.43,liquidity:99349.07},{price:3.5,liquidity:99633.33},{price:3.57,liquidity:96000.54},{price:3.64,liquidity:88873.23},{price:3.71,liquidity:79049.02},{price:3.78,liquidity:67553.87},{price:3.85,liquidity:55466.68},{price:3.92,liquidity:43756.47},{price:3.99,liquidity:33165.05},{price:4.06,liquidity:24151.68},{price:4.13,liquidity:16898.27},{price:4.2,liquidity:11359.66}]},createdAt:"2025-10-08T18:30:00Z",updatedAt:"2025-10-12T08:15:00Z"},{id:"8fBnX3TcRmLq9vKpY2sJ7DwHgN5eU4iCaV6tPxQ1oEzM",protocol:"Raydium",tokenPair:{tokenA:{symbol:"JUP",name:"Jupiter",mint:"JUPyiwrYJFskUPiHa7hkeR8VUtAeFoSYbKedZNsDvCN",decimals:6},tokenB:{symbol:"SOL",name:"Solana",mint:"So11111111111111111111111111111111111111112",decimals:9},currentPrice:.0068},priceRange:{min:.005,max:.009,current:.0068},status:{inRange:!0,autoCompound:!0},pooledAssets:{tokenAAmount:2458.32,tokenBAmount:109.6,totalValueUSD:33398},initialAssets:{tokenAAmount:15e3,tokenBAmount:50,timestamp:"2024-05-15T13:10:00Z"},metrics:{totalPnL:9847.12,roi:41.84,impermanentLoss:9847.12,totalAPR:32.7,feeAPR:28.4,gasCosts:6.23,netProfit:11245.89,ageInDays:180},fees:{totalEarned:11252.12,uncollected:456.78,daily:62.51,weekly:437.57,monthly:1875.35},historicalData:{prices:[{timestamp:1757723484510,price:.01},{timestamp:1757809884510,price:.01},{timestamp:1757896284510,price:.01},{timestamp:1757982684510,price:.01},{timestamp:1758069084510,price:.01},{timestamp:1758155484510,price:.01},{timestamp:1758241884510,price:.01},{timestamp:1758328284510,price:.01},{timestamp:1758414684510,price:.01},{timestamp:1758501084510,price:.01},{timestamp:1758587484510,price:.01},{timestamp:1758673884510,price:.01},{timestamp:1758760284510,price:.01},{timestamp:1758846684510,price:.01},{timestamp:1758933084510,price:.01},{timestamp:1759019484510,price:.01},{timestamp:1759105884510,price:.01},{timestamp:1759192284510,price:.01},{timestamp:1759278684510,price:.01},{timestamp:1759365084510,price:.01},{timestamp:1759451484510,price:.01},{timestamp:1759537884510,price:.01},{timestamp:1759624284510,price:.01},{timestamp:1759710684510,price:.01},{timestamp:1759797084510,price:.01},{timestamp:1759883484510,price:.01},{timestamp:1759969884510,price:.01},{timestamp:1760056284510,price:.01},{timestamp:1760142684510,price:.01},{timestamp:1760229084510,price:.01},{timestamp:1760315484510,price:.01}],volume:[{timestamp:1757723484510,volume:219220.12},{timestamp:1757809884510,volume:353035.64},{timestamp:1757896284510,volume:226732.04},{timestamp:1757982684510,volume:365646.77},{timestamp:1758069084510,volume:445699.77},{timestamp:1758155484510,volume:208299.88},{timestamp:1758241884510,volume:292082.03},{timestamp:1758328284510,volume:440388.5},{timestamp:1758414684510,volume:439445.91},{timestamp:1758501084510,volume:361175.12},{timestamp:1758587484510,volume:200670.14},{timestamp:1758673884510,volume:388817.28},{timestamp:1758760284510,volume:254577.83},{timestamp:1758846684510,volume:205005.82},{timestamp:1758933084510,volume:442112.86},{timestamp:1759019484510,volume:333440},{timestamp:1759105884510,volume:461535.68},{timestamp:1759192284510,volume:311631.2},{timestamp:1759278684510,volume:265504.64},{timestamp:1759365084510,volume:423122.86},{timestamp:1759451484510,volume:314680.12},{timestamp:1759537884510,volume:294339.74},{timestamp:1759624284510,volume:287147.41},{timestamp:1759710684510,volume:245408.22},{timestamp:1759797084510,volume:479988.06},{timestamp:1759883484510,volume:229376.11},{timestamp:1759969884510,volume:305411.44},{timestamp:1760056284510,volume:279405.1},{timestamp:1760142684510,volume:176109.73},{timestamp:1760229084510,volume:287600.64},{timestamp:1760315484510,volume:295019.69}],fees:[{timestamp:1757723484510,fees:4.69},{timestamp:1757809884510,fees:4.07},{timestamp:1757896284510,fees:1.84},{timestamp:1757982684510,fees:3.98},{timestamp:1758069084510,fees:2.34},{timestamp:1758155484510,fees:2.57},{timestamp:1758241884510,fees:2.52},{timestamp:1758328284510,fees:2.43},{timestamp:1758414684510,fees:1.88},{timestamp:1758501084510,fees:1.19},{timestamp:1758587484510,fees:1.59},{timestamp:1758673884510,fees:4.62},{timestamp:1758760284510,fees:2.81},{timestamp:1758846684510,fees:2.92},{timestamp:1758933084510,fees:3.54},{timestamp:1759019484510,fees:3.02},{timestamp:1759105884510,fees:2.64},{timestamp:1759192284510,fees:3.9},{timestamp:1759278684510,fees:3.81},{timestamp:1759365084510,fees:1.93},{timestamp:1759451484510,fees:1.56},{timestamp:1759537884510,fees:1.08},{timestamp:1759624284510,fees:2.32},{timestamp:1759710684510,fees:2.04},{timestamp:1759797084510,fees:3.17},{timestamp:1759883484510,fees:2.09},{timestamp:1759969884510,fees:3.45},{timestamp:1760056284510,fees:4.06},{timestamp:1760142684510,fees:.55},{timestamp:1760229084510,fees:2.1},{timestamp:1760315484510,fees:2.42}],liquidityDistribution:[{price:.01,liquidity:19789.87},{price:.01,liquidity:27803.73},{price:.01,liquidity:37531.11},{price:.01,liquidity:48675.23},{price:.01,liquidity:60653.07},{price:.01,liquidity:72614.9},{price:.01,liquidity:83527.02},{price:.01,liquidity:92311.63},{price:.01,liquidity:98019.87},{price:.01,liquidity:1e5},{price:.01,liquidity:98019.87},{price:.01,liquidity:92311.63},{price:.01,liquidity:83527.02},{price:.01,liquidity:72614.9},{price:.01,liquidity:60653.07},{price:.01,liquidity:48675.23},{price:.01,liquidity:37531.11},{price:.01,liquidity:27803.73},{price:.01,liquidity:19789.87},{price:.01,liquidity:13533.53},{price:.01,liquidity:8892.16}]},createdAt:"2024-05-15T13:10:00Z",updatedAt:"2025-10-12T08:15:00Z"},{id:"FnQ7vCpLxW2kM9jY8bR5sD3tHgN6eUoA4iVcP1zKmEx",protocol:"Orca",tokenPair:{tokenA:{symbol:"ORCA",name:"Orca",mint:"orcaEKTdK7LKz57vaAYr9QeNsVEPfiu6QeMU1kektZE",decimals:6},tokenB:{symbol:"USDC",name:"USD Coin",mint:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",decimals:6},currentPrice:4.23},priceRange:{min:3.5,max:5.5,current:4.23},status:{inRange:!0,autoCompound:!1},pooledAssets:{tokenAAmount:847.52,tokenBAmount:1789.34,totalValueUSD:5373.17},initialAssets:{tokenAAmount:850,tokenBAmount:1700,timestamp:"2024-07-22T10:05:00Z"},metrics:{totalPnL:78.92,roi:1.49,impermanentLoss:78.92,totalAPR:6.5,feeAPR:5.8,gasCosts:2.1,netProfit:156.82,ageInDays:112},fees:{totalEarned:158.92,uncollected:23.45,daily:1.42,weekly:9.94,monthly:42.6},historicalData:{prices:[{timestamp:1757723484510,price:4.32},{timestamp:1757809884510,price:4.38},{timestamp:1757896284510,price:4.41},{timestamp:1757982684510,price:4.5},{timestamp:1758069084510,price:4.61},{timestamp:1758155484510,price:4.6},{timestamp:1758241884510,price:4.5},{timestamp:1758328284510,price:4.59},{timestamp:1758414684510,price:4.53},{timestamp:1758501084510,price:4.6},{timestamp:1758587484510,price:4.73},{timestamp:1758673884510,price:4.83},{timestamp:1758760284510,price:4.7},{timestamp:1758846684510,price:4.65},{timestamp:1758933084510,price:4.64},{timestamp:1759019484510,price:4.76},{timestamp:1759105884510,price:4.76},{timestamp:1759192284510,price:4.63},{timestamp:1759278684510,price:4.57},{timestamp:1759365084510,price:4.67},{timestamp:1759451484510,price:4.56},{timestamp:1759537884510,price:4.53},{timestamp:1759624284510,price:4.46},{timestamp:1759710684510,price:4.59},{timestamp:1759797084510,price:4.66},{timestamp:1759883484510,price:4.54},{timestamp:1759969884510,price:4.63},{timestamp:1760056284510,price:4.65},{timestamp:1760142684510,price:4.68},{timestamp:1760229084510,price:4.58},{timestamp:1760315484510,price:4.49}],volume:[{timestamp:1757723484510,volume:67033.41},{timestamp:1757809884510,volume:50670.62},{timestamp:1757896284510,volume:50270.82},{timestamp:1757982684510,volume:44854.48},{timestamp:1758069084510,volume:35047.57},{timestamp:1758155484510,volume:65131.06},{timestamp:1758241884510,volume:30930.46},{timestamp:1758328284510,volume:51782.6},{timestamp:1758414684510,volume:73791.34},{timestamp:1758501084510,volume:54970.25},{timestamp:1758587484510,volume:49738.74},{timestamp:1758673884510,volume:67532.37},{timestamp:1758760284510,volume:33442.65},{timestamp:1758846684510,volume:31084.38},{timestamp:1758933084510,volume:40708.47},{timestamp:1759019484510,volume:38003.16},{timestamp:1759105884510,volume:79938.4},{timestamp:1759192284510,volume:74579.17},{timestamp:1759278684510,volume:30431.02},{timestamp:1759365084510,volume:41989.39},{timestamp:1759451484510,volume:79723.54},{timestamp:1759537884510,volume:68426},{timestamp:1759624284510,volume:40488.33},{timestamp:1759710684510,volume:39942.25},{timestamp:1759797084510,volume:42435.32},{timestamp:1759883484510,volume:66200.46},{timestamp:1759969884510,volume:61751.56},{timestamp:1760056284510,volume:59648.54},{timestamp:1760142684510,volume:62357.3},{timestamp:1760229084510,volume:50719.91},{timestamp:1760315484510,volume:58561.16}],fees:[{timestamp:1757723484510,fees:4.78},{timestamp:1757809884510,fees:2.32},{timestamp:1757896284510,fees:1.88},{timestamp:1757982684510,fees:3.71},{timestamp:1758069084510,fees:4.35},{timestamp:1758155484510,fees:4.63},{timestamp:1758241884510,fees:1.11},{timestamp:1758328284510,fees:.98},{timestamp:1758414684510,fees:1.96},{timestamp:1758501084510,fees:3.92},{timestamp:1758587484510,fees:3.73},{timestamp:1758673884510,fees:2.2},{timestamp:1758760284510,fees:1},{timestamp:1758846684510,fees:1.83},{timestamp:1758933084510,fees:.8},{timestamp:1759019484510,fees:1.54},{timestamp:1759105884510,fees:2.05},{timestamp:1759192284510,fees:1.3},{timestamp:1759278684510,fees:3.11},{timestamp:1759365084510,fees:4.13},{timestamp:1759451484510,fees:.81},{timestamp:1759537884510,fees:3.68},{timestamp:1759624284510,fees:1.24},{timestamp:1759710684510,fees:4.08},{timestamp:1759797084510,fees:1.57},{timestamp:1759883484510,fees:.7},{timestamp:1759969884510,fees:1.65},{timestamp:1760056284510,fees:3.24},{timestamp:1760142684510,fees:3.01},{timestamp:1760229084510,fees:.72},{timestamp:1760315484510,fees:3.97}],liquidityDistribution:[{price:3.5,liquidity:34445.22},{price:3.6,liquidity:45212.35},{price:3.7,liquidity:57018.18},{price:3.8,liquidity:69087.25},{price:3.9,liquidity:80428.63},{price:4,liquidity:89960.46},{price:4.1,liquidity:96676.48},{price:4.2,liquidity:99820.16},{price:4.3,liquidity:99024.79},{price:4.4,liquidity:94383.87},{price:4.5,liquidity:86433.06},{price:4.6,liquidity:76048.42},{price:4.7,liquidity:64287.82},{price:4.8,liquidity:52215.02},{price:4.9,liquidity:40746.51},{price:5,liquidity:30550.17},{price:5.1,liquidity:22007.21},{price:5.2,liquidity:15231.57},{price:5.3,liquidity:10128.67},{price:5.4,liquidity:6471.26},{price:5.5,liquidity:3972.4}]},createdAt:"2024-07-22T10:05:00Z",updatedAt:"2025-10-12T08:15:00Z"},{id:"DpW8kZ5vQnR3xYcHfJ2mL7tS9gB6eUoA1iNdP4rKmXz",protocol:"Raydium",tokenPair:{tokenA:{symbol:"WIF",name:"dogwifhat",mint:"EKpQGSJtjMFqKZ9KQanSqYXRcF8fBopzLHYxdM65zcjm",decimals:6},tokenB:{symbol:"SOL",name:"Solana",mint:"So11111111111111111111111111111111111111112",decimals:9},currentPrice:.0134},priceRange:{min:.008,max:.025,current:.0134},status:{inRange:!0,autoCompound:!0},pooledAssets:{tokenAAmount:8452.76,tokenBAmount:743.28,totalValueUSD:226542.8},initialAssets:{tokenAAmount:5e4,tokenBAmount:335,timestamp:"2024-02-10T08:50:00Z"},metrics:{totalPnL:140238.94,roi:162.27,impermanentLoss:140238.94,totalAPR:78.4,feeAPR:65.3,gasCosts:12.56,netProfit:154872.3,ageInDays:245},fees:{totalEarned:154884.86,uncollected:8945.67,daily:632.18,weekly:4425.26,monthly:18965.4},historicalData:{prices:[{timestamp:1757723484510,price:.01},{timestamp:1757809884510,price:.01},{timestamp:1757896284510,price:.01},{timestamp:1757982684510,price:.01},{timestamp:1758069084510,price:.01},{timestamp:1758155484510,price:.01},{timestamp:1758241884510,price:.01},{timestamp:1758328284510,price:.01},{timestamp:1758414684510,price:.01},{timestamp:1758501084510,price:.01},{timestamp:1758587484510,price:.01},{timestamp:1758673884510,price:.01},{timestamp:1758760284510,price:.01},{timestamp:1758846684510,price:.02},{timestamp:1758933084510,price:.02},{timestamp:1759019484510,price:.02},{timestamp:1759105884510,price:.02},{timestamp:1759192284510,price:.02},{timestamp:1759278684510,price:.02},{timestamp:1759365084510,price:.02},{timestamp:1759451484510,price:.02},{timestamp:1759537884510,price:.02},{timestamp:1759624284510,price:.02},{timestamp:1759710684510,price:.02},{timestamp:1759797084510,price:.02},{timestamp:1759883484510,price:.02},{timestamp:1759969884510,price:.02},{timestamp:1760056284510,price:.02},{timestamp:1760142684510,price:.02},{timestamp:1760229084510,price:.02},{timestamp:1760315484510,price:.02}],volume:[{timestamp:1757723484510,volume:1479678.15},{timestamp:1757809884510,volume:2295431.26},{timestamp:1757896284510,volume:2874533.99},{timestamp:1757982684510,volume:1860835.65},{timestamp:1758069084510,volume:2649326.28},{timestamp:1758155484510,volume:2342524.06},{timestamp:1758241884510,volume:3163778.15},{timestamp:1758328284510,volume:1706909.27},{timestamp:1758414684510,volume:1581347.39},{timestamp:1758501084510,volume:2994678.65},{timestamp:1758587484510,volume:2048632.03},{timestamp:1758673884510,volume:1704549.97},{timestamp:1758760284510,volume:1561364.43},{timestamp:1758846684510,volume:2048330.52},{timestamp:1758933084510,volume:2843878.99},{timestamp:1759019484510,volume:1527543.04},{timestamp:1759105884510,volume:2373133.46},{timestamp:1759192284510,volume:2794474.88},{timestamp:1759278684510,volume:2349633.74},{timestamp:1759365084510,volume:1662549.71},{timestamp:1759451484510,volume:2815143.91},{timestamp:1759537884510,volume:3377244.61},{timestamp:1759624284510,volume:2552909.34},{timestamp:1759710684510,volume:1963399.85},{timestamp:1759797084510,volume:2477648.6},{timestamp:1759883484510,volume:1601578.24},{timestamp:1759969884510,volume:3171236.53},{timestamp:1760056284510,volume:2520795.26},{timestamp:1760142684510,volume:3338472.91},{timestamp:1760229084510,volume:1617597.75},{timestamp:1760315484510,volume:1893458.24}],fees:[{timestamp:1757723484510,fees:.88},{timestamp:1757809884510,fees:2.26},{timestamp:1757896284510,fees:4.03},{timestamp:1757982684510,fees:.88},{timestamp:1758069084510,fees:3.77},{timestamp:1758155484510,fees:4.9},{timestamp:1758241884510,fees:4.01},{timestamp:1758328284510,fees:3.42},{timestamp:1758414684510,fees:2.53},{timestamp:1758501084510,fees:4.4},{timestamp:1758587484510,fees:2.91},{timestamp:1758673884510,fees:.77},{timestamp:1758760284510,fees:2.09},{timestamp:1758846684510,fees:.68},{timestamp:1758933084510,fees:1.96},{timestamp:1759019484510,fees:1.49},{timestamp:1759105884510,fees:1.55},{timestamp:1759192284510,fees:.77},{timestamp:1759278684510,fees:2.11},{timestamp:1759365084510,fees:4.95},{timestamp:1759451484510,fees:2.16},{timestamp:1759537884510,fees:4.81},{timestamp:1759624284510,fees:2.93},{timestamp:1759710684510,fees:4.8},{timestamp:1759797084510,fees:4.36},{timestamp:1759883484510,fees:1.52},{timestamp:1759969884510,fees:4.5},{timestamp:1760056284510,fees:4.29},{timestamp:1760142684510,fees:.67},{timestamp:1760229084510,fees:3.98},{timestamp:1760315484510,fees:4.93}],liquidityDistribution:[{price:.01,liquidity:44610.66},{price:.01,liquidity:56378.65},{price:.01,liquidity:68457.17},{price:.01,liquidity:79864.06},{price:.01,liquidity:89518.34},{price:.01,liquidity:96405.3},{price:.01,liquidity:99751.18},{price:.01,liquidity:99166.13},{price:.01,liquidity:94718.95},{price:.02,liquidity:86923.79},{price:.02,liquidity:76642.32},{price:.02,liquidity:64927.23},{price:.02,liquidity:52846.14},{price:.02,liquidity:41326.43},{price:.02,liquidity:31050.66},{price:.02,liquidity:22415.16},{price:.02,liquidity:15546.81},{price:.02,liquidity:10360.21},{price:.02,liquidity:6633.22},{price:.02,liquidity:4080.45},{price:.03,liquidity:2411.69}]},createdAt:"2024-02-10T08:50:00Z",updatedAt:"2025-10-12T08:15:00Z"},{id:"GkL3pW9vRnQ7xYcHfJ2mZ5tS8dB4eUoA6iKcP1zNmXy",protocol:"Orca",tokenPair:{tokenA:{symbol:"MSOL",name:"Marinade staked SOL",mint:"mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So",decimals:9},tokenB:{symbol:"SOL",name:"Solana",mint:"So11111111111111111111111111111111111111112",decimals:9},currentPrice:1.047},priceRange:{min:1.03,max:1.08,current:1.047},status:{inRange:!0,autoCompound:!1},pooledAssets:{tokenAAmount:52.34,tokenBAmount:54.76,totalValueUSD:16676.82},initialAssets:{tokenAAmount:52,tokenBAmount:54.5,timestamp:"2024-04-18T15:40:00Z"},metrics:{totalPnL:0,roi:0,impermanentLoss:0,totalAPR:2.1,feeAPR:2.1,gasCosts:1.95,netProfit:54.38,ageInDays:177},fees:{totalEarned:56.33,uncollected:8.9,daily:.32,weekly:2.24,monthly:9.6},historicalData:{prices:[{timestamp:1757723484511,price:1.06},{timestamp:1757809884511,price:1.05},{timestamp:1757896284511,price:1.05},{timestamp:1757982684511,price:1.02},{timestamp:1758069084511,price:.99},{timestamp:1758155484511,price:1.02},{timestamp:1758241884511,price:1.03},{timestamp:1758328284511,price:1.02},{timestamp:1758414684511,price:1},{timestamp:1758501084511,price:1.01},{timestamp:1758587484511,price:1.01},{timestamp:1758673884511,price:.98},{timestamp:1758760284511,price:.96},{timestamp:1758846684511,price:.96},{timestamp:1758933084511,price:.94},{timestamp:1759019484511,price:.94},{timestamp:1759105884511,price:.93},{timestamp:1759192284511,price:.94},{timestamp:1759278684511,price:.96},{timestamp:1759365084511,price:.93},{timestamp:1759451484511,price:.91},{timestamp:1759537884511,price:.93},{timestamp:1759624284511,price:.9},{timestamp:1759710684511,price:.88},{timestamp:1759797084511,price:.86},{timestamp:1759883484511,price:.85},{timestamp:1759969884511,price:.85},{timestamp:1760056284511,price:.83},{timestamp:1760142684511,price:.81},{timestamp:1760229084511,price:.81},{timestamp:1760315484511,price:.8}],volume:[{timestamp:1757723484511,volume:226582.5},{timestamp:1757809884511,volume:96134.98},{timestamp:1757896284511,volume:98367.85},{timestamp:1757982684511,volume:232721.33},{timestamp:1758069084511,volume:90441.35},{timestamp:1758155484511,volume:134026.64},{timestamp:1758241884511,volume:218281.02},{timestamp:1758328284511,volume:102798.58},{timestamp:1758414684511,volume:130967.63},{timestamp:1758501084511,volume:108483.57},{timestamp:1758587484511,volume:166815.61},{timestamp:1758673884511,volume:101673.69},{timestamp:1758760284511,volume:93910.76},{timestamp:1758846684511,volume:141034.33},{timestamp:1758933084511,volume:179086.88},{timestamp:1759019484511,volume:235445.52},{timestamp:1759105884511,volume:148429.68},{timestamp:1759192284511,volume:245275.03},{timestamp:1759278684511,volume:204973.64},{timestamp:1759365084511,volume:112588.06},{timestamp:1759451484511,volume:140610.79},{timestamp:1759537884511,volume:244082.15},{timestamp:1759624284511,volume:200321.92},{timestamp:1759710684511,volume:174671.34},{timestamp:1759797084511,volume:152886.65},{timestamp:1759883484511,volume:232810.02},{timestamp:1759969884511,volume:192231.19},{timestamp:1760056284511,volume:100095.86},{timestamp:1760142684511,volume:233982.31},{timestamp:1760229084511,volume:149835.41},{timestamp:1760315484511,volume:235621.41}],fees:[{timestamp:1757723484511,fees:4.6},{timestamp:1757809884511,fees:2.79},{timestamp:1757896284511,fees:3.15},{timestamp:1757982684511,fees:4.91},{timestamp:1758069084511,fees:3.9},{timestamp:1758155484511,fees:4.39},{timestamp:1758241884511,fees:2.01},{timestamp:1758328284511,fees:.84},{timestamp:1758414684511,fees:2.65},{timestamp:1758501084511,fees:1.17},{timestamp:1758587484511,fees:.77},{timestamp:1758673884511,fees:2.22},{timestamp:1758760284511,fees:2.07},{timestamp:1758846684511,fees:2.57},{timestamp:1758933084511,fees:4.44},{timestamp:1759019484511,fees:2.16},{timestamp:1759105884511,fees:4.37},{timestamp:1759192284511,fees:3.79},{timestamp:1759278684511,fees:3.94},{timestamp:1759365084511,fees:4.58},{timestamp:1759451484511,fees:4.71},{timestamp:1759537884511,fees:2.76},{timestamp:1759624284511,fees:4.04},{timestamp:1759710684511,fees:4.17},{timestamp:1759797084511,fees:1.16},{timestamp:1759883484511,fees:2.02},{timestamp:1759969884511,fees:4.17},{timestamp:1760056284511,fees:3.42},{timestamp:1760142684511,fees:4.19},{timestamp:1760229084511,fees:4.44},{timestamp:1760315484511,fees:4.87}],liquidityDistribution:[{price:1.03,liquidity:39661.07},{price:1.03,liquidity:51027.78},{price:1.04,liquidity:63077.88},{price:1.04,liquidity:74916.2},{price:1.04,liquidity:85487.5},{price:1.04,liquidity:93725.49},{price:1.04,liquidity:98728.16},{price:1.05,liquidity:99920.03},{price:1.05,liquidity:97161.08},{price:1.05,liquidity:90773.75},{price:1.06,liquidity:81481.03},{price:1.06,liquidity:70271.77},{price:1.06,liquidity:58228.22},{price:1.06,liquidity:46356.9},{price:1.06,liquidity:35458.75},{price:1.07,liquidity:26059.18},{price:1.07,liquidity:18400.36},{price:1.07,liquidity:12483.03},{price:1.08,liquidity:8136.58},{price:1.08,liquidity:5095.56},{price:1.08,liquidity:3065.99}]},createdAt:"2024-04-18T15:40:00Z",updatedAt:"2025-10-12T08:15:00Z"},{id:"CmN8wZ3vPnR5xKcQfY2tL9jS6dB7eUoA4iVdG1zHmWx",protocol:"Raydium",tokenPair:{tokenA:{symbol:"PYTH",name:"Pyth Network",mint:"HZ1JovNiVvGrGNiiYvEozEVgZ58xaU3RKwX8eACQBCt3",decimals:6},tokenB:{symbol:"USDC",name:"USD Coin",mint:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",decimals:6},currentPrice:.42},priceRange:{min:.35,max:.55,current:.42},status:{inRange:!0,autoCompound:!1},pooledAssets:{tokenAAmount:8547.32,tokenBAmount:1789.45,totalValueUSD:5379.32},initialAssets:{tokenAAmount:1e4,tokenBAmount:2e3,timestamp:"2024-09-01T12:20:00Z"},metrics:{totalPnL:-820.68,roi:-13.24,impermanentLoss:-820.68,totalAPR:11.2,feeAPR:11.2,gasCosts:2.35,netProfit:-705.03,ageInDays:71},fees:{totalEarned:118,uncollected:15.6,daily:1.66,weekly:11.62,monthly:49.8},historicalData:{prices:[{timestamp:1757723484511,price:.41},{timestamp:1757809884511,price:.4},{timestamp:1757896284511,price:.41},{timestamp:1757982684511,price:.41},{timestamp:1758069084511,price:.4},{timestamp:1758155484511,price:.39},{timestamp:1758241884511,price:.4},{timestamp:1758328284511,price:.4},{timestamp:1758414684511,price:.4},{timestamp:1758501084511,price:.39},{timestamp:1758587484511,price:.39},{timestamp:1758673884511,price:.4},{timestamp:1758760284511,price:.41},{timestamp:1758846684511,price:.42},{timestamp:1758933084511,price:.42},{timestamp:1759019484511,price:.43},{timestamp:1759105884511,price:.42},{timestamp:1759192284511,price:.42},{timestamp:1759278684511,price:.4},{timestamp:1759365084511,price:.42},{timestamp:1759451484511,price:.41},{timestamp:1759537884511,price:.41},{timestamp:1759624284511,price:.4},{timestamp:1759710684511,price:.4},{timestamp:1759797084511,price:.39},{timestamp:1759883484511,price:.38},{timestamp:1759969884511,price:.37},{timestamp:1760056284511,price:.36},{timestamp:1760142684511,price:.36},{timestamp:1760229084511,price:.36},{timestamp:1760315484511,price:.36}],volume:[{timestamp:1757723484511,volume:29173.65},{timestamp:1757809884511,volume:48158.92},{timestamp:1757896284511,volume:46862.38},{timestamp:1757982684511,volume:63556.74},{timestamp:1758069084511,volume:56988.91},{timestamp:1758155484511,volume:54759.62},{timestamp:1758241884511,volume:54364.87},{timestamp:1758328284511,volume:44352.96},{timestamp:1758414684511,volume:30164.46},{timestamp:1758501084511,volume:44023.27},{timestamp:1758587484511,volume:34005.04},{timestamp:1758673884511,volume:57755.38},{timestamp:1758760284511,volume:71225.82},{timestamp:1758846684511,volume:69466.56},{timestamp:1758933084511,volume:40221.48},{timestamp:1759019484511,volume:72077.42},{timestamp:1759105884511,volume:77927.96},{timestamp:1759192284511,volume:72162.36},{timestamp:1759278684511,volume:41769.21},{timestamp:1759365084511,volume:30277.19},{timestamp:1759451484511,volume:51773.95},{timestamp:1759537884511,volume:64465.05},{timestamp:1759624284511,volume:80484.59},{timestamp:1759710684511,volume:69392.41},{timestamp:1759797084511,volume:75355.04},{timestamp:1759883484511,volume:62093.97},{timestamp:1759969884511,volume:77611.22},{timestamp:1760056284511,volume:42205.5},{timestamp:1760142684511,volume:54497.57},{timestamp:1760229084511,volume:49631},{timestamp:1760315484511,volume:77835.45}],fees:[{timestamp:1757723484511,fees:4.65},{timestamp:1757809884511,fees:2.31},{timestamp:1757896284511,fees:3.89},{timestamp:1757982684511,fees:.74},{timestamp:1758069084511,fees:1.86},{timestamp:1758155484511,fees:2.47},{timestamp:1758241884511,fees:.58},{timestamp:1758328284511,fees:4.74},{timestamp:1758414684511,fees:3.12},{timestamp:1758501084511,fees:4.81},{timestamp:1758587484511,fees:2.77},{timestamp:1758673884511,fees:3.14},{timestamp:1758760284511,fees:4.93},{timestamp:1758846684511,fees:3.27},{timestamp:1758933084511,fees:4.48},{timestamp:1759019484511,fees:2.19},{timestamp:1759105884511,fees:4.34},{timestamp:1759192284511,fees:.82},{timestamp:1759278684511,fees:4.67},{timestamp:1759365084511,fees:1.55},{timestamp:1759451484511,fees:2.58},{timestamp:1759537884511,fees:2.2},{timestamp:1759624284511,fees:1.61},{timestamp:1759710684511,fees:3.59},{timestamp:1759797084511,fees:2.88},{timestamp:1759883484511,fees:4.27},{timestamp:1759969884511,fees:2.78},{timestamp:1760056284511,fees:3.9},{timestamp:1760142684511,fees:2.97},{timestamp:1760229084511,fees:1.97},{timestamp:1760315484511,fees:4.34}],liquidityDistribution:[{price:.35,liquidity:37531.11},{price:.36,liquidity:48675.23},{price:.37,liquidity:60653.07},{price:.38,liquidity:72614.9},{price:.39,liquidity:83527.02},{price:.4,liquidity:92311.63},{price:.41,liquidity:98019.87},{price:.42,liquidity:1e5},{price:.43,liquidity:98019.87},{price:.44,liquidity:92311.63},{price:.45,liquidity:83527.02},{price:.46,liquidity:72614.9},{price:.47,liquidity:60653.07},{price:.48,liquidity:48675.23},{price:.49,liquidity:37531.11},{price:.5,liquidity:27803.73},{price:.51,liquidity:19789.87},{price:.52,liquidity:13533.53},{price:.53,liquidity:8892.16},{price:.54,liquidity:5613.48},{price:.55,liquidity:3404.75}]},createdAt:"2024-09-01T12:20:00Z",updatedAt:"2025-10-12T08:15:00Z"},{id:"BpT6kX9wQnM2vLcYfZ3rJ8sD5dH4eUoA7iNcG1zPmWy",protocol:"Orca",tokenPair:{tokenA:{symbol:"JTO",name:"Jito",mint:"jtojtomepa8beP8AuQc6eXt5FriJwfFMwQx2v2f9mCL",decimals:9},tokenB:{symbol:"SOL",name:"Solana",mint:"So11111111111111111111111111111111111111112",decimals:9},currentPrice:.0189},priceRange:{min:.015,max:.025,current:.0189},status:{inRange:!0,autoCompound:!0},pooledAssets:{tokenAAmount:1847.52,tokenBAmount:22.89,totalValueUSD:6977.58},initialAssets:{tokenAAmount:1800,tokenBAmount:23,timestamp:"2024-08-20T09:30:00Z"},metrics:{totalPnL:145.28,roi:2.13,impermanentLoss:145.28,totalAPR:14.9,feeAPR:12.6,gasCosts:3.45,netProfit:221.83,ageInDays:83},fees:{totalEarned:225.28,uncollected:34.56,daily:2.71,weekly:18.97,monthly:81.3},historicalData:{prices:[{timestamp:1757723484511,price:.02},{timestamp:1757809884511,price:.02},{timestamp:1757896284511,price:.02},{timestamp:1757982684511,price:.02},{timestamp:1758069084511,price:.02},{timestamp:1758155484511,price:.02},{timestamp:1758241884511,price:.02},{timestamp:1758328284511,price:.02},{timestamp:1758414684511,price:.02},{timestamp:1758501084511,price:.02},{timestamp:1758587484511,price:.02},{timestamp:1758673884511,price:.02},{timestamp:1758760284511,price:.02},{timestamp:1758846684511,price:.02},{timestamp:1758933084511,price:.02},{timestamp:1759019484511,price:.02},{timestamp:1759105884511,price:.02},{timestamp:1759192284511,price:.02},{timestamp:1759278684511,price:.02},{timestamp:1759365084511,price:.02},{timestamp:1759451484511,price:.02},{timestamp:1759537884511,price:.02},{timestamp:1759624284511,price:.02},{timestamp:1759710684511,price:.02},{timestamp:1759797084511,price:.02},{timestamp:1759883484511,price:.02},{timestamp:1759969884511,price:.02},{timestamp:1760056284511,price:.02},{timestamp:1760142684511,price:.02},{timestamp:1760229084511,price:.02},{timestamp:1760315484511,price:.02}],volume:[{timestamp:1757723484511,volume:91138.72},{timestamp:1757809884511,volume:47271.58},{timestamp:1757896284511,volume:76748.93},{timestamp:1757982684511,volume:53608.97},{timestamp:1758069084511,volume:44820.63},{timestamp:1758155484511,volume:98493.84},{timestamp:1758241884511,volume:61096.48},{timestamp:1758328284511,volume:53963.63},{timestamp:1758414684511,volume:40808.97},{timestamp:1758501084511,volume:53611.65},{timestamp:1758587484511,volume:104516.11},{timestamp:1758673884511,volume:99059.09},{timestamp:1758760284511,volume:67809.15},{timestamp:1758846684511,volume:98045.11},{timestamp:1758933084511,volume:82900.73},{timestamp:1759019484511,volume:60828.6},{timestamp:1759105884511,volume:70664.66},{timestamp:1759192284511,volume:93422.9},{timestamp:1759278684511,volume:38169.06},{timestamp:1759365084511,volume:70170.72},{timestamp:1759451484511,volume:88604.56},{timestamp:1759537884511,volume:103467.26},{timestamp:1759624284511,volume:60204.95},{timestamp:1759710684511,volume:38837.46},{timestamp:1759797084511,volume:94734.36},{timestamp:1759883484511,volume:52306.7},{timestamp:1759969884511,volume:73434.41},{timestamp:1760056284511,volume:43151.38},{timestamp:1760142684511,volume:75294.9},{timestamp:1760229084511,volume:63020.52},{timestamp:1760315484511,volume:46843.3}],fees:[{timestamp:1757723484511,fees:4.12},{timestamp:1757809884511,fees:4.39},{timestamp:1757896284511,fees:.52},{timestamp:1757982684511,fees:.53},{timestamp:1758069084511,fees:2.22},{timestamp:1758155484511,fees:2.45},{timestamp:1758241884511,fees:1.03},{timestamp:1758328284511,fees:3.97},{timestamp:1758414684511,fees:1.53},{timestamp:1758501084511,fees:1.53},{timestamp:1758587484511,fees:4.74},{timestamp:1758673884511,fees:1.67},{timestamp:1758760284511,fees:2.78},{timestamp:1758846684511,fees:2.06},{timestamp:1758933084511,fees:4.71},{timestamp:1759019484511,fees:1.01},{timestamp:1759105884511,fees:3.3},{timestamp:1759192284511,fees:2.78},{timestamp:1759278684511,fees:1.62},{timestamp:1759365084511,fees:3.8},{timestamp:1759451484511,fees:2.66},{timestamp:1759537884511,fees:.91},{timestamp:1759624284511,fees:2.56},{timestamp:1759710684511,fees:1.96},{timestamp:1759797084511,fees:4.6},{timestamp:1759883484511,fees:3.9},{timestamp:1759969884511,fees:2.68},{timestamp:1760056284511,fees:3.25},{timestamp:1760142684511,fees:3.72},{timestamp:1760229084511,fees:1.51},{timestamp:1760315484511,fees:3.98}],liquidityDistribution:[{price:.01,liquidity:29617.64},{price:.02,liquidity:39661.07},{price:.02,liquidity:51027.78},{price:.02,liquidity:63077.88},{price:.02,liquidity:74916.2},{price:.02,liquidity:85487.5},{price:.02,liquidity:93725.49},{price:.02,liquidity:98728.16},{price:.02,liquidity:99920.03},{price:.02,liquidity:97161.08},{price:.02,liquidity:90773.75},{price:.02,liquidity:81481.03},{price:.02,liquidity:70271.77},{price:.02,liquidity:58228.22},{price:.02,liquidity:46356.9},{price:.02,liquidity:35458.75},{price:.02,liquidity:26059.18},{price:.02,liquidity:18400.36},{price:.02,liquidity:12483.03},{price:.02,liquidity:8136.58},{price:.03,liquidity:5095.56}]},createdAt:"2024-08-20T09:30:00Z",updatedAt:"2025-10-12T08:15:00Z"}],metadata:{}};function jg(t=!1){const[e,i]=n.useState([]),[r,s]=n.useState(null),[o,a]=n.useState(!1),[c,l]=n.useState(null),u=n.useCallback(async()=>{if(!t)return i([]),void s(null);a(!0),l(null);try{await new Promise(t=>setTimeout(t,300));const t=function(){const t=Lg;if(!t.metadata)throw new Error("Mock data file is missing required metadata");if(!Array.isArray(t.positions))throw new Error("Mock data file does not contain a valid positions array");const e=[],n=[];for(let i=0;i<t.positions.length;i++){const r=t.positions[i];Ng(r)?e.push(r):n.push(`Position at index ${i} (id: ${r?.id||"unknown"}) failed validation`)}if(n.length>0)throw new Error(`Mock data validation failed:\n${n.join("\n")}`);if(e.length<10||e.length>15)throw new Error(`Mock data must contain 10-15 positions, found ${e.length}`);return e}();i(t);const e=function(t){if(0===t.length)return{totalAssetsValue:0,totalPnL:0,totalUncollectedFees:0,positionCount:0,positionsInRange:0,positionsOutOfRange:0};const e=t.reduce((t,e)=>t+e.pooledAssets.totalValueUSD,0),n=t.reduce((t,e)=>t+e.metrics.totalPnL,0),i=t.reduce((t,e)=>t+e.fees.uncollected,0),r=t.filter(t=>t.status.inRange).length,s=t.filter(t=>!t.status.inRange).length;return{totalAssetsValue:e,totalPnL:n,totalUncollectedFees:i,positionCount:t.length,positionsInRange:r,positionsOutOfRange:s}}(t);s(e)}catch(e){const t=e instanceof Error?e.message:"Failed to load positions";l({hasError:!0,message:t,code:"LOAD_ERROR",retry:()=>u()}),i([]),s(null)}finally{a(!1)}},[t]),h=n.useCallback(()=>{u()},[u]);return n.useEffect(()=>{u()},[u]),{positions:e,summary:r,loading:o,error:c,refetch:h}}function Cg(t,e={}){const{currency:n="$",showPositiveSign:i=!1,minimumFractionDigits:r=Ig.USD,maximumFractionDigits:s=Ig.USD}=e;return`${t<0?"-":i&&t>0?"+":""}${n}${new Intl.NumberFormat("en-US",{minimumFractionDigits:r,maximumFractionDigits:s}).format(Math.abs(t))}`}function Bg(t,e={}){const{minimumFractionDigits:n=0,maximumFractionDigits:i=2}=e,r=Math.abs(t),s=t<0?"-":"";if(r<1e3){return s+new Intl.NumberFormat("en-US",{minimumFractionDigits:n,maximumFractionDigits:i}).format(r)}let o="",a=1;r>=1e9?(o="B",a=1e9):r>=1e6?(o="M",a=1e6):r>=1e3&&(o="K",a=1e3);const c=r/a;return s+new Intl.NumberFormat("en-US",{minimumFractionDigits:n,maximumFractionDigits:i}).format(c)+o}function _g(t,e={}){const{showPositiveSign:n=!1,minimumFractionDigits:i=Ig.PERCENTAGE,maximumFractionDigits:r=Ig.PERCENTAGE}=e;return`${t<0?"-":n&&t>0?"+":""}${new Intl.NumberFormat("en-US",{minimumFractionDigits:i,maximumFractionDigits:r}).format(Math.abs(t))}%`}function Tg({label:t,value:e,subtext:n,valueColor:i,loading:r}){return r?y.jsxs("article",{className:"space-y-3 rounded-lg border border-forge-steel bg-forge-metaldark p-6",role:"status","aria-label":`Loading ${t}`,children:[y.jsx("div",{className:"h-4 w-32 animate-pulse rounded bg-forge-steel","data-testid":"skeleton"}),y.jsx("div",{className:"h-8 w-full animate-pulse rounded bg-forge-steel","data-testid":"skeleton"}),n&&y.jsx("div",{className:"h-3 w-24 animate-pulse rounded bg-forge-steel","data-testid":"skeleton"})]}):y.jsxs("article",{className:"space-y-2 rounded-lg bg-deep-gradient-transparent shadow-md shadow-solana-gray p-6 transition-colors hover:border-solana-purple/30 backdrop-blur-xl","aria-labelledby":`${t.replace(/\s+/g,"-")}-label`,children:[y.jsx("div",{id:`${t.replace(/\s+/g,"-")}-label`,className:"text-sm uppercase tracking-wide text-gray-400",children:t}),y.jsx("div",{className:`text-3xl font-bold ${i||"text-white"}`,children:e}),n&&y.jsx("div",{className:"text-xs text-gray-500",children:n})]})}function Rg({summary:t,loading:e=!1}){if(e)return y.jsxs("div",{className:"mb-8 grid grid-cols-1 gap-6 md:grid-cols-3",children:[y.jsx(Tg,{label:"Total Assets",value:"",loading:!0}),y.jsx(Tg,{label:"Total PnL",value:"",loading:!0}),y.jsx(Tg,{label:"Uncollected Fees",value:"",loading:!0})]});if(!t)return null;const n=Cg(t.totalAssetsValue),i=Cg(t.totalPnL,{showPositiveSign:!0}),r=t.totalPnL>0?"text-solana-green":t.totalPnL<0?"text-red-500":"text-white",s=Cg(t.totalUncollectedFees);return y.jsxs("div",{className:"mb-8 grid grid-cols-1 gap-6 md:grid-cols-3",children:[y.jsx(Tg,{label:"Total Assets",value:n,subtext:`${t.positionCount} positions`}),y.jsx(Tg,{label:"Total PnL",value:i,valueColor:r,subtext:`${t.positionsInRange} in range • ${t.positionsOutOfRange} out of range`}),y.jsx(Tg,{label:"Uncollected Fees",value:s,subtext:"Available to claim"})]})}function Og({message:t}){const e=t||"No liquidity positions found";return y.jsxs("div",{className:"flex flex-col items-center justify-center px-4 py-16",role:"status","aria-label":"Empty state",children:[y.jsx("div",{className:"mb-6 flex h-24 w-24 items-center justify-center rounded-full bg-forge-metalgray",role:"img","aria-hidden":"true",children:y.jsx("svg",{className:"h-12 w-12 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),y.jsx("h3",{className:"mb-2 text-xl font-semibold text-gray-400",children:e}),y.jsx("p",{className:"mb-6 max-w-md text-center text-sm text-gray-500",children:"Create your first concentrated liquidity position on Orca or Raydium to start tracking your portfolio."}),y.jsxs("div",{className:"flex gap-4",children:[y.jsx("a",{href:"https://www.orca.so/pools",target:"_blank",rel:"noopener noreferrer",className:"rounded-lg bg-solana-purple px-6 py-3 font-medium text-white transition-colors hover:bg-solana-purple/80",children:"Create Position on Orca"}),y.jsx("a",{href:"https://raydium.io/clmm/pools",target:"_blank",rel:"noopener noreferrer",className:"rounded-lg border border-forge-steel bg-forge-metalgray px-6 py-3 font-medium text-white transition-colors hover:bg-forge-steel",children:"Create Position on Raydium"})]})]})}function Dg(t,e,n){let i,r=n.initialDeps??[];function s(){var s,o,a,c;let l;n.key&&(null==(s=n.debug)?void 0:s.call(n))&&(l=Date.now());const u=t();if(!(u.length!==r.length||u.some((t,e)=>r[e]!==t)))return i;let h;if(r=u,n.key&&(null==(o=n.debug)?void 0:o.call(n))&&(h=Date.now()),i=e(...u),n.key&&(null==(a=n.debug)?void 0:a.call(n))){Math.round(100*(Date.now()-l)),Math.round(100*(Date.now()-h))}return null==(c=null==n?void 0:n.onChange)||c.call(n,i),i}return s.updateDeps=t=>{r=t},s}function zg(t,e){if(void 0===t)throw new Error("Unexpected undefined");return t}const Pg=(t,e,n)=>{let i;return function(...r){t.clearTimeout(i),i=t.setTimeout(()=>e.apply(this,r),n)}},Ug=t=>{const{offsetWidth:e,offsetHeight:n}=t;return{width:e,height:n}},qg=t=>t,Fg=t=>{const e=Math.max(t.startIndex-t.overscan,0),n=Math.min(t.endIndex+t.overscan,t.count-1),i=[];for(let r=e;r<=n;r++)i.push(r);return i},Wg=(t,e)=>{const n=t.scrollElement;if(!n)return;const i=t.targetWindow;if(!i)return;const r=t=>{const{width:n,height:i}=t;e({width:Math.round(n),height:Math.round(i)})};if(r(Ug(n)),!i.ResizeObserver)return()=>{};const s=new i.ResizeObserver(e=>{const i=()=>{const t=e[0];if(null==t?void 0:t.borderBoxSize){const e=t.borderBoxSize[0];if(e)return void r({width:e.inlineSize,height:e.blockSize})}r(Ug(n))};t.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(i):i()});return s.observe(n,{box:"border-box"}),()=>{s.unobserve(n)}},Kg={passive:!0},Hg="undefined"==typeof window||"onscrollend"in window,$g=(t,e)=>{const n=t.scrollElement;if(!n)return;const i=t.targetWindow;if(!i)return;let r=0;const s=t.options.useScrollendEvent&&Hg?()=>{}:Pg(i,()=>{e(r,!1)},t.options.isScrollingResetDelay),o=i=>()=>{const{horizontal:o,isRtl:a}=t.options;r=o?n.scrollLeft*(a?-1:1):n.scrollTop,s(),e(r,i)},a=o(!0),c=o(!1);c(),n.addEventListener("scroll",a,Kg);const l=t.options.useScrollendEvent&&Hg;return l&&n.addEventListener("scrollend",c,Kg),()=>{n.removeEventListener("scroll",a),l&&n.removeEventListener("scrollend",c)}},Vg=(t,e,n)=>{if(null==e?void 0:e.borderBoxSize){const t=e.borderBoxSize[0];if(t){return Math.round(t[n.options.horizontal?"inlineSize":"blockSize"])}}return t[n.options.horizontal?"offsetWidth":"offsetHeight"]},Zg=(t,{adjustments:e=0,behavior:n},i)=>{var r,s;const o=t+e;null==(s=null==(r=i.scrollElement)?void 0:r.scrollTo)||s.call(r,{[i.options.horizontal?"left":"top"]:o,behavior:n})};class Yg{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let t=null;const e=()=>t||(this.targetWindow&&this.targetWindow.ResizeObserver?t=new this.targetWindow.ResizeObserver(t=>{t.forEach(t=>{const e=()=>{this._measureElement(t.target,t)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(e):e()})}):null);return{disconnect:()=>{var n;null==(n=e())||n.disconnect(),t=null},observe:t=>{var n;return null==(n=e())?void 0:n.observe(t,{box:"border-box"})},unobserve:t=>{var n;return null==(n=e())?void 0:n.unobserve(t)}}})(),this.range=null,this.setOptions=t=>{Object.entries(t).forEach(([e,n])=>{void 0===n&&delete t[e]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:qg,rangeExtractor:Fg,onChange:()=>{},measureElement:Vg,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...t}},this.notify=t=>{var e,n;null==(n=(e=this.options).onChange)||n.call(e,this,t)},this.maybeNotify=Dg(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),t=>{this.notify(t)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(t=>t()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var t;const e=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==e){if(this.cleanup(),!e)return void this.maybeNotify();this.scrollElement=e,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=(null==(t=this.scrollElement)?void 0:t.window)??null,this.elementsCache.forEach(t=>{this.observer.observe(t)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,t=>{this.scrollRect=t,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(t,e)=>{this.scrollAdjustments=0,this.scrollDirection=e?this.getScrollOffset()<t?"forward":"backward":null,this.scrollOffset=t,this.isScrolling=e,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??("function"==typeof this.options.initialOffset?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(t,e)=>{const n=new Map,i=new Map;for(let r=e-1;r>=0;r--){const e=t[r];if(n.has(e.lane))continue;const s=i.get(e.lane);if(null==s||e.end>s.end?i.set(e.lane,e):e.end<s.end&&n.set(e.lane,!0),n.size===this.options.lanes)break}return i.size===this.options.lanes?Array.from(i.values()).sort((t,e)=>t.end===e.end?t.index-e.index:t.end-e.end)[0]:void 0},this.getMeasurementOptions=Dg(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(t,e,n,i,r)=>(this.pendingMeasuredCacheIndexes=[],{count:t,paddingStart:e,scrollMargin:n,getItemKey:i,enabled:r}),{key:!1}),this.getMeasurements=Dg(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:t,paddingStart:e,scrollMargin:n,getItemKey:i,enabled:r},s)=>{if(!r)return this.measurementsCache=[],this.itemSizeCache.clear(),[];0===this.measurementsCache.length&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(t=>{this.itemSizeCache.set(t.key,t.size)}));const o=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const a=this.measurementsCache.slice(0,o);for(let c=o;c<t;c++){const t=i(c),r=1===this.options.lanes?a[c-1]:this.getFurthestMeasurement(a,c),o=r?r.end+this.options.gap:e+n,l=s.get(t),u="number"==typeof l?l:this.options.estimateSize(c),h=o+u,d=r?r.lane:c%this.options.lanes;a[c]={index:c,start:o,size:u,end:h,key:t,lane:d}}return this.measurementsCache=a,a},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Dg(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(t,e,n,i)=>this.range=t.length>0&&e>0?function({measurements:t,outerSize:e,scrollOffset:n,lanes:i}){const r=t.length-1,s=e=>t[e].start;if(t.length<=i)return{startIndex:0,endIndex:r};let o=Gg(0,r,s,n),a=o;if(1===i)for(;a<r&&t[a].end<n+e;)a++;else if(i>1){const s=Array(i).fill(0);for(;a<r&&s.some(t=>t<n+e);){const e=t[a];s[e.lane]=e.end,a++}const c=Array(i).fill(n+e);for(;o>=0&&c.some(t=>t>=n);){const e=t[o];c[e.lane]=e.start,o--}o=Math.max(0,o-o%i),a=Math.min(r,a+(i-1-a%i))}return{startIndex:o,endIndex:a}}({measurements:t,outerSize:e,scrollOffset:n,lanes:i}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=Dg(()=>{let t=null,e=null;const n=this.calculateRange();return n&&(t=n.startIndex,e=n.endIndex),this.maybeNotify.updateDeps([this.isScrolling,t,e]),[this.options.rangeExtractor,this.options.overscan,this.options.count,t,e]},(t,e,n,i,r)=>null===i||null===r?[]:t({startIndex:i,endIndex:r,overscan:e,count:n}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=t=>{const e=this.options.indexAttribute,n=t.getAttribute(e);return n?parseInt(n,10):-1},this._measureElement=(t,e)=>{const n=this.indexFromElement(t),i=this.measurementsCache[n];if(!i)return;const r=i.key,s=this.elementsCache.get(r);s!==t&&(s&&this.observer.unobserve(s),this.observer.observe(t),this.elementsCache.set(r,t)),t.isConnected&&this.resizeItem(n,this.options.measureElement(t,e,this))},this.resizeItem=(t,e)=>{const n=this.measurementsCache[t];if(!n)return;const i=e-(this.itemSizeCache.get(n.key)??n.size);0!==i&&((void 0!==this.shouldAdjustScrollPositionOnItemSizeChange?this.shouldAdjustScrollPositionOnItemSizeChange(n,i,this):n.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=i,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(n.index),this.itemSizeCache=new Map(this.itemSizeCache.set(n.key,e)),this.notify(!1))},this.measureElement=t=>{t?this._measureElement(t,void 0):this.elementsCache.forEach((t,e)=>{t.isConnected||(this.observer.unobserve(t),this.elementsCache.delete(e))})},this.getVirtualItems=Dg(()=>[this.getVirtualIndexes(),this.getMeasurements()],(t,e)=>{const n=[];for(let i=0,r=t.length;i<r;i++){const r=e[t[i]];n.push(r)}return n},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=t=>{const e=this.getMeasurements();if(0!==e.length)return zg(e[Gg(0,e.length-1,t=>zg(e[t]).start,t)])},this.getOffsetForAlignment=(t,e,n=0)=>{const i=this.getSize(),r=this.getScrollOffset();"auto"===e&&(e=t>=r+i?"end":"start"),"center"===e?t+=(n-i)/2:"end"===e&&(t-=i);const s=this.getTotalSize()+this.options.scrollMargin-i;return Math.max(Math.min(s,t),0)},this.getOffsetForIndex=(t,e="auto")=>{t=Math.max(0,Math.min(t,this.options.count-1));const n=this.measurementsCache[t];if(!n)return;const i=this.getSize(),r=this.getScrollOffset();if("auto"===e)if(n.end>=r+i-this.options.scrollPaddingEnd)e="end";else{if(!(n.start<=r+this.options.scrollPaddingStart))return[r,e];e="start"}const s="end"===e?n.end+this.options.scrollPaddingEnd:n.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(s,e,n.size),e]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(t,{align:e="start",behavior:n}={})=>{"smooth"===n&&this.isDynamicMode(),this._scrollToOffset(this.getOffsetForAlignment(t,e),{adjustments:void 0,behavior:n})},this.scrollToIndex=(t,{align:e="auto",behavior:n}={})=>{"smooth"===n&&this.isDynamicMode(),t=Math.max(0,Math.min(t,this.options.count-1));let i=0;const r=e=>{if(!this.targetWindow)return;const i=this.getOffsetForIndex(t,e);if(!i)return;const[r,o]=i;this._scrollToOffset(r,{adjustments:void 0,behavior:n}),this.targetWindow.requestAnimationFrame(()=>{const e=this.getScrollOffset(),n=this.getOffsetForIndex(t,o);var i,r;n&&(i=n[0],r=e,Math.abs(i-r)<1.01||s(o))})},s=t=>{this.targetWindow&&(i++,i<10&&this.targetWindow.requestAnimationFrame(()=>r(t)))};r(e)},this.scrollBy=(t,{behavior:e}={})=>{"smooth"===e&&this.isDynamicMode(),this._scrollToOffset(this.getScrollOffset()+t,{adjustments:void 0,behavior:e})},this.getTotalSize=()=>{var t;const e=this.getMeasurements();let n;if(0===e.length)n=this.options.paddingStart;else if(1===this.options.lanes)n=(null==(t=e[e.length-1])?void 0:t.end)??0;else{const t=Array(this.options.lanes).fill(null);let i=e.length-1;for(;i>=0&&t.some(t=>null===t);){const n=e[i];null===t[n.lane]&&(t[n.lane]=n.end),i--}n=Math.max(...t.filter(t=>null!==t))}return Math.max(n-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(t,{adjustments:e,behavior:n})=>{this.options.scrollToFn(t,{behavior:n,adjustments:e},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(t)}}const Gg=(t,e,n,i)=>{for(;t<=e;){const r=(t+e)/2|0,s=n(r);if(s<i)t=r+1;else{if(!(s>i))return r;e=r-1}}return t>0?t-1:0};const Qg="undefined"!=typeof document?n.useLayoutEffect:n.useEffect;function Jg(t){return function(t){const e=n.useReducer(()=>({}),{})[1],r={...t,onChange:(n,r)=>{var s;r?i.flushSync(e):e(),null==(s=t.onChange)||s.call(t,n,r)}},[s]=n.useState(()=>new Yg(r));return s.setOptions(r),Qg(()=>s._didMount(),[]),Qg(()=>s._willUpdate()),s}({observeElementRect:Wg,observeElementOffset:$g,scrollToFn:Zg,...t})}function Xg({position:t,onClick:e,isExpanded:n=!1}){const{tokenPair:i,protocol:r,priceRange:s,status:o,pooledAssets:a,metrics:c,fees:l}=t,u=c.totalPnL>0?"text-solana-green":c.totalPnL<0?"text-red-500":"text-white";return y.jsxs("div",{"data-testid":"position-card","data-position-id":t.id,onClick:e,className:`rounded-xl  bg-deep-gradient-transparent shadow-md shadow-solana-gray p-4 transition-all duration-200 hover:border-solana-purple hover:shadow-lg hover:shadow-solana-gray ${e?"cursor-pointer":""} md:p-6`,children:[y.jsxs("div",{className:"mb-4 flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsxs("h3",{className:"text-lg font-bold text-white",children:[i.tokenA.symbol,"/",i.tokenB.symbol]}),y.jsx("span",{className:"rounded-full bg-solana-purple/20 px-3 py-1 text-xs font-medium text-solana-purple",children:r})]}),y.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.inRange?y.jsx("span",{className:"rounded-full bg-solana-green/20 px-3 py-1 text-xs font-medium text-solana-green",children:"IN RANGE"}):y.jsx("span",{className:"rounded-full bg-red-500/20 px-3 py-1 text-xs font-medium text-red-500",children:"OUT OF RANGE"}),o.autoCompound&&y.jsx("span",{className:"rounded-full bg-solana-cyan/20 px-3 py-1 text-xs font-medium text-solana-cyan",children:"AUTO-COMPOUND"})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-4",children:[y.jsxs("div",{className:"flex flex-col",children:[y.jsx("span",{className:"mb-1 text-xs text-gray-400",children:"Pooled Assets"}),y.jsx("span",{className:"text-base font-semibold text-white",children:Cg(a.totalValueUSD)})]}),y.jsxs("div",{className:"flex flex-col",children:[y.jsx("span",{className:"mb-1 text-xs text-gray-400",children:"PnL"}),y.jsx("span",{className:`text-base font-semibold ${u}`,children:Cg(c.totalPnL,{showPositiveSign:!0})})]}),y.jsxs("div",{className:"flex flex-col",children:[y.jsx("span",{className:"mb-1 text-xs text-gray-400",children:"APR"}),y.jsx("span",{className:"text-base font-semibold text-white",children:_g(c.totalAPR)})]}),y.jsxs("div",{className:"flex flex-col",children:[y.jsx("span",{className:"mb-1 text-xs text-gray-400",children:"Uncollected Fees"}),y.jsx("span",{className:"text-base font-semibold text-white",children:Cg(l.uncollected)})]})]}),y.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-2 md:grid-cols-4",children:[y.jsxs("button",{disabled:!0,className:"group relative flex cursor-not-allowed items-center justify-center gap-2 rounded-lg border border-forge-steel bg-forge-metalgray/50 px-3 py-2 text-xs font-medium text-gray-500 opacity-60 transition-all",title:"Coming Soon",children:[y.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),y.jsx("span",{children:"Deposit"}),y.jsx("span",{className:"absolute -top-8 left-1/2 hidden -translate-x-1/2 whitespace-nowrap rounded border border-forge-steel bg-forge-deepblack px-2 py-1 text-xs text-gray-300 shadow-lg group-hover:block",children:"Coming Soon"})]}),y.jsxs("button",{disabled:!0,className:"group relative flex cursor-not-allowed items-center justify-center gap-2 rounded-lg border border-forge-steel bg-forge-metalgray/50 px-3 py-2 text-xs font-medium text-gray-500 opacity-60 transition-all",title:"Coming Soon",children:[y.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})}),y.jsx("span",{children:"Withdraw"}),y.jsx("span",{className:"absolute -top-8 left-1/2 hidden -translate-x-1/2 whitespace-nowrap rounded border border-forge-steel bg-forge-deepblack px-2 py-1 text-xs text-gray-300 shadow-lg group-hover:block",children:"Coming Soon"})]}),y.jsxs("button",{disabled:!0,className:"group relative flex cursor-not-allowed items-center justify-center gap-2 rounded-lg border border-forge-steel bg-forge-metalgray/50 px-3 py-2 text-xs font-medium text-gray-500 opacity-60 transition-all",title:"Coming Soon",children:[y.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),y.jsx("span",{children:"Collect Fees"}),y.jsx("span",{className:"absolute -top-8 left-1/2 hidden -translate-x-1/2 whitespace-nowrap rounded border border-forge-steel bg-forge-deepblack px-2 py-1 text-xs text-gray-300 shadow-lg group-hover:block",children:"Coming Soon"})]}),y.jsxs("button",{disabled:!0,className:"group relative flex cursor-not-allowed items-center justify-center gap-2 rounded-lg border border-forge-steel bg-forge-metalgray/50 px-3 py-2 text-xs font-medium text-gray-500 opacity-60 transition-all",title:"Coming Soon",children:[y.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),y.jsx("span",{children:"Compound"}),y.jsx("span",{className:"absolute -top-8 left-1/2 hidden -translate-x-1/2 whitespace-nowrap rounded border border-forge-steel bg-forge-deepblack px-2 py-1 text-xs text-gray-300 shadow-lg group-hover:block",children:"Coming Soon"})]})]}),y.jsxs("div",{className:"mt-4 flex items-center justify-between border-t border-forge-steel pt-4 text-xs",children:[y.jsxs("div",{className:"text-gray-400",children:[y.jsxs("span",{children:["Range: ",Cg(s.min)," - ",Cg(s.max)]}),y.jsxs("span",{className:"ml-4",children:["Current: ",Cg(s.current)]})]}),e&&y.jsx("button",{onClick:t=>{t.stopPropagation(),e()},className:"flex items-center gap-1 font-medium text-solana-purple transition-colors hover:text-solana-cyan","aria-label":n?"Collapse details":"Expand details",children:n?y.jsxs(y.Fragment,{children:[y.jsx("span",{children:"Collapse"}),y.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]}):y.jsxs(y.Fragment,{children:[y.jsx("span",{children:"Details"}),y.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})})]})]})}function ty({position:t}){const{metrics:e,fees:n}=t,i=[{label:"Return on Investment (ROI)",value:_g(e.roi),valueColor:e.roi>0?"text-solana-green":e.roi<0?"text-red-500":"text-white"},{label:"Impermanent Loss",value:Cg(e.impermanentLoss,{showPositiveSign:!0}),valueColor:e.impermanentLoss<0?"text-red-500":"text-solana-green"},{label:"Total APR",value:_g(e.totalAPR),valueColor:"text-white"},{label:"Fee APR",value:_g(e.feeAPR),valueColor:"text-white"},{label:"Total Fees Earned",value:Cg(n.totalEarned),valueColor:"text-solana-green"},{label:"Daily Fees (Avg)",value:Cg(n.daily),valueColor:"text-white"},{label:"Weekly Fees (Avg)",value:Cg(n.weekly),valueColor:"text-white"},{label:"Monthly Fees (Avg)",value:Cg(n.monthly),valueColor:"text-white"},{label:"Gas Costs",value:Cg(e.gasCosts),valueColor:"text-gray-400"},{label:"Net Profit",value:Cg(e.netProfit,{showPositiveSign:!0}),valueColor:e.netProfit>0?"text-solana-green":e.netProfit<0?"text-red-500":"text-white"},{label:"Position Age",value:`${e.ageInDays} days`,valueColor:"text-white"}];return y.jsxs("div",{className:"overflow-hidden rounded-lg shadow-inner-glow bg-forge-metaldark",children:[y.jsx("div",{className:"border-b border-solana-gray/40 px-6 py-4",children:y.jsx("h3",{className:"text-lg font-semibold text-white",children:"Detailed Metrics"})}),y.jsx("div",{className:"divide-y divide-solana-gray/40",children:i.map((t,e)=>y.jsxs("div",{className:"grid grid-cols-2 gap-4 px-6 py-3 transition-colors hover:bg-forge-deepblack",children:[y.jsx("div",{className:"text-sm text-gray-400",children:t.label}),y.jsx("div",{className:`text-right text-sm font-semibold ${t.valueColor}`,children:t.value})]},e))})]})}const ey=n.lazy(()=>Tp(()=>import("./LiquidityChart-BkRe-Bj6.js"),__vite__mapDeps([3,4,1])).then(t=>({default:t.LiquidityChart}))),ny=n.lazy(()=>Tp(()=>import("./PriceHistoryChart-DPHywUWq.js"),__vite__mapDeps([5,4,1])).then(t=>({default:t.PriceHistoryChart}))),iy=n.lazy(()=>Tp(()=>import("./VolumeChart-ZOjuOyDS.js"),__vite__mapDeps([6,4,1])).then(t=>({default:t.VolumeChart})));function ry(){return y.jsx("div",{className:"h-[300px] animate-pulse rounded-lg bg-forge-metalgray"})}function sy({position:t,onCollapse:e}){return y.jsxs("div",{className:"mt-4 space-y-6 rounded-xl bg-deep-gradient-transparent p-6 shadow-md shadow-solana-gray transition-all duration-200 hover:shadow-lg hover:shadow-solana-gray",children:[y.jsxs("div",{className:"flex items-center justify-between pb-4",children:[y.jsxs("h2",{className:"text-xl font-bold text-white",children:[t.tokenPair.tokenA.symbol,"/",t.tokenPair.tokenB.symbol," Position Details"]}),e&&y.jsxs("button",{onClick:e,className:"flex items-center gap-2 rounded-lg bg-forge-metaldark px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-forge-metalgray","aria-label":"Collapse position details",children:[y.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}),y.jsx("span",{children:"Collapse"})]})]}),y.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[y.jsxs("div",{className:"rounded-lg shadow-inner-glow bg-forge-metaldark p-4",children:[y.jsx("h3",{className:"mb-4 text-sm font-semibold text-white",children:"Liquidity Distribution"}),y.jsx(n.Suspense,{fallback:y.jsx(ry,{}),children:y.jsx(ey,{liquidityData:t.historicalData.liquidityDistribution,priceRange:t.priceRange})})]}),y.jsxs("div",{className:"rounded-lg shadow-inner-glow bg-forge-metaldark p-4",children:[y.jsx("h3",{className:"mb-4 text-sm font-semibold text-white",children:"Price History (30 Days)"}),y.jsx(n.Suspense,{fallback:y.jsx(ry,{}),children:y.jsx(ny,{priceData:t.historicalData.prices})})]}),y.jsxs("div",{className:"rounded-lg shadow-inner-glow bg-forge-metaldark p-4",children:[y.jsx("h3",{className:"mb-4 text-sm font-semibold text-white",children:"Trading Volume"}),y.jsx(n.Suspense,{fallback:y.jsx(ry,{}),children:y.jsx(iy,{volumeData:t.historicalData.volume})})]}),y.jsx("div",{children:y.jsx(ty,{position:t})})]})]})}function oy({position:t}){const[e,i]=n.useState(!1);return y.jsxs("div",{children:[y.jsx(Xg,{position:t,onClick:()=>i(!e),isExpanded:e}),e&&y.jsx(sy,{position:t,onCollapse:()=>i(!1)})]})}function ay(){return y.jsxs("div",{"data-testid":"position-skeleton",className:"animate-pulse rounded-xl border border-forge-steel bg-deep-gradient-transparent p-4 md:p-6",children:[y.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[y.jsx("div",{className:"h-6 w-32 rounded bg-forge-steel"}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("div",{className:"h-6 w-20 rounded-full bg-forge-steel"}),y.jsx("div",{className:"h-6 w-24 rounded-full bg-forge-steel"})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-4",children:[y.jsx("div",{className:"h-12 rounded bg-forge-steel"}),y.jsx("div",{className:"h-12 rounded bg-forge-steel"}),y.jsx("div",{className:"h-12 rounded bg-forge-steel"}),y.jsx("div",{className:"h-12 rounded bg-forge-steel"})]}),y.jsx("div",{className:"mt-4 h-8 rounded bg-forge-steel"})]})}function cy({positions:t,loading:e=!1}){const i=n.useRef(null),r=n.useMemo(()=>[...t].sort((t,e)=>e.pooledAssets.totalValueUSD-t.pooledAssets.totalValueUSD),[t]),s=r.length>20,o=Jg({count:r.length,getScrollElement:()=>i.current,estimateSize:()=>200,overscan:5,enabled:s});return e?y.jsxs("div",{role:"status","aria-live":"polite",className:"space-y-4",children:[y.jsx("span",{className:"sr-only",children:"Loading positions..."}),y.jsx(ay,{}),y.jsx(ay,{}),y.jsx(ay,{})]}):0===r.length?null:s?y.jsx("div",{ref:i,"data-testid":"position-list","data-virtualized":"true",className:"h-[800px] overflow-y-auto",style:{overflowY:"auto"},children:y.jsx("div",{style:{height:`${o.getTotalSize()}px`,width:"100%",position:"relative"},children:o.getVirtualItems().map(t=>{const e=r[t.index];return y.jsx("div",{"data-index":t.index,style:{position:"absolute",top:0,left:0,width:"100%",height:`${t.size}px`,transform:`translateY(${t.start}px)`},children:y.jsx("div",{className:"pb-4",children:y.jsx(oy,{position:e})})},e.id)})})}):y.jsx("div",{"data-testid":"position-list","data-virtualized":"false",className:"space-y-4",children:r.map(t=>y.jsx(oy,{position:t},t.id))})}function ly(){const{connected:t}=function(){const{wallet:t,publicKey:e,connected:i,connecting:r,connect:o,disconnect:a,select:c}=qu(),l=n.useCallback(async()=>{try{await o()}catch(s){throw s}},[o]),u=n.useCallback(async()=>{try{await a()}catch(s){throw s}},[a]),h=n.useCallback(()=>{if(!e)return null;const t=e.toString();return t.length<=8?t:`${t.slice(0,4)}...${t.slice(-4)}`},[e]);return{wallet:t,publicKey:e,connected:i,connecting:r,connect:l,disconnect:u,select:c,displayAddress:h(),adapterName:t?.adapter.name||null}}(),{positions:e,summary:i,loading:r,error:s}=jg(t);return y.jsx("div",{className:"min-h-screen bg-cover bg-no-repeat",children:y.jsx("main",{className:"mx-auto mt-32 max-w-7xl px-4 py-8 sm:px-6 lg:px-8",children:t?s?.hasError?y.jsxs("div",{className:"flex flex-col items-center justify-center py-16",role:"alert",children:[y.jsx("div",{className:"mb-6 flex h-24 w-24 items-center justify-center rounded-full bg-red-900/20",role:"img","aria-hidden":"true",children:y.jsx("svg",{className:"h-12 w-12 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),y.jsx("h2",{className:"mb-2 text-xl font-semibold text-red-400",children:"Error Loading Positions"}),y.jsx("p",{className:"mb-6 max-w-md text-center text-sm text-gray-400",children:s.message}),s.retry&&y.jsx("button",{onClick:s.retry,className:"rounded-lg bg-solana-purple px-6 py-3 font-medium text-white transition-colors hover:bg-solana-purple/80",children:"Try Again"})]}):y.jsxs(y.Fragment,{children:[i?y.jsx(Rg,{summary:i,loading:r}):y.jsx(Rg,{summary:{totalAssetsValue:0,totalPnL:0,totalUncollectedFees:0,positionCount:0,positionsInRange:0,positionsOutOfRange:0},loading:r}),r||0!==e.length?y.jsxs("div",{className:"mt-8",children:[y.jsxs("h2",{className:"mb-4 text-lg font-semibold text-white",children:["Your Positions (",e.length,")"]}),y.jsx(cy,{positions:e,loading:r})]}):y.jsx(Og,{})]}):y.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[y.jsx("div",{className:"mb-6 flex h-24 w-24 items-center justify-center rounded-full bg-forge-metalgray",role:"img","aria-hidden":"true",children:y.jsx("svg",{className:"h-12 w-12 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})})}),y.jsx("h2",{className:"mb-2 text-xl font-semibold text-gray-400",children:"Connect Your Wallet"}),y.jsx("p",{className:"max-w-md text-center text-sm text-gray-500",children:"Connect your Solana wallet to view your concentrated liquidity positions and track your portfolio performance."})]})})})}function uy(){return y.jsx("main",{className:"relative min-h-screen bg-solana-gray",children:y.jsxs("div",{className:"relative z-10",children:[y.jsx(lg,{}),y.jsx(xg,{}),y.jsx(kg,{})]})})}function hy(){const t=Tu.Mainnet,e=n.useMemo(()=>function(t){const e="https";if(!t)return eu[e].devnet;const n=eu[e][t];if(!n)throw new Error(`Unknown ${e} cluster: ${t}`);return n}(t),[t]),i=n.useMemo(()=>[new Rp,new tg],[]);return y.jsx(iu,{endpoint:e,children:y.jsx(wp,{wallets:i,autoConnect:!1,children:y.jsx(jp,{children:y.jsxs(Kt,{children:[y.jsx(ng,{}),y.jsxs(Et,{children:[y.jsx(bt,{path:"/",element:y.jsx(uy,{})}),y.jsx(bt,{path:"/dashboard",element:y.jsx(ly,{})})]}),y.jsx(Sg,{})]})})})})}w.createRoot(document.getElementById("root")).render(y.jsx(a.StrictMode,{children:y.jsx(hy,{})}));export{Oo as E,ba as P,Iu as S,Fa as T,Wa as V,Bg as a,Xd as b,ju as c,Lu as d,Cg as f,y as j};
