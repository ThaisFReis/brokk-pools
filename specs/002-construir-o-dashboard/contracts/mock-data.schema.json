{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://brokkr.finance/schemas/mock-positions.json",
  "title": "Brokkr Finance Mock LP Positions",
  "description": "JSON Schema for mock concentrated liquidity position data (10-15 positions with varied states for development and testing)",
  "type": "object",
  "required": ["positions", "metadata"],
  "properties": {
    "positions": {
      "type": "array",
      "description": "Array of mock LP positions",
      "minItems": 10,
      "maxItems": 15,
      "items": {
        "$ref": "#/definitions/Position"
      }
    },
    "metadata": {
      "type": "object",
      "description": "Metadata about the mock data set",
      "required": ["version", "generatedAt", "walletAddress"],
      "properties": {
        "version": {
          "type": "string",
          "description": "Schema version",
          "pattern": "^\\d+\\.\\d+\\.\\d+$"
        },
        "generatedAt": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp when mock data was generated"
        },
        "walletAddress": {
          "type": "string",
          "description": "Mock wallet public key associated with these positions",
          "pattern": "^[1-9A-HJ-NP-Za-km-z]{32,44}$"
        }
      }
    }
  },
  "definitions": {
    "Position": {
      "type": "object",
      "description": "A concentrated liquidity position",
      "required": [
        "id",
        "protocol",
        "tokenPair",
        "priceRange",
        "status",
        "pooledAssets",
        "initialAssets",
        "metrics",
        "fees",
        "historicalData",
        "createdAt",
        "updatedAt"
      ],
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique position identifier (simulated on-chain address)",
          "pattern": "^[1-9A-HJ-NP-Za-km-z]{32,44}$"
        },
        "protocol": {
          "type": "string",
          "enum": ["Orca", "Raydium"],
          "description": "Concentrated liquidity protocol"
        },
        "tokenPair": {
          "$ref": "#/definitions/TokenPair"
        },
        "priceRange": {
          "$ref": "#/definitions/PriceRange"
        },
        "status": {
          "$ref": "#/definitions/PositionStatus"
        },
        "pooledAssets": {
          "$ref": "#/definitions/PooledAssets"
        },
        "initialAssets": {
          "$ref": "#/definitions/InitialAssets"
        },
        "metrics": {
          "$ref": "#/definitions/PositionMetrics"
        },
        "fees": {
          "$ref": "#/definitions/FeeMetrics"
        },
        "historicalData": {
          "$ref": "#/definitions/HistoricalData"
        },
        "createdAt": {
          "type": "string",
          "format": "date-time",
          "description": "Position creation timestamp"
        },
        "updatedAt": {
          "type": "string",
          "format": "date-time",
          "description": "Last update timestamp"
        }
      }
    },
    "TokenPair": {
      "type": "object",
      "required": ["tokenA", "tokenB", "currentPrice"],
      "properties": {
        "tokenA": {
          "$ref": "#/definitions/Token"
        },
        "tokenB": {
          "$ref": "#/definitions/Token"
        },
        "currentPrice": {
          "type": "number",
          "description": "Current exchange rate (tokenA per tokenB)",
          "minimum": 0
        }
      }
    },
    "Token": {
      "type": "object",
      "required": ["symbol", "name", "mint", "decimals"],
      "properties": {
        "symbol": {
          "type": "string",
          "description": "Token symbol (e.g., SOL, USDC)",
          "minLength": 1,
          "maxLength": 10
        },
        "name": {
          "type": "string",
          "description": "Token full name",
          "minLength": 1
        },
        "mint": {
          "type": "string",
          "description": "Token mint address on Solana",
          "pattern": "^[1-9A-HJ-NP-Za-km-z]{32,44}$"
        },
        "decimals": {
          "type": "integer",
          "description": "Number of decimal places",
          "minimum": 0,
          "maximum": 18
        },
        "logoURI": {
          "type": "string",
          "format": "uri",
          "description": "Optional token logo URL"
        }
      }
    },
    "PriceRange": {
      "type": "object",
      "required": ["min", "max", "current"],
      "properties": {
        "min": {
          "type": "number",
          "description": "Minimum price boundary (lower tick)",
          "minimum": 0
        },
        "max": {
          "type": "number",
          "description": "Maximum price boundary (upper tick)",
          "minimum": 0
        },
        "current": {
          "type": "number",
          "description": "Current market price",
          "minimum": 0
        }
      }
    },
    "PositionStatus": {
      "type": "object",
      "required": ["inRange", "autoCompound"],
      "properties": {
        "inRange": {
          "type": "boolean",
          "description": "True if current price is within range"
        },
        "autoCompound": {
          "type": "boolean",
          "description": "True if auto-compounding is enabled"
        }
      }
    },
    "PooledAssets": {
      "type": "object",
      "required": ["tokenAAmount", "tokenBAmount", "totalValueUSD"],
      "properties": {
        "tokenAAmount": {
          "type": "number",
          "description": "Current amount of token A in pool",
          "minimum": 0
        },
        "tokenBAmount": {
          "type": "number",
          "description": "Current amount of token B in pool",
          "minimum": 0
        },
        "totalValueUSD": {
          "type": "number",
          "description": "Total USD value of pooled assets",
          "minimum": 0
        }
      }
    },
    "InitialAssets": {
      "type": "object",
      "required": ["tokenAAmount", "tokenBAmount", "timestamp"],
      "properties": {
        "tokenAAmount": {
          "type": "number",
          "description": "Initial amount of token A at position creation",
          "minimum": 0
        },
        "tokenBAmount": {
          "type": "number",
          "description": "Initial amount of token B at position creation",
          "minimum": 0
        },
        "timestamp": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp when position was created"
        }
      }
    },
    "PositionMetrics": {
      "type": "object",
      "required": [
        "totalPnL",
        "roi",
        "impermanentLoss",
        "totalAPR",
        "feeAPR",
        "gasCosts",
        "netProfit",
        "ageInDays"
      ],
      "properties": {
        "totalPnL": {
          "type": "number",
          "description": "Total profit/loss in USD (LP value vs HODL value)"
        },
        "roi": {
          "type": "number",
          "description": "Return on Investment as percentage"
        },
        "impermanentLoss": {
          "type": "number",
          "description": "Impermanent Loss in USD (negative = loss)"
        },
        "totalAPR": {
          "type": "number",
          "description": "Total Annual Percentage Rate",
          "minimum": 0
        },
        "feeAPR": {
          "type": "number",
          "description": "Fee-only Annual Percentage Rate",
          "minimum": 0
        },
        "gasCosts": {
          "type": "number",
          "description": "Total gas costs in USD",
          "minimum": 0
        },
        "netProfit": {
          "type": "number",
          "description": "Net profit after fees and gas costs in USD"
        },
        "ageInDays": {
          "type": "integer",
          "description": "Position age in days",
          "minimum": 0
        }
      }
    },
    "FeeMetrics": {
      "type": "object",
      "required": ["totalEarned", "uncollected", "daily", "weekly", "monthly"],
      "properties": {
        "totalEarned": {
          "type": "number",
          "description": "Total fees earned (lifetime) in USD",
          "minimum": 0
        },
        "uncollected": {
          "type": "number",
          "description": "Uncollected fees (not yet claimed) in USD",
          "minimum": 0
        },
        "daily": {
          "type": "number",
          "description": "Daily fees (average over last 7 days) in USD",
          "minimum": 0
        },
        "weekly": {
          "type": "number",
          "description": "Weekly fees (last 7 days total) in USD",
          "minimum": 0
        },
        "monthly": {
          "type": "number",
          "description": "Monthly fees (last 30 days total) in USD",
          "minimum": 0
        }
      }
    },
    "HistoricalData": {
      "type": "object",
      "required": ["prices", "volume", "fees", "liquidityDistribution"],
      "properties": {
        "prices": {
          "type": "array",
          "description": "Price history (30 days, hourly intervals)",
          "items": {
            "$ref": "#/definitions/PriceDataPoint"
          },
          "minItems": 1,
          "maxItems": 720
        },
        "volume": {
          "type": "array",
          "description": "Volume history (30 days, hourly intervals)",
          "items": {
            "$ref": "#/definitions/VolumeDataPoint"
          },
          "minItems": 1,
          "maxItems": 720
        },
        "fees": {
          "type": "array",
          "description": "Fee earnings history (30 days, daily intervals)",
          "items": {
            "$ref": "#/definitions/FeeDataPoint"
          },
          "minItems": 1,
          "maxItems": 30
        },
        "liquidityDistribution": {
          "type": "array",
          "description": "Liquidity distribution across price range",
          "items": {
            "$ref": "#/definitions/LiquidityDataPoint"
          },
          "minItems": 10,
          "maxItems": 100
        }
      }
    },
    "PriceDataPoint": {
      "type": "object",
      "required": ["timestamp", "price"],
      "properties": {
        "timestamp": {
          "type": "integer",
          "description": "Unix timestamp in milliseconds",
          "minimum": 0
        },
        "price": {
          "type": "number",
          "description": "Price at this timestamp",
          "minimum": 0
        }
      }
    },
    "VolumeDataPoint": {
      "type": "object",
      "required": ["timestamp", "volume"],
      "properties": {
        "timestamp": {
          "type": "integer",
          "description": "Unix timestamp in milliseconds",
          "minimum": 0
        },
        "volume": {
          "type": "number",
          "description": "Trading volume in USD",
          "minimum": 0
        }
      }
    },
    "FeeDataPoint": {
      "type": "object",
      "required": ["timestamp", "fees"],
      "properties": {
        "timestamp": {
          "type": "integer",
          "description": "Unix timestamp in milliseconds",
          "minimum": 0
        },
        "fees": {
          "type": "number",
          "description": "Fees earned in USD",
          "minimum": 0
        }
      }
    },
    "LiquidityDataPoint": {
      "type": "object",
      "required": ["price", "liquidity"],
      "properties": {
        "price": {
          "type": "number",
          "description": "Price bucket (range min)",
          "minimum": 0
        },
        "liquidity": {
          "type": "number",
          "description": "Liquidity amount at this price level in USD",
          "minimum": 0
        }
      }
    }
  }
}
